var Pw=t=>{throw TypeError(t)};var Mf=(t,e,n)=>e.has(t)||Pw("Cannot "+n);var B=(t,e,n)=>(Mf(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?Pw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,r)=>(Mf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),jt=(t,e,n)=>(Mf(t,e,"access private method"),n);var du=(t,e,n,r)=>({set _(s){ve(t,e,s,n)},get _(){return B(t,e,r)}});function _P(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function k1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N1={exports:{}},Eh={},D1={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),EP=Symbol.for("react.portal"),xP=Symbol.for("react.fragment"),TP=Symbol.for("react.strict_mode"),SP=Symbol.for("react.profiler"),IP=Symbol.for("react.provider"),CP=Symbol.for("react.context"),AP=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),PP=Symbol.for("react.memo"),RP=Symbol.for("react.lazy"),Rw=Symbol.iterator;function kP(t){return t===null||typeof t!="object"?null:(t=Rw&&t[Rw]||t["@@iterator"],typeof t=="function"?t:null)}var O1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V1=Object.assign,M1={};function ka(t,e,n){this.props=t,this.context=e,this.refs=M1,this.updater=n||O1}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L1(){}L1.prototype=ka.prototype;function Sg(t,e,n){this.props=t,this.context=e,this.refs=M1,this.updater=n||O1}var Ig=Sg.prototype=new L1;Ig.constructor=Sg;V1(Ig,ka.prototype);Ig.isPureReactComponent=!0;var kw=Array.isArray,F1=Object.prototype.hasOwnProperty,Cg={current:null},j1={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)F1.call(e,r)&&!j1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Pc,type:t,key:i,ref:o,props:s,_owner:Cg.current}}function NP(t,e){return{$$typeof:Pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pc}function DP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nw=/\/+/g;function Lf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DP(""+t.key):e.toString(36)}function Wu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pc:case EP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Lf(o,0):r,kw(s)?(n="",t!=null&&(n=t.replace(Nw,"$&/")+"/"),Wu(s,e,n,"",function(u){return u})):s!=null&&(Ag(s)&&(s=NP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",kw(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Lf(i,a);o+=Wu(i,e,n,c,s)}else if(c=kP(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Lf(i,a++),o+=Wu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hu(t,e,n){if(t==null)return t;var r=[],s=0;return Wu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function OP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Hu={transition:null},VP={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:Cg};function $1(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:hu,forEach:function(t,e,n){hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hu(t,function(){e++}),e},toArray:function(t){return hu(t,function(e){return e})||[]},only:function(t){if(!Ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=ka;xe.Fragment=xP;xe.Profiler=SP;xe.PureComponent=Sg;xe.StrictMode=TP;xe.Suspense=bP;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;xe.act=$1;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)F1.call(e,c)&&!j1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pc,type:t.type,key:s,ref:i,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:CP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IP,_context:t},t.Consumer=t};xe.createElement=U1;xe.createFactory=function(t){var e=U1.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:AP,render:t}};xe.isValidElement=Ag;xe.lazy=function(t){return{$$typeof:RP,_payload:{_status:-1,_result:t},_init:OP}};xe.memo=function(t,e){return{$$typeof:PP,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};xe.unstable_act=$1;xe.useCallback=function(t,e){return rn.current.useCallback(t,e)};xe.useContext=function(t){return rn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return rn.current.useEffect(t,e)};xe.useId=function(){return rn.current.useId()};xe.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return rn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};xe.useRef=function(t){return rn.current.useRef(t)};xe.useState=function(t){return rn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return rn.current.useTransition()};xe.version="18.3.1";D1.exports=xe;var S=D1.exports;const G=k1(S),bg=_P({__proto__:null,default:G},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP=S,LP=Symbol.for("react.element"),FP=Symbol.for("react.fragment"),jP=Object.prototype.hasOwnProperty,UP=MP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$P={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jP.call(e,r)&&!$P.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:LP,type:t,key:i,ref:o,props:s,_owner:UP.current}}Eh.Fragment=FP;Eh.jsx=B1;Eh.jsxs=B1;N1.exports=Eh;var g=N1.exports,z1={exports:{}},Pn={},W1={exports:{}},H1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,z){var ee=U.length;U.push(z);e:for(;0<ee;){var pe=ee-1>>>1,se=U[pe];if(0<s(se,z))U[pe]=z,U[ee]=se,ee=pe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],ee=U.pop();if(ee!==z){U[0]=ee;e:for(var pe=0,se=U.length,ce=se>>>1;pe<ce;){var _e=2*(pe+1)-1,De=U[_e],at=_e+1,Ee=U[at];if(0>s(De,ee))at<se&&0>s(Ee,De)?(U[pe]=Ee,U[at]=ee,pe=at):(U[pe]=De,U[_e]=ee,pe=_e);else if(at<se&&0>s(Ee,ee))U[pe]=Ee,U[at]=ee,pe=at;else break e}}return z}function s(U,z){var ee=U.sortIndex-z.sortIndex;return ee!==0?ee:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,p=3,m=!1,T=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=U)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function N(U){if(w=!1,x(U),!T)if(n(c)!==null)T=!0,ie(O);else{var z=n(u);z!==null&&ae(N,z.startTime-U)}}function O(U,z){T=!1,w&&(w=!1,_(I),I=-1),m=!0;var ee=p;try{for(x(z),h=n(c);h!==null&&(!(h.expirationTime>z)||U&&!D());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var se=pe(h.expirationTime<=z);z=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(c)&&r(c),x(z)}else r(c);h=n(c)}if(h!==null)var ce=!0;else{var _e=n(u);_e!==null&&ae(N,_e.startTime-z),ce=!1}return ce}finally{h=null,p=ee,m=!1}}var L=!1,C=null,I=-1,b=5,R=-1;function D(){return!(t.unstable_now()-R<b)}function k(){if(C!==null){var U=t.unstable_now();R=U;var z=!0;try{z=C(!0,U)}finally{z?P():(L=!1,C=null)}}else L=!1}var P;if(typeof v=="function")P=function(){v(k)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,le=q.port2;q.port1.onmessage=k,P=function(){le.postMessage(null)}}else P=function(){E(k,0)};function ie(U){C=U,L||(L=!0,P())}function ae(U,z){I=E(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,ie(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var ee=p;p=z;try{return U()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=p;p=U;try{return z()}finally{p=ee}},t.unstable_scheduleCallback=function(U,z,ee){var pe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,U){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ee+se,U={id:d++,callback:z,priorityLevel:U,startTime:ee,expirationTime:se,sortIndex:-1},ee>pe?(U.sortIndex=ee,e(u,U),n(c)===null&&U===n(u)&&(w?(_(I),I=-1):w=!0,ae(N,ee-pe))):(U.sortIndex=se,e(c,U),T||m||(T=!0,ie(O))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var z=p;return function(){var ee=p;p=z;try{return U.apply(this,arguments)}finally{p=ee}}}})(H1);W1.exports=H1;var BP=W1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=S,bn=BP;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q1=new Set,Gl={};function fo(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Gl[t]=e,t=0;t<e.length;t++)q1.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jp=Object.prototype.hasOwnProperty,WP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dw={},Ow={};function HP(t){return jp.call(Ow,t)?!0:jp.call(Dw,t)?!1:WP.test(t)?Ow[t]=!0:(Dw[t]=!0,!1)}function qP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GP(t,e,n,r){if(e===null||typeof e>"u"||qP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pg=/[\-:]([a-z])/g;function Rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pg,Rg);Ot[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pg,Rg);Ot[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pg,Rg);Ot[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kg(t,e,n,r){var s=Ot.hasOwnProperty(e)?Ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GP(e,n,s,r)&&(n=null),r||s===null?HP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fu=Symbol.for("react.element"),No=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),G1=Symbol.for("react.provider"),K1=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),Q1=Symbol.for("react.offscreen"),Vw=Symbol.iterator;function il(t){return t===null||typeof t!="object"?null:(t=Vw&&t[Vw]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Ff;function yl(t){if(Ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var jf=!1;function Uf(t,e){if(!t||jf)return"";jf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{jf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yl(t):""}function KP(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=Uf(t.type,!1),t;case 11:return t=Uf(t.type.render,!1),t;case 1:return t=Uf(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case No:return"Portal";case Up:return"Profiler";case Ng:return"StrictMode";case $p:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K1:return(t.displayName||"Context")+".Consumer";case G1:return(t._context.displayName||"Context")+".Provider";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Og:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function QP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Y1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YP(t){var e=Y1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pu(t){t._valueTracker||(t._valueTracker=YP(t))}function X1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wp(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J1(t,e){e=e.checked,e!=null&&kg(t,"checked",e,!1)}function Hp(t,e){J1(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&qp(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qp(t,e,n){(e!=="number"||wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vl=Array.isArray;function Ho(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(vl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function Z1(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ex(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ex(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mu,tx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XP=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(t){XP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Al[e]=Al[t]})});function nx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Al.hasOwnProperty(t)&&Al[t]?(""+e).trim():e+"px"}function rx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var JP=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(t,e){if(e){if(JP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Yp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function Vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,qo=null,Go=null;function Uw(t){if(t=Nc(t)){if(typeof Jp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Ch(e),Jp(t.stateNode,t.type,e))}}function sx(t){qo?Go?Go.push(t):Go=[t]:qo=t}function ix(){if(qo){var t=qo,e=Go;if(Go=qo=null,Uw(t),e)for(t=0;t<e.length;t++)Uw(e[t])}}function ox(t,e){return t(e)}function ax(){}var $f=!1;function lx(t,e,n){if($f)return t(e,n);$f=!0;try{return ox(t,e,n)}finally{$f=!1,(qo!==null||Go!==null)&&(ax(),ix())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=Ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Zp=!1;if(os)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Zp=!1}function ZP(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var bl=!1,_d=null,Ed=!1,em=null,eR={onError:function(t){bl=!0,_d=t}};function tR(t,e,n,r,s,i,o,a,c){bl=!1,_d=null,ZP.apply(eR,arguments)}function nR(t,e,n,r,s,i,o,a,c){if(tR.apply(this,arguments),bl){if(bl){var u=_d;bl=!1,_d=null}else throw Error(K(198));Ed||(Ed=!0,em=u)}}function po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $w(t){if(po(t)!==t)throw Error(K(188))}function rR(t){var e=t.alternate;if(!e){if(e=po(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $w(s),t;if(i===r)return $w(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function ux(t){return t=rR(t),t!==null?dx(t):null}function dx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dx(t);if(e!==null)return e;t=t.sibling}return null}var hx=bn.unstable_scheduleCallback,Bw=bn.unstable_cancelCallback,sR=bn.unstable_shouldYield,iR=bn.unstable_requestPaint,st=bn.unstable_now,oR=bn.unstable_getCurrentPriorityLevel,Mg=bn.unstable_ImmediatePriority,fx=bn.unstable_UserBlockingPriority,xd=bn.unstable_NormalPriority,aR=bn.unstable_LowPriority,px=bn.unstable_IdlePriority,xh=null,kr=null;function lR(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(xh,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:dR,cR=Math.log,uR=Math.LN2;function dR(t){return t>>>=0,t===0?32:31-(cR(t)/uR|0)|0}var gu=64,yu=4194304;function wl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wl(a):(i&=o,i!==0&&(r=wl(i)))}else o=n&~s,o!==0?r=wl(o):i!==0&&(r=wl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ir(e),s=1<<n,r|=t[n],e&=~s;return r}function hR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ir(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=hR(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mx(){var t=gu;return gu<<=1,!(gu&4194240)&&(gu=64),t}function Bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=n}function pR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ir(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Lg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ir(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Oe=0;function gx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yx,Fg,vx,wx,_x,nm=!1,vu=[],Ys=null,Xs=null,Js=null,Yl=new Map,Xl=new Map,Ds=[],mR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zw(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(e.pointerId)}}function al(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nc(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gR(t,e,n,r,s){switch(e){case"focusin":return Ys=al(Ys,t,e,n,r,s),!0;case"dragenter":return Xs=al(Xs,t,e,n,r,s),!0;case"mouseover":return Js=al(Js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yl.set(i,al(Yl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xl.set(i,al(Xl.get(i)||null,t,e,n,r,s)),!0}return!1}function Ex(t){var e=Li(t.target);if(e!==null){var n=po(e);if(n!==null){if(e=n.tag,e===13){if(e=cx(n),e!==null){t.blockedOn=e,_x(t.priority,function(){vx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xp=r,n.target.dispatchEvent(r),Xp=null}else return e=Nc(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function Ww(t,e,n){qu(t)&&n.delete(e)}function yR(){nm=!1,Ys!==null&&qu(Ys)&&(Ys=null),Xs!==null&&qu(Xs)&&(Xs=null),Js!==null&&qu(Js)&&(Js=null),Yl.forEach(Ww),Xl.forEach(Ww)}function ll(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,yR)))}function Jl(t){function e(s){return ll(s,t)}if(0<vu.length){ll(vu[0],t);for(var n=1;n<vu.length;n++){var r=vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ys!==null&&ll(Ys,t),Xs!==null&&ll(Xs,t),Js!==null&&ll(Js,t),Yl.forEach(e),Xl.forEach(e),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)Ex(n),n.blockedOn===null&&Ds.shift()}var Ko=ys.ReactCurrentBatchConfig,Sd=!0;function vR(t,e,n,r){var s=Oe,i=Ko.transition;Ko.transition=null;try{Oe=1,jg(t,e,n,r)}finally{Oe=s,Ko.transition=i}}function wR(t,e,n,r){var s=Oe,i=Ko.transition;Ko.transition=null;try{Oe=4,jg(t,e,n,r)}finally{Oe=s,Ko.transition=i}}function jg(t,e,n,r){if(Sd){var s=rm(t,e,n,r);if(s===null)Jf(t,e,r,Id,n),zw(t,r);else if(gR(s,t,e,n,r))r.stopPropagation();else if(zw(t,r),e&4&&-1<mR.indexOf(t)){for(;s!==null;){var i=Nc(s);if(i!==null&&yx(i),i=rm(t,e,n,r),i===null&&Jf(t,e,r,Id,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jf(t,e,r,null,n)}}var Id=null;function rm(t,e,n,r){if(Id=null,t=Vg(r),t=Li(t),t!==null)if(e=po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Id=t,null}function xx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oR()){case Mg:return 1;case fx:return 4;case xd:case aR:return 16;case px:return 536870912;default:return 16}default:return 16}}var qs=null,Ug=null,Gu=null;function Tx(){if(Gu)return Gu;var t,e=Ug,n=e.length,r,s="value"in qs?qs.value:qs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gu=s.slice(t,1<r?1-r:void 0)}function Ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wu(){return!0}function Hw(){return!1}function Rn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wu:Hw,this.isPropagationStopped=Hw,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),e}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=Rn(Na),kc=Ye({},Na,{view:0,detail:0}),_R=Rn(kc),zf,Wf,cl,Th=Ye({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cl&&(cl&&t.type==="mousemove"?(zf=t.screenX-cl.screenX,Wf=t.screenY-cl.screenY):Wf=zf=0,cl=t),zf)},movementY:function(t){return"movementY"in t?t.movementY:Wf}}),qw=Rn(Th),ER=Ye({},Th,{dataTransfer:0}),xR=Rn(ER),TR=Ye({},kc,{relatedTarget:0}),Hf=Rn(TR),SR=Ye({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),IR=Rn(SR),CR=Ye({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AR=Rn(CR),bR=Ye({},Na,{data:0}),Gw=Rn(bR),PR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kR[t])?!!e[t]:!1}function Bg(){return NR}var DR=Ye({},kc,{key:function(t){if(t.key){var e=PR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(t){return t.type==="keypress"?Ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OR=Rn(DR),VR=Ye({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kw=Rn(VR),MR=Ye({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),LR=Rn(MR),FR=Ye({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),jR=Rn(FR),UR=Ye({},Th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$R=Rn(UR),BR=[9,13,27,32],zg=os&&"CompositionEvent"in window,Pl=null;os&&"documentMode"in document&&(Pl=document.documentMode);var zR=os&&"TextEvent"in window&&!Pl,Sx=os&&(!zg||Pl&&8<Pl&&11>=Pl),Qw=" ",Yw=!1;function Ix(t,e){switch(t){case"keyup":return BR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function WR(t,e){switch(t){case"compositionend":return Cx(e);case"keypress":return e.which!==32?null:(Yw=!0,Qw);case"textInput":return t=e.data,t===Qw&&Yw?null:t;default:return null}}function HR(t,e){if(Oo)return t==="compositionend"||!zg&&Ix(t,e)?(t=Tx(),Gu=Ug=qs=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sx&&e.locale!=="ko"?null:e.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qR[t.type]:e==="textarea"}function Ax(t,e,n,r){sx(r),e=Cd(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rl=null,Zl=null;function GR(t){Fx(t,0)}function Sh(t){var e=Lo(t);if(X1(e))return t}function KR(t,e){if(t==="change")return e}var bx=!1;if(os){var qf;if(os){var Gf="oninput"in document;if(!Gf){var Jw=document.createElement("div");Jw.setAttribute("oninput","return;"),Gf=typeof Jw.oninput=="function"}qf=Gf}else qf=!1;bx=qf&&(!document.documentMode||9<document.documentMode)}function Zw(){Rl&&(Rl.detachEvent("onpropertychange",Px),Zl=Rl=null)}function Px(t){if(t.propertyName==="value"&&Sh(Zl)){var e=[];Ax(e,Zl,t,Vg(t)),lx(GR,e)}}function QR(t,e,n){t==="focusin"?(Zw(),Rl=e,Zl=n,Rl.attachEvent("onpropertychange",Px)):t==="focusout"&&Zw()}function YR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sh(Zl)}function XR(t,e){if(t==="click")return Sh(e)}function JR(t,e){if(t==="input"||t==="change")return Sh(e)}function ZR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:ZR;function ec(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jp.call(e,s)||!lr(t[s],e[s]))return!1}return!0}function e_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t_(t,e){var n=e_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e_(n)}}function Rx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kx(){for(var t=window,e=wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wd(t.document)}return e}function Wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ek(t){var e=kx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rx(n.ownerDocument.documentElement,n)){if(r!==null&&Wg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=t_(n,i);var o=t_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tk=os&&"documentMode"in document&&11>=document.documentMode,Vo=null,sm=null,kl=null,im=!1;function n_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;im||Vo==null||Vo!==wd(r)||(r=Vo,"selectionStart"in r&&Wg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&ec(kl,r)||(kl=r,r=Cd(sm,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vo)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Kf={},Nx={};os&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Ih(t){if(Kf[t])return Kf[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nx)return Kf[t]=e[n];return t}var Dx=Ih("animationend"),Ox=Ih("animationiteration"),Vx=Ih("animationstart"),Mx=Ih("transitionend"),Lx=new Map,r_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){Lx.set(t,e),fo(e,[t])}for(var Qf=0;Qf<r_.length;Qf++){var Yf=r_[Qf],nk=Yf.toLowerCase(),rk=Yf[0].toUpperCase()+Yf.slice(1);Ei(nk,"on"+rk)}Ei(Dx,"onAnimationEnd");Ei(Ox,"onAnimationIteration");Ei(Vx,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(Mx,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function s_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nR(r,e,void 0,t),t.currentTarget=null}function Fx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;s_(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;s_(s,a,u),i=c}}}if(Ed)throw t=em,Ed=!1,em=null,t}function $e(t,e){var n=e[um];n===void 0&&(n=e[um]=new Set);var r=t+"__bubble";n.has(r)||(jx(e,t,2,!1),n.add(r))}function Xf(t,e,n){var r=0;e&&(r|=4),jx(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function tc(t){if(!t[Eu]){t[Eu]=!0,q1.forEach(function(n){n!=="selectionchange"&&(sk.has(n)||Xf(n,!1,t),Xf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,Xf("selectionchange",!1,e))}}function jx(t,e,n,r){switch(xx(e)){case 1:var s=vR;break;case 4:s=wR;break;default:s=jg}n=s.bind(null,e,n,t),s=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}lx(function(){var u=i,d=Vg(n),h=[];e:{var p=Lx.get(t);if(p!==void 0){var m=$g,T=t;switch(t){case"keypress":if(Ku(n)===0)break e;case"keydown":case"keyup":m=OR;break;case"focusin":T="focus",m=Hf;break;case"focusout":T="blur",m=Hf;break;case"beforeblur":case"afterblur":m=Hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LR;break;case Dx:case Ox:case Vx:m=IR;break;case Mx:m=jR;break;case"scroll":m=_R;break;case"wheel":m=$R;break;case"copy":case"cut":case"paste":m=AR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Kw}var w=(e&4)!==0,E=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var v=u,x;v!==null;){x=v;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,_!==null&&(N=Ql(v,_),N!=null&&w.push(nc(v,N,x)))),E)break;v=v.return}0<w.length&&(p=new m(p,T,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Xp&&(T=n.relatedTarget||n.fromElement)&&(Li(T)||T[as]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=u,T=T?Li(T):null,T!==null&&(E=po(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=u),m!==T)){if(w=qw,N="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Kw,N="onPointerLeave",_="onPointerEnter",v="pointer"),E=m==null?p:Lo(m),x=T==null?p:Lo(T),p=new w(N,v+"leave",m,n,d),p.target=E,p.relatedTarget=x,N=null,Li(d)===u&&(w=new w(_,v+"enter",T,n,d),w.target=x,w.relatedTarget=E,N=w),E=N,m&&T)t:{for(w=m,_=T,v=0,x=w;x;x=To(x))v++;for(x=0,N=_;N;N=To(N))x++;for(;0<v-x;)w=To(w),v--;for(;0<x-v;)_=To(_),x--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=To(w),_=To(_)}w=null}else w=null;m!==null&&i_(h,p,m,w,!1),T!==null&&E!==null&&i_(h,E,T,w,!0)}}e:{if(p=u?Lo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=KR;else if(Xw(p))if(bx)O=JR;else{O=YR;var L=QR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=XR);if(O&&(O=O(t,u))){Ax(h,O,n,d);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&qp(p,"number",p.value)}switch(L=u?Lo(u):window,t){case"focusin":(Xw(L)||L.contentEditable==="true")&&(Vo=L,sm=u,kl=null);break;case"focusout":kl=sm=Vo=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,n_(h,n,d);break;case"selectionchange":if(tk)break;case"keydown":case"keyup":n_(h,n,d)}var C;if(zg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Oo?Ix(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Sx&&n.locale!=="ko"&&(Oo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Oo&&(C=Tx()):(qs=d,Ug="value"in qs?qs.value:qs.textContent,Oo=!0)),L=Cd(u,I),0<L.length&&(I=new Gw(I,t,null,n,d),h.push({event:I,listeners:L}),C?I.data=C:(C=Cx(n),C!==null&&(I.data=C)))),(C=zR?WR(t,n):HR(t,n))&&(u=Cd(u,"onBeforeInput"),0<u.length&&(d=new Gw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Fx(h,e)})}function nc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ql(t,n),i!=null&&r.unshift(nc(t,i,s)),i=Ql(t,e),i!=null&&r.push(nc(t,i,s))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ql(n,i),c!=null&&o.unshift(nc(n,c,a))):s||(c=Ql(n,i),c!=null&&o.push(nc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ik=/\r\n?/g,ok=/\u0000|\uFFFD/g;function o_(t){return(typeof t=="string"?t:""+t).replace(ik,`
`).replace(ok,"")}function xu(t,e,n){if(e=o_(e),o_(t)!==e&&n)throw Error(K(425))}function Ad(){}var om=null,am=null;function lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cm=typeof setTimeout=="function"?setTimeout:void 0,ak=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,lk=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(ck)}:cm;function ck(t){setTimeout(function(){throw t})}function Zf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jl(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Da,rc="__reactProps$"+Da,as="__reactContainer$"+Da,um="__reactEvents$"+Da,uk="__reactListeners$"+Da,dk="__reactHandles$"+Da;function Li(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l_(t);t!==null;){if(n=t[Ir])return n;t=l_(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){return t=t[Ir]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Ch(t){return t[rc]||null}var dm=[],Fo=-1;function xi(t){return{current:t}}function ze(t){0>Fo||(t.current=dm[Fo],dm[Fo]=null,Fo--)}function Fe(t,e){Fo++,dm[Fo]=t.current,t.current=e}var hi={},Gt=xi(hi),gn=xi(!1),Zi=hi;function fa(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yn(t){return t=t.childContextTypes,t!=null}function bd(){ze(gn),ze(Gt)}function c_(t,e,n){if(Gt.current!==hi)throw Error(K(168));Fe(Gt,e),Fe(gn,n)}function Ux(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,QP(t)||"Unknown",s));return Ye({},n,r)}function Pd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Zi=Gt.current,Fe(Gt,t),Fe(gn,gn.current),!0}function u_(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=Ux(t,e,Zi),r.__reactInternalMemoizedMergedChildContext=t,ze(gn),ze(Gt),Fe(Gt,t)):ze(gn),Fe(gn,n)}var Zr=null,Ah=!1,ep=!1;function $x(t){Zr===null?Zr=[t]:Zr.push(t)}function hk(t){Ah=!0,$x(t)}function Ti(){if(!ep&&Zr!==null){ep=!0;var t=0,e=Oe;try{var n=Zr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,Ah=!1}catch(s){throw Zr!==null&&(Zr=Zr.slice(t+1)),hx(Mg,Ti),s}finally{Oe=e,ep=!1}}return null}var jo=[],Uo=0,Rd=null,kd=0,Mn=[],Ln=0,eo=null,ts=1,ns="";function Oi(t,e){jo[Uo++]=kd,jo[Uo++]=Rd,Rd=t,kd=e}function Bx(t,e,n){Mn[Ln++]=ts,Mn[Ln++]=ns,Mn[Ln++]=eo,eo=t;var r=ts;t=ns;var s=32-ir(r)-1;r&=~(1<<s),n+=1;var i=32-ir(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ts=1<<32-ir(e)+s|n<<s|r,ns=i+t}else ts=1<<i|n<<s|r,ns=t}function Hg(t){t.return!==null&&(Oi(t,1),Bx(t,1,0))}function qg(t){for(;t===Rd;)Rd=jo[--Uo],jo[Uo]=null,kd=jo[--Uo],jo[Uo]=null;for(;t===eo;)eo=Mn[--Ln],Mn[Ln]=null,ns=Mn[--Ln],Mn[Ln]=null,ts=Mn[--Ln],Mn[Ln]=null}var Cn=null,Sn=null,qe=!1,er=null;function zx(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:ts,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,Sn=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fm(t){if(qe){var e=Sn;if(e){var n=e;if(!d_(t,e)){if(hm(t))throw Error(K(418));e=Zs(n.nextSibling);var r=Cn;e&&d_(t,e)?zx(r,n):(t.flags=t.flags&-4097|2,qe=!1,Cn=t)}}else{if(hm(t))throw Error(K(418));t.flags=t.flags&-4097|2,qe=!1,Cn=t}}}function h_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function Tu(t){if(t!==Cn)return!1;if(!qe)return h_(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lm(t.type,t.memoizedProps)),e&&(e=Sn)){if(hm(t))throw Wx(),Error(K(418));for(;e;)zx(t,e),e=Zs(e.nextSibling)}if(h_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=Cn?Zs(t.stateNode.nextSibling):null;return!0}function Wx(){for(var t=Sn;t;)t=Zs(t.nextSibling)}function pa(){Sn=Cn=null,qe=!1}function Gg(t){er===null?er=[t]:er.push(t)}var fk=ys.ReactCurrentBatchConfig;function ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Su(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function f_(t){var e=t._init;return e(t._payload)}function Hx(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=ri(_,v),_.index=0,_.sibling=null,_}function i(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,N){return v===null||v.tag!==6?(v=ap(x,_.mode,N),v.return=_,v):(v=s(v,x),v.return=_,v)}function c(_,v,x,N){var O=x.type;return O===Do?d(_,v,x.props.children,N,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ks&&f_(O)===v.type)?(N=s(v,x.props),N.ref=ul(_,v,x),N.return=_,N):(N=td(x.type,x.key,x.props,null,_.mode,N),N.ref=ul(_,v,x),N.return=_,N)}function u(_,v,x,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=lp(x,_.mode,N),v.return=_,v):(v=s(v,x.children||[]),v.return=_,v)}function d(_,v,x,N,O){return v===null||v.tag!==7?(v=Qi(x,_.mode,N,O),v.return=_,v):(v=s(v,x),v.return=_,v)}function h(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ap(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fu:return x=td(v.type,v.key,v.props,null,_.mode,x),x.ref=ul(_,null,v),x.return=_,x;case No:return v=lp(v,_.mode,x),v.return=_,v;case ks:var N=v._init;return h(_,N(v._payload),x)}if(vl(v)||il(v))return v=Qi(v,_.mode,x,null),v.return=_,v;Su(_,v)}return null}function p(_,v,x,N){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(_,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fu:return x.key===O?c(_,v,x,N):null;case No:return x.key===O?u(_,v,x,N):null;case ks:return O=x._init,p(_,v,O(x._payload),N)}if(vl(x)||il(x))return O!==null?null:d(_,v,x,N,null);Su(_,x)}return null}function m(_,v,x,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(x)||null,a(v,_,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case fu:return _=_.get(N.key===null?x:N.key)||null,c(v,_,N,O);case No:return _=_.get(N.key===null?x:N.key)||null,u(v,_,N,O);case ks:var L=N._init;return m(_,v,x,L(N._payload),O)}if(vl(N)||il(N))return _=_.get(x)||null,d(v,_,N,O,null);Su(v,N)}return null}function T(_,v,x,N){for(var O=null,L=null,C=v,I=v=0,b=null;C!==null&&I<x.length;I++){C.index>I?(b=C,C=null):b=C.sibling;var R=p(_,C,x[I],N);if(R===null){C===null&&(C=b);break}t&&C&&R.alternate===null&&e(_,C),v=i(R,v,I),L===null?O=R:L.sibling=R,L=R,C=b}if(I===x.length)return n(_,C),qe&&Oi(_,I),O;if(C===null){for(;I<x.length;I++)C=h(_,x[I],N),C!==null&&(v=i(C,v,I),L===null?O=C:L.sibling=C,L=C);return qe&&Oi(_,I),O}for(C=r(_,C);I<x.length;I++)b=m(C,_,I,x[I],N),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?I:b.key),v=i(b,v,I),L===null?O=b:L.sibling=b,L=b);return t&&C.forEach(function(D){return e(_,D)}),qe&&Oi(_,I),O}function w(_,v,x,N){var O=il(x);if(typeof O!="function")throw Error(K(150));if(x=O.call(x),x==null)throw Error(K(151));for(var L=O=null,C=v,I=v=0,b=null,R=x.next();C!==null&&!R.done;I++,R=x.next()){C.index>I?(b=C,C=null):b=C.sibling;var D=p(_,C,R.value,N);if(D===null){C===null&&(C=b);break}t&&C&&D.alternate===null&&e(_,C),v=i(D,v,I),L===null?O=D:L.sibling=D,L=D,C=b}if(R.done)return n(_,C),qe&&Oi(_,I),O;if(C===null){for(;!R.done;I++,R=x.next())R=h(_,R.value,N),R!==null&&(v=i(R,v,I),L===null?O=R:L.sibling=R,L=R);return qe&&Oi(_,I),O}for(C=r(_,C);!R.done;I++,R=x.next())R=m(C,_,I,R.value,N),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),v=i(R,v,I),L===null?O=R:L.sibling=R,L=R);return t&&C.forEach(function(k){return e(_,k)}),qe&&Oi(_,I),O}function E(_,v,x,N){if(typeof x=="object"&&x!==null&&x.type===Do&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case fu:e:{for(var O=x.key,L=v;L!==null;){if(L.key===O){if(O=x.type,O===Do){if(L.tag===7){n(_,L.sibling),v=s(L,x.props.children),v.return=_,_=v;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ks&&f_(O)===L.type){n(_,L.sibling),v=s(L,x.props),v.ref=ul(_,L,x),v.return=_,_=v;break e}n(_,L);break}else e(_,L);L=L.sibling}x.type===Do?(v=Qi(x.props.children,_.mode,N,x.key),v.return=_,_=v):(N=td(x.type,x.key,x.props,null,_.mode,N),N.ref=ul(_,v,x),N.return=_,_=N)}return o(_);case No:e:{for(L=x.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=s(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=lp(x,_.mode,N),v.return=_,_=v}return o(_);case ks:return L=x._init,E(_,v,L(x._payload),N)}if(vl(x))return T(_,v,x,N);if(il(x))return w(_,v,x,N);Su(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,x),v.return=_,_=v):(n(_,v),v=ap(x,_.mode,N),v.return=_,_=v),o(_)):n(_,v)}return E}var ma=Hx(!0),qx=Hx(!1),Nd=xi(null),Dd=null,$o=null,Kg=null;function Qg(){Kg=$o=Dd=null}function Yg(t){var e=Nd.current;ze(Nd),t._currentValue=e}function pm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){Dd=t,Kg=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(Kg!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(Dd===null)throw Error(K(308));$o=t,Dd.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Fi=null;function Xg(t){Fi===null?Fi=[t]:Fi.push(t)}function Gx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xg(e)):(n.next=s.next,s.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function Jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ls(t,n)}return s=r.interleaved,s===null?(e.next=e,Xg(r)):(e.next=s.next,s.next=e),r.interleaved=e,ls(t,n)}function Qu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lg(t,n)}}function p_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Od(t,e,n,r){var s=t.updateQueue;Ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(p=e,m=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){h=T.call(m,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,p=typeof T=="function"?T.call(m,h,p):T,p==null)break e;h=Ye({},h,p);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);no|=o,t.lanes=o,t.memoizedState=h}}function m_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Dc={},Nr=xi(Dc),sc=xi(Dc),ic=xi(Dc);function ji(t){if(t===Dc)throw Error(K(174));return t}function Zg(t,e){switch(Fe(ic,e),Fe(sc,t),Fe(Nr,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}ze(Nr),Fe(Nr,e)}function ga(){ze(Nr),ze(sc),ze(ic)}function Qx(t){ji(ic.current);var e=ji(Nr.current),n=Kp(e,t.type);e!==n&&(Fe(sc,t),Fe(Nr,n))}function ey(t){sc.current===t&&(ze(Nr),ze(sc))}var Ke=xi(0);function Vd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tp=[];function ty(){for(var t=0;t<tp.length;t++)tp[t]._workInProgressVersionPrimary=null;tp.length=0}var Yu=ys.ReactCurrentDispatcher,np=ys.ReactCurrentBatchConfig,to=0,Qe=null,mt=null,Tt=null,Md=!1,Nl=!1,oc=0,pk=0;function Ut(){throw Error(K(321))}function ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function ry(t,e,n,r,s,i){if(to=i,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yu.current=t===null||t.memoizedState===null?vk:wk,t=n(r,s),Nl){i=0;do{if(Nl=!1,oc=0,25<=i)throw Error(K(301));i+=1,Tt=mt=null,e.updateQueue=null,Yu.current=_k,t=n(r,s)}while(Nl)}if(Yu.current=Ld,e=mt!==null&&mt.next!==null,to=0,Tt=mt=Qe=null,Md=!1,e)throw Error(K(300));return t}function sy(){var t=oc!==0;return oc=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Qe.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Bn(){if(mt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Tt===null?Qe.memoizedState:Tt.next;if(e!==null)Tt=e,mt=t;else{if(t===null)throw Error(K(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?Qe.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function ac(t,e){return typeof e=="function"?e(t):e}function rp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((to&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,Qe.lanes|=d,no|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,lr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Qe.lanes|=i,no|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);lr(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Yx(){}function Xx(t,e){var n=Qe,r=Bn(),s=e(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,mn=!0),r=r.queue,iy(eT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,lc(9,Zx.bind(null,n,r,s,e),void 0,null),It===null)throw Error(K(349));to&30||Jx(n,e,s)}return s}function Jx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zx(t,e,n,r){e.value=n,e.getSnapshot=r,tT(e)&&nT(t)}function eT(t,e,n){return n(function(){tT(e)&&nT(t)})}function tT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function nT(t){var e=ls(t,1);e!==null&&or(e,t,1,-1)}function g_(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:t},e.queue=t,t=t.dispatch=yk.bind(null,Qe,t),[e.memoizedState,t]}function lc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rT(){return Bn().memoizedState}function Xu(t,e,n,r){var s=wr();Qe.flags|=t,s.memoizedState=lc(1|e,n,void 0,r===void 0?null:r)}function bh(t,e,n,r){var s=Bn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&ny(r,o.deps)){s.memoizedState=lc(e,n,i,r);return}}Qe.flags|=t,s.memoizedState=lc(1|e,n,i,r)}function y_(t,e){return Xu(8390656,8,t,e)}function iy(t,e){return bh(2048,8,t,e)}function sT(t,e){return bh(4,2,t,e)}function iT(t,e){return bh(4,4,t,e)}function oT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aT(t,e,n){return n=n!=null?n.concat([t]):null,bh(4,4,oT.bind(null,e,t),n)}function oy(){}function lT(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cT(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uT(t,e,n){return to&21?(lr(n,e)||(n=mx(),Qe.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function mk(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=np.transition;np.transition={};try{t(!1),e()}finally{Oe=n,np.transition=r}}function dT(){return Bn().memoizedState}function gk(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hT(t))fT(e,n);else if(n=Gx(t,e,n,r),n!==null){var s=tn();or(n,t,r,s),pT(n,e,r)}}function yk(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hT(t))fT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,lr(a,o)){var c=e.interleaved;c===null?(s.next=s,Xg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Gx(t,e,s,r),n!==null&&(s=tn(),or(n,t,r,s),pT(n,e,r))}}function hT(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function fT(t,e){Nl=Md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lg(t,n)}}var Ld={readContext:$n,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},vk={readContext:$n,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:y_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xu(4194308,4,oT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xu(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gk.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:g_,useDebugValue:oy,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=g_(!1),e=t[0];return t=mk.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,s=wr();if(qe){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),It===null)throw Error(K(349));to&30||Jx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,y_(eT.bind(null,r,i,t),[t]),r.flags|=2048,lc(9,Zx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wr(),e=It.identifierPrefix;if(qe){var n=ns,r=ts;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wk={readContext:$n,useCallback:lT,useContext:$n,useEffect:iy,useImperativeHandle:aT,useInsertionEffect:sT,useLayoutEffect:iT,useMemo:cT,useReducer:rp,useRef:rT,useState:function(){return rp(ac)},useDebugValue:oy,useDeferredValue:function(t){var e=Bn();return uT(e,mt.memoizedState,t)},useTransition:function(){var t=rp(ac)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:Yx,useSyncExternalStore:Xx,useId:dT,unstable_isNewReconciler:!1},_k={readContext:$n,useCallback:lT,useContext:$n,useEffect:iy,useImperativeHandle:aT,useInsertionEffect:sT,useLayoutEffect:iT,useMemo:cT,useReducer:sp,useRef:rT,useState:function(){return sp(ac)},useDebugValue:oy,useDeferredValue:function(t){var e=Bn();return mt===null?e.memoizedState=t:uT(e,mt.memoizedState,t)},useTransition:function(){var t=sp(ac)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:Yx,useSyncExternalStore:Xx,useId:dT,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=ni(t),i=is(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(or(e,t,s,r),Qu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=ni(t),i=is(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(or(e,t,s,r),Qu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=ni(t),s=is(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(or(e,t,r,n),Qu(e,t,r))}};function v_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ec(n,r)||!ec(s,i):!0}function mT(t,e,n){var r=!1,s=hi,i=e.contextType;return typeof i=="object"&&i!==null?i=$n(i):(s=yn(e)?Zi:Gt.current,r=e.contextTypes,i=(r=r!=null)?fa(t,s):hi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function w_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function gm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$n(i):(i=yn(e)?Zi:Gt.current,s.context=fa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ph.enqueueReplaceState(s,s.state,null),Od(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e){try{var n="",r=e;do n+=KP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ym(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ek=typeof WeakMap=="function"?WeakMap:Map;function gT(t,e,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jd||(jd=!0,Am=r),ym(t,e)},n}function yT(t,e,n){n=is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ym(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ym(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function __(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ek;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vk.bind(null,t,e,n),e.then(t,t))}function E_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=is(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var xk=ys.ReactCurrentOwner,mn=!1;function Jt(t,e,n,r){e.child=t===null?qx(e,null,n,r):ma(e,t.child,n,r)}function T_(t,e,n,r,s){n=n.render;var i=e.ref;return Qo(e,s),r=ry(t,e,n,r,i,s),n=sy(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(qe&&n&&Hg(e),e.flags|=1,Jt(t,e,r,s),e.child)}function S_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!py(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vT(t,e,i,r,s)):(t=td(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ec,n(o,r)&&t.ref===e.ref)return cs(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function vT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ec(i,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,cs(t,e,s)}return vm(t,e,n,r,s)}function wT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(zo,xn),xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(zo,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(zo,xn),xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(zo,xn),xn|=r;return Jt(t,e,s,n),e.child}function _T(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,n,r,s){var i=yn(n)?Zi:Gt.current;return i=fa(e,i),Qo(e,s),n=ry(t,e,n,r,i,s),r=sy(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(qe&&r&&Hg(e),e.flags|=1,Jt(t,e,n,s),e.child)}function I_(t,e,n,r,s){if(yn(n)){var i=!0;Pd(e)}else i=!1;if(Qo(e,s),e.stateNode===null)Ju(t,e),mT(e,n,r),gm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$n(u):(u=yn(n)?Zi:Gt.current,u=fa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&w_(e,o,r,u),Ns=!1;var p=e.memoizedState;o.state=p,Od(e,r,o,s),c=e.memoizedState,a!==r||p!==c||gn.current||Ns?(typeof d=="function"&&(mm(e,n,d,r),c=e.memoizedState),(a=Ns||v_(e,n,a,r,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Kx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=$n(c):(c=yn(n)?Zi:Gt.current,c=fa(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==c)&&w_(e,o,r,c),Ns=!1,p=e.memoizedState,o.state=p,Od(e,r,o,s);var T=e.memoizedState;a!==h||p!==T||gn.current||Ns?(typeof m=="function"&&(mm(e,n,m,r),T=e.memoizedState),(u=Ns||v_(e,n,u,r,p,T,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return wm(t,e,n,r,i,s)}function wm(t,e,n,r,s,i){_T(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&u_(e,n,!1),cs(t,e,i);r=e.stateNode,xk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,i),e.child=ma(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&u_(e,n,!0),e.child}function ET(t){var e=t.stateNode;e.pendingContext?c_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c_(t,e.context,!1),Zg(t,e.containerInfo)}function C_(t,e,n,r,s){return pa(),Gg(s),e.flags|=256,Jt(t,e,n,r),e.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function Em(t){return{baseLanes:t,cachePool:null,transitions:null}}function xT(t,e,n){var r=e.pendingProps,s=Ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Ke,s&1),t===null)return fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nh(o,r,0,null),t=Qi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Em(n),e.memoizedState=_m,t):ay(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Tk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ri(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=Qi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Em(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=_m,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ay(t,e){return e=Nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iu(t,e,n,r){return r!==null&&Gg(r),ma(e,t.child,null,n),t=ay(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ip(Error(K(422))),Iu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Nh({mode:"visible",children:r.children},s,0,null),i=Qi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=Em(o),e.memoizedState=_m,i);if(!(e.mode&1))return Iu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=ip(i,r,void 0),Iu(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ls(t,s),or(r,t,s,-1))}return fy(),r=ip(Error(K(421))),Iu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Mk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sn=Zs(s.nextSibling),Cn=e,qe=!0,er=null,t!==null&&(Mn[Ln++]=ts,Mn[Ln++]=ns,Mn[Ln++]=eo,ts=t.id,ns=t.overflow,eo=e),e=ay(e,r.children),e.flags|=4096,e)}function A_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pm(t.return,e,n)}function op(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function TT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,n,e);else if(t.tag===19)A_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),op(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}op(e,!0,n,null,i);break;case"together":op(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Sk(t,e,n){switch(e.tag){case 3:ET(e),pa();break;case 5:Qx(e);break;case 1:yn(e.type)&&Pd(e);break;case 4:Zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(Nd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?xT(t,e,n):(Fe(Ke,Ke.current&1),t=cs(t,e,n),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,wT(t,e,n)}return cs(t,e,n)}var ST,xm,IT,CT;ST=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};IT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ji(Nr.current);var i=null;switch(n){case"input":s=Wp(t,s),r=Wp(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=Gp(t,s),r=Gp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ad)}Qp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$e("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};CT=function(t,e,n,r){n!==r&&(e.flags|=4)};function dl(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ik(t,e,n){var r=e.pendingProps;switch(qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return yn(e.type)&&bd(),$t(e),null;case 3:return r=e.stateNode,ga(),ze(gn),ze(Gt),ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(Rm(er),er=null))),xm(t,e),$t(e),null;case 5:ey(e);var s=ji(ic.current);if(n=e.type,t!==null&&e.stateNode!=null)IT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return $t(e),null}if(t=ji(Nr.current),Tu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ir]=e,r[rc]=i,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)$e(_l[s],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":Mw(r,i),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$e("invalid",r);break;case"textarea":Fw(r,i),$e("invalid",r)}Qp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xu(r.textContent,a,t),s=["children",""+a]):Gl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":pu(r),Lw(r,i,!0);break;case"textarea":pu(r),jw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ad)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ex(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[rc]=r,ST(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yp(n,r),n){case"dialog":$e("cancel",t),$e("close",t),s=r;break;case"iframe":case"object":case"embed":$e("load",t),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)$e(_l[s],t);s=r;break;case"source":$e("error",t),s=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),s=r;break;case"details":$e("toggle",t),s=r;break;case"input":Mw(t,r),s=Wp(t,r),$e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),$e("invalid",t);break;case"textarea":Fw(t,r),s=Gp(t,r),$e("invalid",t);break;default:s=r}Qp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?rx(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tx(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kl(t,c):typeof c=="number"&&Kl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&$e("scroll",t):c!=null&&kg(t,i,c,o))}switch(n){case"input":pu(t),Lw(t,r,!1);break;case"textarea":pu(t),jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ho(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)CT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ji(ic.current),ji(Nr.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(i=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return $t(e),null;case 13:if(ze(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Sn!==null&&e.mode&1&&!(e.flags&128))Wx(),pa(),e.flags|=98560,i=!1;else if(i=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Ir]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),i=!1}else er!==null&&(Rm(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?gt===0&&(gt=3):fy())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return ga(),xm(t,e),t===null&&tc(e.stateNode.containerInfo),$t(e),null;case 10:return Yg(e.type._context),$t(e),null;case 17:return yn(e.type)&&bd(),$t(e),null;case 19:if(ze(Ke),i=e.memoizedState,i===null)return $t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)dl(i,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vd(t),o!==null){for(e.flags|=128,dl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&st()>va&&(e.flags|=128,r=!0,dl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qe)return $t(e),null}else 2*st()-i.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,r=!0,dl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=st(),e.sibling=null,n=Ke.current,Fe(Ke,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return hy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function Ck(t,e){switch(qg(e),e.tag){case 1:return yn(e.type)&&bd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),ze(gn),ze(Gt),ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ey(e),null;case 13:if(ze(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ke),null;case 4:return ga(),null;case 10:return Yg(e.type._context),null;case 22:case 23:return hy(),null;case 24:return null;default:return null}}var Cu=!1,Ht=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,re=null;function Bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Tm(t,e,n){try{n()}catch(r){nt(t,e,r)}}var b_=!1;function bk(t,e){if(om=Sd,t=kx(),Wg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},Sd=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,E=T.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Qn(e.type,w),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(N){nt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return T=b_,b_=!1,T}function Dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tm(e,n,i)}s=s.next}while(s!==r)}}function Rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AT(t){var e=t.alternate;e!==null&&(t.alternate=null,AT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[rc],delete e[um],delete e[uk],delete e[dk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bT(t){return t.tag===5||t.tag===3||t.tag===4}function P_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ad));else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}function Cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cm(t,e,n),t=t.sibling;t!==null;)Cm(t,e,n),t=t.sibling}var Rt=null,Zn=!1;function Is(t,e,n){for(n=n.child;n!==null;)PT(t,e,n),n=n.sibling}function PT(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(xh,n)}catch{}switch(n.tag){case 5:Ht||Bo(n,e);case 6:var r=Rt,s=Zn;Rt=null,Is(t,e,n),Rt=r,Zn=s,Rt!==null&&(Zn?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Zn?(t=Rt,n=n.stateNode,t.nodeType===8?Zf(t.parentNode,n):t.nodeType===1&&Zf(t,n),Jl(t)):Zf(Rt,n.stateNode));break;case 4:r=Rt,s=Zn,Rt=n.stateNode.containerInfo,Zn=!0,Is(t,e,n),Rt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tm(n,e,o),s=s.next}while(s!==r)}Is(t,e,n);break;case 1:if(!Ht&&(Bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}Is(t,e,n);break;case 21:Is(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,Is(t,e,n),Ht=r):Is(t,e,n);break;default:Is(t,e,n)}}function R_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ak),e.forEach(function(r){var s=Lk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,Zn=!1;break e;case 3:Rt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Rt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Rt===null)throw Error(K(160));PT(i,o,s),Rt=null,Zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){nt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RT(e,t),e=e.sibling}function RT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),vr(t),r&4){try{Dl(3,t,t.return),Rh(3,t)}catch(w){nt(t,t.return,w)}try{Dl(5,t,t.return)}catch(w){nt(t,t.return,w)}}break;case 1:Gn(e,t),vr(t),r&512&&n!==null&&Bo(n,n.return);break;case 5:if(Gn(e,t),vr(t),r&512&&n!==null&&Bo(n,n.return),t.flags&32){var s=t.stateNode;try{Kl(s,"")}catch(w){nt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&J1(s,i),Yp(a,o);var u=Yp(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?rx(s,h):d==="dangerouslySetInnerHTML"?tx(s,h):d==="children"?Kl(s,h):kg(s,d,h,u)}switch(a){case"input":Hp(s,i);break;case"textarea":Z1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ho(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ho(s,!!i.multiple,i.defaultValue,!0):Ho(s,!!i.multiple,i.multiple?[]:"",!1))}s[rc]=i}catch(w){nt(t,t.return,w)}}break;case 6:if(Gn(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){nt(t,t.return,w)}}break;case 3:if(Gn(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(w){nt(t,t.return,w)}break;case 4:Gn(e,t),vr(t);break;case 13:Gn(e,t),vr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uy=st())),r&4&&R_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(u=Ht)||d,Gn(e,t),Ht=u):Gn(e,t),vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(h=re=d;re!==null;){switch(p=re,m=p.child,p.tag){case 0:case 11:case 14:case 15:Dl(4,p,p.return);break;case 1:Bo(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){nt(r,n,w)}}break;case 5:Bo(p,p.return);break;case 22:if(p.memoizedState!==null){N_(h);continue}}m!==null?(m.return=p,re=m):N_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=nx("display",o))}catch(w){nt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){nt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(e,t),vr(t),r&4&&R_(t);break;case 21:break;default:Gn(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Kl(s,""),r.flags&=-33);var i=P_(t);Cm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=P_(t);Im(t,a,o);break;default:throw Error(K(161))}}catch(c){nt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pk(t,e,n){re=t,kT(t)}function kT(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Cu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ht;a=Cu;var u=Ht;if(Cu=o,(Ht=c)&&!u)for(re=s;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?D_(s):c!==null?(c.return=o,re=c):D_(s);for(;i!==null;)re=i,kT(i),i=i.sibling;re=s,Cu=a,Ht=u}k_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):k_(t)}}function k_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&m_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}m_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Jl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ht||e.flags&512&&Sm(e)}catch(p){nt(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function N_(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function D_(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rh(4,e)}catch(c){nt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){nt(e,s,c)}}var i=e.return;try{Sm(e)}catch(c){nt(e,i,c)}break;case 5:var o=e.return;try{Sm(e)}catch(c){nt(e,o,c)}}}catch(c){nt(e,e.return,c)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var Rk=Math.ceil,Fd=ys.ReactCurrentDispatcher,ly=ys.ReactCurrentOwner,Un=ys.ReactCurrentBatchConfig,Pe=0,It=null,dt=null,Dt=0,xn=0,zo=xi(0),gt=0,cc=null,no=0,kh=0,cy=0,Ol=null,fn=null,uy=0,va=1/0,Jr=null,jd=!1,Am=null,ti=null,Au=!1,Gs=null,Ud=0,Vl=0,bm=null,Zu=-1,ed=0;function tn(){return Pe&6?st():Zu!==-1?Zu:Zu=st()}function ni(t){return t.mode&1?Pe&2&&Dt!==0?Dt&-Dt:fk.transition!==null?(ed===0&&(ed=mx()),ed):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:xx(t.type)),t):1}function or(t,e,n,r){if(50<Vl)throw Vl=0,bm=null,Error(K(185));Rc(t,n,r),(!(Pe&2)||t!==It)&&(t===It&&(!(Pe&2)&&(kh|=n),gt===4&&Os(t,Dt)),vn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(va=st()+500,Ah&&Ti()))}function vn(t,e){var n=t.callbackNode;fR(t,e);var r=Td(t,t===It?Dt:0);if(r===0)n!==null&&Bw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bw(n),e===1)t.tag===0?hk(O_.bind(null,t)):$x(O_.bind(null,t)),lk(function(){!(Pe&6)&&Ti()}),n=null;else{switch(gx(r)){case 1:n=Mg;break;case 4:n=fx;break;case 16:n=xd;break;case 536870912:n=px;break;default:n=xd}n=jT(n,NT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NT(t,e){if(Zu=-1,ed=0,Pe&6)throw Error(K(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var r=Td(t,t===It?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$d(t,r);else{e=r;var s=Pe;Pe|=2;var i=OT();(It!==t||Dt!==e)&&(Jr=null,va=st()+500,Ki(t,e));do try{Dk();break}catch(a){DT(t,a)}while(!0);Qg(),Fd.current=i,Pe=s,dt!==null?e=0:(It=null,Dt=0,e=gt)}if(e!==0){if(e===2&&(s=tm(t),s!==0&&(r=s,e=Pm(t,s))),e===1)throw n=cc,Ki(t,0),Os(t,r),vn(t,st()),n;if(e===6)Os(t,r);else{if(s=t.current.alternate,!(r&30)&&!kk(s)&&(e=$d(t,r),e===2&&(i=tm(t),i!==0&&(r=i,e=Pm(t,i))),e===1))throw n=cc,Ki(t,0),Os(t,r),vn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Vi(t,fn,Jr);break;case 3:if(Os(t,r),(r&130023424)===r&&(e=uy+500-st(),10<e)){if(Td(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cm(Vi.bind(null,t,fn,Jr),e);break}Vi(t,fn,Jr);break;case 4:if(Os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ir(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rk(r/1960))-r,10<r){t.timeoutHandle=cm(Vi.bind(null,t,fn,Jr),r);break}Vi(t,fn,Jr);break;case 5:Vi(t,fn,Jr);break;default:throw Error(K(329))}}}return vn(t,st()),t.callbackNode===n?NT.bind(null,t):null}function Pm(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=$d(t,e),t!==2&&(e=fn,fn=n,e!==null&&Rm(e)),t}function Rm(t){fn===null?fn=t:fn.push.apply(fn,t)}function kk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~cy,e&=~kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ir(e),r=1<<n;t[n]=-1,e&=~r}}function O_(t){if(Pe&6)throw Error(K(327));Yo();var e=Td(t,0);if(!(e&1))return vn(t,st()),null;var n=$d(t,e);if(t.tag!==0&&n===2){var r=tm(t);r!==0&&(e=r,n=Pm(t,r))}if(n===1)throw n=cc,Ki(t,0),Os(t,e),vn(t,st()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vi(t,fn,Jr),vn(t,st()),null}function dy(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(va=st()+500,Ah&&Ti())}}function ro(t){Gs!==null&&Gs.tag===0&&!(Pe&6)&&Yo();var e=Pe;Pe|=1;var n=Un.transition,r=Oe;try{if(Un.transition=null,Oe=1,t)return t()}finally{Oe=r,Un.transition=n,Pe=e,!(Pe&6)&&Ti()}}function hy(){xn=zo.current,ze(zo)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ak(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bd();break;case 3:ga(),ze(gn),ze(Gt),ty();break;case 5:ey(r);break;case 4:ga();break;case 13:ze(Ke);break;case 19:ze(Ke);break;case 10:Yg(r.type._context);break;case 22:case 23:hy()}n=n.return}if(It=t,dt=t=ri(t.current,null),Dt=xn=e,gt=0,cc=null,cy=kh=no=0,fn=Ol=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fi=null}return t}function DT(t,e){do{var n=dt;try{if(Qg(),Yu.current=Ld,Md){for(var r=Qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Md=!1}if(to=0,Tt=mt=Qe=null,Nl=!1,oc=0,ly.current=null,n===null||n.return===null){gt=1,cc=e,dt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Dt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=E_(o);if(m!==null){m.flags&=-257,x_(m,o,a,i,e),m.mode&1&&__(i,u,e),e=m,c=u;var T=e.updateQueue;if(T===null){var w=new Set;w.add(c),e.updateQueue=w}else T.add(c);break e}else{if(!(e&1)){__(i,u,e),fy();break e}c=Error(K(426))}}else if(qe&&a.mode&1){var E=E_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),x_(E,o,a,i,e),Gg(ya(c,a));break e}}i=c=ya(c,a),gt!==4&&(gt=2),Ol===null?Ol=[i]:Ol.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=gT(i,c,e);p_(i,_);break e;case 1:a=c;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ti===null||!ti.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=yT(i,a,e);p_(i,N);break e}}i=i.return}while(i!==null)}MT(n)}catch(O){e=O,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function OT(){var t=Fd.current;return Fd.current=Ld,t===null?Ld:t}function fy(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||!(no&268435455)&&!(kh&268435455)||Os(It,Dt)}function $d(t,e){var n=Pe;Pe|=2;var r=OT();(It!==t||Dt!==e)&&(Jr=null,Ki(t,e));do try{Nk();break}catch(s){DT(t,s)}while(!0);if(Qg(),Pe=n,Fd.current=r,dt!==null)throw Error(K(261));return It=null,Dt=0,gt}function Nk(){for(;dt!==null;)VT(dt)}function Dk(){for(;dt!==null&&!sR();)VT(dt)}function VT(t){var e=FT(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?MT(t):dt=e,ly.current=null}function MT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ck(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,dt=null;return}}else if(n=Ik(n,e,xn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);gt===0&&(gt=5)}function Vi(t,e,n){var r=Oe,s=Un.transition;try{Un.transition=null,Oe=1,Ok(t,e,n,r)}finally{Un.transition=s,Oe=r}return null}function Ok(t,e,n,r){do Yo();while(Gs!==null);if(Pe&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(pR(t,i),t===It&&(dt=It=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Au||(Au=!0,jT(xd,function(){return Yo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Un.transition,Un.transition=null;var o=Oe;Oe=1;var a=Pe;Pe|=4,ly.current=null,bk(t,n),RT(n,t),ek(am),Sd=!!om,am=om=null,t.current=n,Pk(n),iR(),Pe=a,Oe=o,Un.transition=i}else t.current=n;if(Au&&(Au=!1,Gs=t,Ud=s),i=t.pendingLanes,i===0&&(ti=null),lR(n.stateNode),vn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(jd)throw jd=!1,t=Am,Am=null,t;return Ud&1&&t.tag!==0&&Yo(),i=t.pendingLanes,i&1?t===bm?Vl++:(Vl=0,bm=t):Vl=0,Ti(),null}function Yo(){if(Gs!==null){var t=gx(Ud),e=Un.transition,n=Oe;try{if(Un.transition=null,Oe=16>t?16:t,Gs===null)var r=!1;else{if(t=Gs,Gs=null,Ud=0,Pe&6)throw Error(K(331));var s=Pe;for(Pe|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Dl(8,d,i)}var h=d.child;if(h!==null)h.return=d,re=h;else for(;re!==null;){d=re;var p=d.sibling,m=d.return;if(AT(d),d===u){re=null;break}if(p!==null){p.return=m,re=p;break}re=m}}}var T=i.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,re=_;break e}re=i.return}}var v=t.current;for(re=v;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=v;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rh(9,a)}}catch(O){nt(a,a.return,O)}if(a===o){re=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,re=N;break e}re=a.return}}if(Pe=s,Ti(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(xh,t)}catch{}r=!0}return r}finally{Oe=n,Un.transition=e}}return!1}function V_(t,e,n){e=ya(n,e),e=gT(t,e,1),t=ei(t,e,1),e=tn(),t!==null&&(Rc(t,1,e),vn(t,e))}function nt(t,e,n){if(t.tag===3)V_(t,t,n);else for(;e!==null;){if(e.tag===3){V_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=ya(n,t),t=yT(e,t,1),e=ei(e,t,1),t=tn(),e!==null&&(Rc(e,1,t),vn(e,t));break}}e=e.return}}function Vk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Dt&n)===n&&(gt===4||gt===3&&(Dt&130023424)===Dt&&500>st()-uy?Ki(t,0):cy|=n),vn(t,e)}function LT(t,e){e===0&&(t.mode&1?(e=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):e=1);var n=tn();t=ls(t,e),t!==null&&(Rc(t,e,n),vn(t,n))}function Mk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LT(t,n)}function Lk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),LT(t,n)}var FT;FT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,Sk(t,e,n);mn=!!(t.flags&131072)}else mn=!1,qe&&e.flags&1048576&&Bx(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ju(t,e),t=e.pendingProps;var s=fa(e,Gt.current);Qo(e,n),s=ry(null,e,r,t,s,n);var i=sy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(i=!0,Pd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jg(e),s.updater=Ph,e.stateNode=s,s._reactInternals=e,gm(e,r,t,n),e=wm(null,e,r,!0,i,n)):(e.tag=0,qe&&i&&Hg(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ju(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jk(r),t=Qn(r,t),s){case 0:e=vm(null,e,r,t,n);break e;case 1:e=I_(null,e,r,t,n);break e;case 11:e=T_(null,e,r,t,n);break e;case 14:e=S_(null,e,r,Qn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),vm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),I_(t,e,r,s,n);case 3:e:{if(ET(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Kx(t,e),Od(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ya(Error(K(423)),e),e=C_(t,e,r,n,s);break e}else if(r!==s){s=ya(Error(K(424)),e),e=C_(t,e,r,n,s);break e}else for(Sn=Zs(e.stateNode.containerInfo.firstChild),Cn=e,qe=!0,er=null,n=qx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===s){e=cs(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return Qx(e),t===null&&fm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,lm(r,s)?o=null:i!==null&&lm(r,i)&&(e.flags|=32),_T(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&fm(e),null;case 13:return xT(t,e,n);case 4:return Zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),T_(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(Nd,r._currentValue),r._currentValue=o,i!==null)if(lr(i.value,o)){if(i.children===s.children&&!gn.current){e=cs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=is(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pm(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qo(e,n),s=$n(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Qn(r,e.pendingProps),s=Qn(r.type,s),S_(t,e,r,s,n);case 15:return vT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Ju(t,e),e.tag=1,yn(r)?(t=!0,Pd(e)):t=!1,Qo(e,n),mT(e,r,s),gm(e,r,s,n),wm(null,e,r,!0,t,n);case 19:return TT(t,e,n);case 22:return wT(t,e,n)}throw Error(K(156,e.tag))};function jT(t,e){return hx(t,e)}function Fk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new Fk(t,e,n,r)}function py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jk(t){if(typeof t=="function")return py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dg)return 11;if(t===Og)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")py(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Do:return Qi(n.children,s,i,e);case Ng:o=8,s|=8;break;case Up:return t=jn(12,n,e,s|2),t.elementType=Up,t.lanes=i,t;case $p:return t=jn(13,n,e,s),t.elementType=$p,t.lanes=i,t;case Bp:return t=jn(19,n,e,s),t.elementType=Bp,t.lanes=i,t;case Q1:return Nh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G1:o=10;break e;case K1:o=9;break e;case Dg:o=11;break e;case Og:o=14;break e;case ks:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Qi(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function Nh(t,e,n,r){return t=jn(22,t,r,e),t.elementType=Q1,t.lanes=n,t.stateNode={isHidden:!1},t}function ap(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function lp(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function my(t,e,n,r,s,i,o,a,c){return t=new Uk(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(i),t}function $k(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UT(t){if(!t)return hi;t=t._reactInternals;e:{if(po(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(yn(n))return Ux(t,n,e)}return e}function $T(t,e,n,r,s,i,o,a,c){return t=my(n,r,!0,t,s,i,o,a,c),t.context=UT(null),n=t.current,r=tn(),s=ni(n),i=is(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,Rc(t,s,r),vn(t,r),t}function Dh(t,e,n,r){var s=e.current,i=tn(),o=ni(s);return n=UT(n),e.context===null?e.context=n:e.pendingContext=n,e=is(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(or(t,s,o,i),Qu(t,s,o)),o}function Bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gy(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function Bk(){return null}var BT=typeof reportError=="function"?reportError:function(t){console.error(t)};function yy(t){this._internalRoot=t}Oh.prototype.render=yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Dh(t,e,null,null)};Oh.prototype.unmount=yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Dh(null,t,null,null)}),e[as]=null}};function Oh(t){this._internalRoot=t}Oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=wx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&Ex(t)}};function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L_(){}function zk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Bd(o);i.call(u)}}var o=$T(e,r,t,0,null,!1,!1,"",L_);return t._reactRootContainer=o,t[as]=o.current,tc(t.nodeType===8?t.parentNode:t),ro(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Bd(c);a.call(u)}}var c=my(t,0,!1,null,null,!1,!1,"",L_);return t._reactRootContainer=c,t[as]=c.current,tc(t.nodeType===8?t.parentNode:t),ro(function(){Dh(e,c,n,r)}),c}function Mh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Bd(o);a.call(c)}}Dh(e,o,t,s)}else o=zk(n,e,t,s,r);return Bd(o)}yx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wl(e.pendingLanes);n!==0&&(Lg(e,n|1),vn(e,st()),!(Pe&6)&&(va=st()+500,Ti()))}break;case 13:ro(function(){var r=ls(t,1);if(r!==null){var s=tn();or(r,t,1,s)}}),gy(t,1)}};Fg=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=tn();or(e,t,134217728,n)}gy(t,134217728)}};vx=function(t){if(t.tag===13){var e=ni(t),n=ls(t,e);if(n!==null){var r=tn();or(n,t,e,r)}gy(t,e)}};wx=function(){return Oe};_x=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Jp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ch(r);if(!s)throw Error(K(90));X1(r),Hp(r,s)}}}break;case"textarea":Z1(t,n);break;case"select":e=n.value,e!=null&&Ho(t,!!n.multiple,e,!1)}};ox=dy;ax=ro;var Wk={usingClientEntryPoint:!1,Events:[Nc,Lo,Ch,sx,ix,dy]},hl={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hk={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ux(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||Bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{xh=bu.inject(Hk),kr=bu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wk;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vy(e))throw Error(K(200));return $k(t,e,null,n)};Pn.createRoot=function(t,e){if(!vy(t))throw Error(K(299));var n=!1,r="",s=BT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=my(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,tc(t.nodeType===8?t.parentNode:t),new yy(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=ux(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return ro(t)};Pn.hydrate=function(t,e,n){if(!Vh(e))throw Error(K(200));return Mh(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!vy(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=BT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$T(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,tc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Oh(e)};Pn.render=function(t,e,n){if(!Vh(e))throw Error(K(200));return Mh(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Vh(t))throw Error(K(40));return t._reactRootContainer?(ro(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};Pn.unstable_batchedUpdates=dy;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Mh(t,e,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function zT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zT)}catch(t){console.error(t)}}zT(),z1.exports=Pn;var Oc=z1.exports;const WT=k1(Oc);var HT,F_=Oc;HT=F_.createRoot,F_.hydrateRoot;const qk=1,Gk=1e6;let cp=0;function Kk(){return cp=(cp+1)%Number.MAX_SAFE_INTEGER,cp.toString()}const up=new Map,j_=t=>{if(up.has(t))return;const e=setTimeout(()=>{up.delete(t),Ml({type:"REMOVE_TOAST",toastId:t})},Gk);up.set(t,e)},Qk=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,qk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?j_(n):t.toasts.forEach(r=>{j_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nd=[];let rd={toasts:[]};function Ml(t){rd=Qk(rd,t),nd.forEach(e=>{e(rd)})}function Yk({...t}){const e=Kk(),n=s=>Ml({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ml({type:"DISMISS_TOAST",toastId:e});return Ml({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Lh(){const[t,e]=S.useState(rd);return S.useEffect(()=>(nd.push(e),()=>{const n=nd.indexOf(e);n>-1&&nd.splice(n,1)}),[t]),{...t,toast:Yk,dismiss:n=>Ml({type:"DISMISS_TOAST",toastId:n})}}function Ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function U_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=U_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():U_(t[s],null)}}}}function nn(...t){return S.useCallback(qT(...t),t)}function Xk(t,e){const n=S.createContext(e),r=i=>{const{children:o,...a}=i,c=S.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=S.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Vc(t,e=[]){let n=[];function r(i,o){const a=S.createContext(o),c=n.length;n=[...n,o];const u=h=>{var _;const{scope:p,children:m,...T}=h,w=((_=p==null?void 0:p[t])==null?void 0:_[c])||a,E=S.useMemo(()=>T,Object.values(T));return g.jsx(w.Provider,{value:E,children:m})};u.displayName=i+"Provider";function d(h,p){var w;const m=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,T=S.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Jk(s,...e)]}function Jk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function uc(t){const e=eN(t),n=S.forwardRef((r,s)=>{const{children:i,...o}=r,a=S.Children.toArray(i),c=a.find(nN);if(c){const u=c.props.children,d=a.map(h=>h===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:s,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Zk=uc("Slot");function eN(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const o=sN(s),a=rN(i,s.props);return s.type!==S.Fragment&&(a.ref=r?qT(r,o):o),S.cloneElement(s,a)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var GT=Symbol("radix.slottable");function tN(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=GT,e}function nN(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GT}function rN(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function iN(t){const e=t+"CollectionProvider",[n,r]=Vc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:E,children:_}=w,v=G.useRef(null),x=G.useRef(new Map).current;return g.jsx(s,{scope:E,itemMap:x,collectionRef:v,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=uc(a),u=G.forwardRef((w,E)=>{const{scope:_,children:v}=w,x=i(a,_),N=nn(E,x.collectionRef);return g.jsx(c,{ref:N,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=uc(d),m=G.forwardRef((w,E)=>{const{scope:_,children:v,...x}=w,N=G.useRef(null),O=nn(E,N),L=i(d,_);return G.useEffect(()=>(L.itemMap.set(N,{ref:N,...x}),()=>void L.itemMap.delete(N))),g.jsx(p,{[h]:"",ref:O,children:v})});m.displayName=d;function T(w){const E=i(t+"CollectionConsumer",w);return G.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((L,C)=>x.indexOf(L.ref.current)-x.indexOf(C.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},T,r]}var oN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=oN.reduce((t,e)=>{const n=uc(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function KT(t,e){t&&Oc.flushSync(()=>t.dispatchEvent(e))}function $r(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aN(t,e=globalThis==null?void 0:globalThis.document){const n=$r(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lN="DismissableLayer",km="dismissableLayer.update",cN="dismissableLayer.pointerDownOutside",uN="dismissableLayer.focusOutside",$_,QT=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fh=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=S.useContext(QT),[d,h]=S.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),T=nn(e,C=>h(C)),w=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),v=d?w.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,N=v>=_,O=hN(C=>{const I=C.target,b=[...u.branches].some(R=>R.contains(I));!N||b||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),L=fN(C=>{const I=C.target;[...u.branches].some(R=>R.contains(I))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return aN(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),S.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),B_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=$_)}},[d,p,n,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),B_())},[d,u]),S.useEffect(()=>{const C=()=>m({});return document.addEventListener(km,C),()=>document.removeEventListener(km,C)},[]),g.jsx(ot.div,{...c,ref:T,style:{pointerEvents:x?N?"auto":"none":void 0,...t.style},onFocusCapture:Ge(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ge(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ge(t.onPointerDownCapture,O.onPointerDownCapture)})});Fh.displayName=lN;var dN="DismissableLayerBranch",YT=S.forwardRef((t,e)=>{const n=S.useContext(QT),r=S.useRef(null),s=nn(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(ot.div,{...t,ref:s})});YT.displayName=dN;function hN(t,e=globalThis==null?void 0:globalThis.document){const n=$r(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){XT(cN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fN(t,e=globalThis==null?void 0:globalThis.document){const n=$r(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&XT(uN,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B_(){const t=new CustomEvent(km);document.dispatchEvent(t)}function XT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?KT(s,i):s.dispatchEvent(i)}var pN=Fh,mN=YT,us=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},gN="Portal",wy=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=S.useState(!1);us(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?WT.createPortal(g.jsx(ot.div,{...r,ref:e}),o):null});wy.displayName=gN;function yN(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Oa=t=>{const{present:e,children:n}=t,r=vN(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=nn(r.ref,wN(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};Oa.displayName="Presence";function vN(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),i=S.useRef("none"),o=t?"mounted":"unmounted",[a,c]=yN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Pu(r.current);i.current=a==="mounted"?u:"none"},[a]),us(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,m=Pu(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),us(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const w=Pu(r.current).includes(m.animationName);if(m.target===e&&w&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=m=>{m.target===e&&(i.current=Pu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Pu(t){return(t==null?void 0:t.animationName)||"none"}function wN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _N=bg[" useInsertionEffect ".trim().toString()]||us;function JT({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=EN({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const d=S.useRef(t!==void 0);S.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=S.useCallback(d=>{var h;if(a){const p=xN(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[c,u]}function EN({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),i=S.useRef(e);return _N(()=>{i.current=e},[e]),S.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function xN(t){return typeof t=="function"}var TN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SN="VisuallyHidden",jh=S.forwardRef((t,e)=>g.jsx(ot.span,{...t,ref:e,style:{...TN,...t.style}}));jh.displayName=SN;var IN=jh,_y="ToastProvider",[Ey,CN,AN]=iN("Toast"),[ZT,S5]=Vc("Toast",[AN]),[bN,Uh]=ZT(_y),eS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=S.useState(null),[u,d]=S.useState(0),h=S.useRef(!1),p=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_y}\`. Expected non-empty \`string\`.`),g.jsx(Ey.Provider,{scope:e,children:g.jsx(bN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};eS.displayName=_y;var tS="ToastViewport",PN=["F8"],Nm="toast.viewportPause",Dm="toast.viewportResume",nS=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=PN,label:s="Notifications ({hotkey})",...i}=t,o=Uh(tS,n),a=CN(n),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),p=nn(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;S.useEffect(()=>{const E=_=>{var x;r.length!==0&&r.every(N=>_[N]||_.code===N)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),S.useEffect(()=>{const E=c.current,_=h.current;if(T&&E&&_){const v=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Nm);_.dispatchEvent(L),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Dm);_.dispatchEvent(L),o.isClosePausedRef.current=!1}},N=L=>{!E.contains(L.relatedTarget)&&x()},O=()=>{E.contains(document.activeElement)||x()};return E.addEventListener("focusin",v),E.addEventListener("focusout",N),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[T,o.isClosePausedRef]);const w=S.useCallback(({tabbingDirection:E})=>{const v=a().map(x=>{const N=x.ref.current,O=[N,...BN(N)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return S.useEffect(()=>{const E=h.current;if(E){const _=v=>{var O,L,C;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const I=document.activeElement,b=v.shiftKey;if(v.target===E&&b){(O=u.current)==null||O.focus();return}const k=w({tabbingDirection:b?"backwards":"forwards"}),P=k.findIndex(q=>q===I);dp(k.slice(P+1))?v.preventDefault():b?(L=u.current)==null||L.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,w]),g.jsxs(mN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&g.jsx(Om,{ref:u,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});dp(E)}}),g.jsx(Ey.Slot,{scope:n,children:g.jsx(ot.ol,{tabIndex:-1,...i,ref:p})}),T&&g.jsx(Om,{ref:d,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});dp(E)}})]})});nS.displayName=tS;var rS="ToastFocusProxy",Om=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Uh(rS,n);return g.jsx(jh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Om.displayName=rS;var Mc="Toast",RN="toast.swipeStart",kN="toast.swipeMove",NN="toast.swipeCancel",DN="toast.swipeEnd",sS=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=JT({prop:r,defaultProp:s??!0,onChange:i,caller:Mc});return g.jsx(Oa,{present:n||a,children:g.jsx(MN,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:$r(t.onPause),onResume:$r(t.onResume),onSwipeStart:Ge(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ge(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ge(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ge(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});sS.displayName=Mc;var[ON,VN]=ZT(Mc,{onClose(){}}),MN=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...T}=t,w=Uh(Mc,n),[E,_]=S.useState(null),v=nn(e,q=>_(q)),x=S.useRef(null),N=S.useRef(null),O=s||w.duration,L=S.useRef(0),C=S.useRef(O),I=S.useRef(0),{onToastAdd:b,onToastRemove:R}=w,D=$r(()=>{var le;(E==null?void 0:E.contains(document.activeElement))&&((le=w.viewport)==null||le.focus()),o()}),k=S.useCallback(q=>{!q||q===1/0||(window.clearTimeout(I.current),L.current=new Date().getTime(),I.current=window.setTimeout(D,q))},[D]);S.useEffect(()=>{const q=w.viewport;if(q){const le=()=>{k(C.current),u==null||u()},ie=()=>{const ae=new Date().getTime()-L.current;C.current=C.current-ae,window.clearTimeout(I.current),c==null||c()};return q.addEventListener(Nm,ie),q.addEventListener(Dm,le),()=>{q.removeEventListener(Nm,ie),q.removeEventListener(Dm,le)}}},[w.viewport,O,c,u,k]),S.useEffect(()=>{i&&!w.isClosePausedRef.current&&k(O)},[i,O,w.isClosePausedRef,k]),S.useEffect(()=>(b(),()=>R()),[b,R]);const P=S.useMemo(()=>E?dS(E):null,[E]);return w.viewport?g.jsxs(g.Fragment,{children:[P&&g.jsx(LN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),g.jsx(ON,{scope:n,onClose:D,children:Oc.createPortal(g.jsx(Ey.ItemSlot,{scope:n,children:g.jsx(pN,{asChild:!0,onEscapeKeyDown:Ge(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||D(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(ot.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ge(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ge(t.onPointerDown,q=>{q.button===0&&(x.current={x:q.clientX,y:q.clientY})}),onPointerMove:Ge(t.onPointerMove,q=>{if(!x.current)return;const le=q.clientX-x.current.x,ie=q.clientY-x.current.y,ae=!!N.current,U=["left","right"].includes(w.swipeDirection),z=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,ee=U?z(0,le):0,pe=U?0:z(0,ie),se=q.pointerType==="touch"?10:2,ce={x:ee,y:pe},_e={originalEvent:q,delta:ce};ae?(N.current=ce,Ru(kN,h,_e,{discrete:!1})):z_(ce,w.swipeDirection,se)?(N.current=ce,Ru(RN,d,_e,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(le)>se||Math.abs(ie)>se)&&(x.current=null)}),onPointerUp:Ge(t.onPointerUp,q=>{const le=N.current,ie=q.target;if(ie.hasPointerCapture(q.pointerId)&&ie.releasePointerCapture(q.pointerId),N.current=null,x.current=null,le){const ae=q.currentTarget,U={originalEvent:q,delta:le};z_(le,w.swipeDirection,w.swipeThreshold)?Ru(DN,m,U,{discrete:!0}):Ru(NN,p,U,{discrete:!0}),ae.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),LN=t=>{const{__scopeToast:e,children:n,...r}=t,s=Uh(Mc,e),[i,o]=S.useState(!1),[a,c]=S.useState(!1);return UN(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(wy,{asChild:!0,children:g.jsx(jh,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},FN="ToastTitle",iS=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(ot.div,{...r,ref:e})});iS.displayName=FN;var jN="ToastDescription",oS=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(ot.div,{...r,ref:e})});oS.displayName=jN;var aS="ToastAction",lS=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(uS,{altText:n,asChild:!0,children:g.jsx(xy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${aS}\`. Expected non-empty \`string\`.`),null)});lS.displayName=aS;var cS="ToastClose",xy=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=VN(cS,n);return g.jsx(uS,{asChild:!0,children:g.jsx(ot.button,{type:"button",...r,ref:e,onClick:Ge(t.onClick,s.onClose)})})});xy.displayName=cS;var uS=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function dS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),$N(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...dS(r))}}),e}function Ru(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?KT(s,i):s.dispatchEvent(i)}var z_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function UN(t=()=>{}){const e=$r(t);us(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function $N(t){return t.nodeType===t.ELEMENT_NODE}function BN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var zN=eS,hS=nS,fS=sS,pS=iS,mS=oS,gS=lS,yS=xy;function vS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vS(t))&&(r&&(r+=" "),r+=e);return r}const W_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,H_=wS,$h=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return H_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=W_(d)||W_(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(T=>{let[w,E]=T;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...u,h,p]:u},[]);return H_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_S=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>S.createElement("svg",{ref:c,...HN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_S("lucide",s),...a},[...o.map(([u,d])=>S.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(qN,{ref:i,iconNode:e,className:_S(`lucide-${WN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Qt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Qt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Qt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Qt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Qt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Qt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Qt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Qt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Qt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=Qt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Qt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Qt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=Qt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Qt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sy="-",JN=t=>{const e=e2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Sy);return a[0]===""&&a.length!==1&&a.shift(),bS(a,e)||ZN(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},bS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Sy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},K_=/^\[(.+)\]$/,ZN=t=>{if(K_.test(t)){const e=K_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},e2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return n2(Object.entries(t.classGroups),n).forEach(([i,o])=>{Vm(o,r,i,e)}),r},Vm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Q_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(t2(s)){Vm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vm(o,Q_(e,i),n,r)})})},Q_=(t,e)=>{let n=t;return e.split(Sy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},t2=t=>t.isThemeGetter,n2=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,r2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},PS="!",s2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let E=0;E<a.length;E++){let _=a[E];if(u===0){if(_===s&&(r||a.slice(E,E+i)===e)){c.push(a.slice(d,E)),d=E+i;continue}if(_==="/"){h=E;continue}}_==="["?u++:_==="]"&&u--}const p=c.length===0?a:a.substring(d),m=p.startsWith(PS),T=m?p.substring(1):p,w=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},i2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},o2=t=>({cache:r2(t.cacheSize),parseClassName:s2(t),...JN(t)}),a2=/\s+/,l2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(a2);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let T=!!m,w=r(T?p.substring(0,m):p);if(!w){if(!T){a=u+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=u+(a.length>0?" "+a:a);continue}T=!1}const E=i2(d).join(":"),_=h?E+PS:E,v=_+w;if(i.includes(v))continue;i.push(v);const x=s(w,T);for(let N=0;N<x.length;++N){const O=x[N];i.push(_+O)}a=u+(a.length>0?" "+a:a)}return a};function c2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=RS(e))&&(r&&(r+=" "),r+=n);return r}const RS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=RS(t[r]))&&(n&&(n+=" "),n+=e);return n};function u2(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=o2(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=l2(c,n);return s(c,d),d}return function(){return i(c2.apply(null,arguments))}}const Ue=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kS=/^\[(?:([a-z-]+):)?(.+)\]$/i,d2=/^\d+\/\d+$/,h2=new Set(["px","full","screen"]),f2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,g2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>Xo(t)||h2.has(t)||d2.test(t),Cs=t=>Va(t,"length",I2),Xo=t=>!!t&&!Number.isNaN(Number(t)),hp=t=>Va(t,"number",Xo),fl=t=>!!t&&Number.isInteger(Number(t)),v2=t=>t.endsWith("%")&&Xo(t.slice(0,-1)),we=t=>kS.test(t),As=t=>f2.test(t),w2=new Set(["length","size","percentage"]),_2=t=>Va(t,w2,NS),E2=t=>Va(t,"position",NS),x2=new Set(["image","url"]),T2=t=>Va(t,x2,A2),S2=t=>Va(t,"",C2),pl=()=>!0,Va=(t,e,n)=>{const r=kS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},I2=t=>p2.test(t)&&!m2.test(t),NS=()=>!1,C2=t=>g2.test(t),A2=t=>y2.test(t),b2=()=>{const t=Ue("colors"),e=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),s=Ue("borderColor"),i=Ue("borderRadius"),o=Ue("borderSpacing"),a=Ue("borderWidth"),c=Ue("contrast"),u=Ue("grayscale"),d=Ue("hueRotate"),h=Ue("invert"),p=Ue("gap"),m=Ue("gradientColorStops"),T=Ue("gradientColorStopPositions"),w=Ue("inset"),E=Ue("margin"),_=Ue("opacity"),v=Ue("padding"),x=Ue("saturate"),N=Ue("scale"),O=Ue("sepia"),L=Ue("skew"),C=Ue("space"),I=Ue("translate"),b=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",we,e],k=()=>[we,e],P=()=>["",Qr,Cs],q=()=>["auto",Xo,we],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",we],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Xo,we];return{cacheSize:500,separator:":",theme:{colors:[pl],spacing:[Qr,Cs],blur:["none","",As,we],brightness:pe(),borderColor:[t],borderRadius:["none","","full",As,we],borderSpacing:k(),borderWidth:P(),contrast:pe(),grayscale:z(),hueRotate:pe(),invert:z(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[v2,Cs],inset:D(),margin:D(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:z(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),we]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fl,we]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",fl,we]}],"grid-cols":[{"grid-cols":[pl]}],"col-start-end":[{col:["auto",{span:["full",fl,we]},we]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[pl]}],"row-start-end":[{row:["auto",{span:[fl,we]},we]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,e]}],"min-w":[{"min-w":[we,e,"min","max","fit"]}],"max-w":[{"max-w":[we,e,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[we,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,e,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hp]}],"font-family":[{font:[pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",Xo,hp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Cs]}],"underline-offset":[{"underline-offset":["auto",Qr,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),E2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Qr,we]}],"outline-w":[{outline:[Qr,Cs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Qr,Cs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",As,S2]}],"shadow-color":[{shadow:[pl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",As,we]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[fl,we]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,Cs,hp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P2=u2(b2);function Je(...t){return P2(wS(t))}const R2=zN,DS=S.forwardRef(({className:t,...e},n)=>g.jsx(hS,{ref:n,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));DS.displayName=hS.displayName;const k2=$h("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),OS=S.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(fS,{ref:r,className:Je(k2({variant:e}),t),...n}));OS.displayName=fS.displayName;const N2=S.forwardRef(({className:t,...e},n)=>g.jsx(gS,{ref:n,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));N2.displayName=gS.displayName;const VS=S.forwardRef(({className:t,...e},n)=>g.jsx(yS,{ref:n,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(AS,{className:"h-4 w-4"})}));VS.displayName=yS.displayName;const MS=S.forwardRef(({className:t,...e},n)=>g.jsx(pS,{ref:n,className:Je("text-sm font-semibold",t),...e}));MS.displayName=pS.displayName;const LS=S.forwardRef(({className:t,...e},n)=>g.jsx(mS,{ref:n,className:Je("text-sm opacity-90",t),...e}));LS.displayName=mS.displayName;function D2(){const{toasts:t}=Lh();return g.jsxs(R2,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(OS,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(MS,{children:n}),r&&g.jsx(LS,{children:r})]}),s,g.jsx(VS,{})]},e)}),g.jsx(DS,{})]})}var Y_=["light","dark"],O2="(prefers-color-scheme: dark)",V2=S.createContext(void 0),M2={setTheme:t=>{},themes:[]},L2=()=>{var t;return(t=S.useContext(V2))!=null?t:M2};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Y_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(T,w=!1,E=!0)=>{let _=o?o[T]:T,v=w?T+"|| ''":`'${_}'`,x="";return s&&E&&!w&&Y_.includes(T)&&(x+=`d.style.colorScheme = '${T}';`),n==="class"?w||_?x+=`c.add(${v})`:x+="null":_&&(x+=`d[s](n,${v})`),x},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${O2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return S.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var F2=t=>{switch(t){case"success":return $2;case"info":return z2;case"warning":return B2;case"error":return W2;default:return null}},j2=Array(12).fill(0),U2=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},j2.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),B2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),H2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),q2=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Mm=1,G2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Mm++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],G.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(Q2(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Mm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dn=new G2,K2=(t,e)=>{let n=(e==null?void 0:e.id)||Mm++;return dn.addToast({title:t,...e,id:n}),n},Q2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Y2=K2,X2=()=>dn.toasts,J2=()=>dn.getActiveToasts();Object.assign(Y2,{success:dn.success,info:dn.info,warning:dn.warning,error:dn.error,custom:dn.custom,message:dn.message,promise:dn.promise,dismiss:dn.dismiss,loading:dn.loading},{getHistory:X2,getToasts:J2});function Z2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Z2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ku(t){return t.label!==void 0}var eD=3,tD="32px",nD="16px",X_=4e3,rD=356,sD=14,iD=20,oD=200;function Kn(...t){return t.filter(Boolean).join(" ")}function aD(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var lD=t=>{var e,n,r,s,i,o,a,c,u,d,h;let{invert:p,toast:m,unstyled:T,interacting:w,setHeights:E,visibleToasts:_,heights:v,index:x,toasts:N,expanded:O,removeToast:L,defaultRichColors:C,closeButton:I,style:b,cancelButtonStyle:R,actionButtonStyle:D,className:k="",descriptionClassName:P="",duration:q,position:le,gap:ie,loadingIcon:ae,expandByDefault:U,classNames:z,icons:ee,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:se}=t,[ce,_e]=G.useState(null),[De,at]=G.useState(null),[Ee,zn]=G.useState(!1),[on,Mt]=G.useState(!1),[Yt,wn]=G.useState(!1),[an,Wn]=G.useState(!1),[pr,Hr]=G.useState(!1),[bi,ws]=G.useState(0),[kn,V]=G.useState(0),F=G.useRef(m.duration||q||X_),$=G.useRef(null),J=G.useRef(null),X=x===0,Q=x+1<=_,Y=m.type,de=m.dismissible!==!1,Ae=m.className||"",Ct=m.descriptionClassName||"",Nn=G.useMemo(()=>v.findIndex(me=>me.toastId===m.id)||0,[v,m.id]),Dn=G.useMemo(()=>{var me;return(me=m.closeButton)!=null?me:I},[m.closeButton,I]),mr=G.useMemo(()=>m.duration||q||X_,[m.duration,q]),gr=G.useRef(0),_n=G.useRef(0),_s=G.useRef(0),Hn=G.useRef(null),[Ka,Es]=le.split("-"),Qa=G.useMemo(()=>v.reduce((me,be,Ve)=>Ve>=Nn?me:me+be.height,0),[v,Nn]),Ya=q2(),Pi=m.invert||p,Ri=Y==="loading";_n.current=G.useMemo(()=>Nn*ie+Qa,[Nn,Qa]),G.useEffect(()=>{F.current=mr},[mr]),G.useEffect(()=>{zn(!0)},[]),G.useEffect(()=>{let me=J.current;if(me){let be=me.getBoundingClientRect().height;return V(be),E(Ve=>[{toastId:m.id,height:be,position:m.position},...Ve]),()=>E(Ve=>Ve.filter(At=>At.toastId!==m.id))}},[E,m.id]),G.useLayoutEffect(()=>{if(!Ee)return;let me=J.current,be=me.style.height;me.style.height="auto";let Ve=me.getBoundingClientRect().height;me.style.height=be,V(Ve),E(At=>At.find(ln=>ln.toastId===m.id)?At.map(ln=>ln.toastId===m.id?{...ln,height:Ve}:ln):[{toastId:m.id,height:Ve,position:m.position},...At])},[Ee,m.title,m.description,E,m.id]);let On=G.useCallback(()=>{Mt(!0),ws(_n.current),E(me=>me.filter(be=>be.toastId!==m.id)),setTimeout(()=>{L(m)},oD)},[m,L,E,_n]);G.useEffect(()=>{if(m.promise&&Y==="loading"||m.duration===1/0||m.type==="loading")return;let me;return O||w||se&&Ya?(()=>{if(_s.current<gr.current){let be=new Date().getTime()-gr.current;F.current=F.current-be}_s.current=new Date().getTime()})():F.current!==1/0&&(gr.current=new Date().getTime(),me=setTimeout(()=>{var be;(be=m.onAutoClose)==null||be.call(m,m),On()},F.current)),()=>clearTimeout(me)},[O,w,m,Y,se,Ya,On]),G.useEffect(()=>{m.delete&&On()},[On,m.delete]);function qr(){var me,be,Ve;return ee!=null&&ee.loading?G.createElement("div",{className:Kn(z==null?void 0:z.loader,(me=m==null?void 0:m.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":Y==="loading"},ee.loading):ae?G.createElement("div",{className:Kn(z==null?void 0:z.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Y==="loading"},ae):G.createElement(U2,{className:Kn(z==null?void 0:z.loader,(Ve=m==null?void 0:m.classNames)==null?void 0:Ve.loader),visible:Y==="loading"})}return G.createElement("li",{tabIndex:0,ref:J,className:Kn(k,Ae,z==null?void 0:z.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[Y],(n=m==null?void 0:m.classNames)==null?void 0:n[Y]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||T),"data-mounted":Ee,"data-promise":!!m.promise,"data-swiped":pr,"data-removed":on,"data-visible":Q,"data-y-position":Ka,"data-x-position":Es,"data-index":x,"data-front":X,"data-swiping":Yt,"data-dismissible":de,"data-type":Y,"data-invert":Pi,"data-swipe-out":an,"data-swipe-direction":De,"data-expanded":!!(O||U&&Ee),style:{"--index":x,"--toasts-before":x,"--z-index":N.length-x,"--offset":`${on?bi:_n.current}px`,"--initial-height":U?"auto":`${kn}px`,...b,...m.style},onDragEnd:()=>{wn(!1),_e(null),Hn.current=null},onPointerDown:me=>{Ri||!de||($.current=new Date,ws(_n.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(wn(!0),Hn.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,be,Ve,At;if(an||!de)return;Hn.current=null;let ln=Number(((me=J.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),We=Number(((be=J.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yr=new Date().getTime()-((Ve=$.current)==null?void 0:Ve.getTime()),bt=ce==="x"?ln:We,cn=Math.abs(bt)/yr;if(Math.abs(bt)>=iD||cn>.11){ws(_n.current),(At=m.onDismiss)==null||At.call(m,m),at(ce==="x"?ln>0?"right":"left":We>0?"down":"up"),On(),Wn(!0),Hr(!1);return}wn(!1),_e(null)},onPointerMove:me=>{var be,Ve,At,ln;if(!Hn.current||!de||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let We=me.clientY-Hn.current.y,yr=me.clientX-Hn.current.x,bt=(Ve=t.swipeDirections)!=null?Ve:aD(le);!ce&&(Math.abs(yr)>1||Math.abs(We)>1)&&_e(Math.abs(yr)>Math.abs(We)?"x":"y");let cn={x:0,y:0};ce==="y"?(bt.includes("top")||bt.includes("bottom"))&&(bt.includes("top")&&We<0||bt.includes("bottom")&&We>0)&&(cn.y=We):ce==="x"&&(bt.includes("left")||bt.includes("right"))&&(bt.includes("left")&&yr<0||bt.includes("right")&&yr>0)&&(cn.x=yr),(Math.abs(cn.x)>0||Math.abs(cn.y)>0)&&Hr(!0),(At=J.current)==null||At.style.setProperty("--swipe-amount-x",`${cn.x}px`),(ln=J.current)==null||ln.style.setProperty("--swipe-amount-y",`${cn.y}px`)}},Dn&&!m.jsx?G.createElement("button",{"aria-label":pe,"data-disabled":Ri,"data-close-button":!0,onClick:Ri||!de?()=>{}:()=>{var me;On(),(me=m.onDismiss)==null||me.call(m,m)},className:Kn(z==null?void 0:z.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=ee==null?void 0:ee.close)!=null?i:H2):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,Y||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:Kn(z==null?void 0:z.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||qr():null,m.type!=="loading"?m.icon||(ee==null?void 0:ee[Y])||F2(Y):null):null,G.createElement("div",{"data-content":"",className:Kn(z==null?void 0:z.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:Kn(z==null?void 0:z.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:Kn(P,Ct,z==null?void 0:z.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&ku(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:me=>{var be,Ve;ku(m.cancel)&&de&&((Ve=(be=m.cancel).onClick)==null||Ve.call(be,me),On())},className:Kn(z==null?void 0:z.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&ku(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:me=>{var be,Ve;ku(m.action)&&((Ve=(be=m.action).onClick)==null||Ve.call(be,me),!me.defaultPrevented&&On())},className:Kn(z==null?void 0:z.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function J_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function cD(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?nD:tD;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var uD=S.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:T=eD,toastOptions:w,dir:E=J_(),gap:_=sD,loadingIcon:v,icons:x,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:O}=t,[L,C]=G.useState([]),I=G.useMemo(()=>Array.from(new Set([r].concat(L.filter(se=>se.position).map(se=>se.position)))),[L,r]),[b,R]=G.useState([]),[D,k]=G.useState(!1),[P,q]=G.useState(!1),[le,ie]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=G.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=G.useRef(null),ee=G.useRef(!1),pe=G.useCallback(se=>{C(ce=>{var _e;return(_e=ce.find(De=>De.id===se.id))!=null&&_e.delete||dn.dismiss(se.id),ce.filter(({id:De})=>De!==se.id)})},[]);return G.useEffect(()=>dn.subscribe(se=>{if(se.dismiss){C(ce=>ce.map(_e=>_e.id===se.id?{..._e,delete:!0}:_e));return}setTimeout(()=>{WT.flushSync(()=>{C(ce=>{let _e=ce.findIndex(De=>De.id===se.id);return _e!==-1?[...ce.slice(0,_e),{...ce[_e],...se},...ce.slice(_e+1)]:[se,...ce]})})})}),[]),G.useEffect(()=>{if(d!=="system"){ie(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;let se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:ce})=>{ie(ce?"dark":"light")})}catch{se.addListener(({matches:_e})=>{try{ie(_e?"dark":"light")}catch(De){console.error(De)}})}},[d]),G.useEffect(()=>{L.length<=1&&k(!1)},[L]),G.useEffect(()=>{let se=ce=>{var _e,De;s.every(at=>ce[at]||ce.code===at)&&(k(!0),(_e=ae.current)==null||_e.focus()),ce.code==="Escape"&&(document.activeElement===ae.current||(De=ae.current)!=null&&De.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[s]),G.useEffect(()=>{if(ae.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,ee.current=!1)}},[ae.current]),G.createElement("section",{ref:e,"aria-label":`${N} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((se,ce)=>{var _e;let[De,at]=se.split("-");return L.length?G.createElement("ol",{key:se,dir:E==="auto"?J_():E,tabIndex:-1,ref:ae,className:a,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":De,"data-lifted":D&&L.length>1&&!i,"data-x-position":at,style:{"--front-toast-height":`${((_e=b[0])==null?void 0:_e.height)||0}px`,"--width":`${rD}px`,"--gap":`${_}px`,...m,...cD(c,u)},onBlur:Ee=>{ee.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(ee.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,z.current=Ee.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{P||k(!1)},onDragEnd:()=>k(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},L.filter(Ee=>!Ee.position&&ce===0||Ee.position===se).map((Ee,zn)=>{var on,Mt;return G.createElement(lD,{key:Ee.id,icons:x,index:zn,toast:Ee,defaultRichColors:h,duration:(on=w==null?void 0:w.duration)!=null?on:p,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:T,closeButton:(Mt=w==null?void 0:w.closeButton)!=null?Mt:o,interacting:P,position:se,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:pe,toasts:L.filter(Yt=>Yt.position==Ee.position),heights:b.filter(Yt=>Yt.position==Ee.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:v,expanded:D,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const dD=({...t})=>{const{theme:e="system"}=L2();return g.jsx(uD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var hD=bg[" useId ".trim().toString()]||(()=>{}),fD=0;function fp(t){const[e,n]=S.useState(hD());return us(()=>{t||n(r=>r??String(fD++))},[t]),t||(e?`radix-${e}`:"")}const pD=["top","right","bottom","left"],fi=Math.min,Tn=Math.max,zd=Math.round,Nu=Math.floor,Dr=t=>({x:t,y:t}),mD={left:"right",right:"left",bottom:"top",top:"bottom"},gD={start:"end",end:"start"};function Lm(t,e,n){return Tn(t,fi(e,n))}function ds(t,e){return typeof t=="function"?t(e):t}function hs(t){return t.split("-")[0]}function Ma(t){return t.split("-")[1]}function Iy(t){return t==="x"?"y":"x"}function Cy(t){return t==="y"?"height":"width"}const yD=new Set(["top","bottom"]);function Ar(t){return yD.has(hs(t))?"y":"x"}function Ay(t){return Iy(Ar(t))}function vD(t,e,n){n===void 0&&(n=!1);const r=Ma(t),s=Ay(t),i=Cy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Wd(o)),[o,Wd(o)]}function wD(t){const e=Wd(t);return[Fm(t),e,Fm(e)]}function Fm(t){return t.replace(/start|end/g,e=>gD[e])}const Z_=["left","right"],e0=["right","left"],_D=["top","bottom"],ED=["bottom","top"];function xD(t,e,n){switch(t){case"top":case"bottom":return n?e?e0:Z_:e?Z_:e0;case"left":case"right":return e?_D:ED;default:return[]}}function TD(t,e,n,r){const s=Ma(t);let i=xD(hs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Fm)))),i}function Wd(t){return t.replace(/left|right|bottom|top/g,e=>mD[e])}function SD(t){return{top:0,right:0,bottom:0,left:0,...t}}function FS(t){return typeof t!="number"?SD(t):{top:t,right:t,bottom:t,left:t}}function Hd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function t0(t,e,n){let{reference:r,floating:s}=t;const i=Ar(e),o=Ay(e),a=Cy(o),c=hs(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ma(e)){case"start":m[o]-=p*(n&&u?-1:1);break;case"end":m[o]+=p*(n&&u?-1:1);break}return m}const ID=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=t0(u,r,c),p=r,m={},T=0;for(let w=0;w<a.length;w++){const{name:E,fn:_}=a[w],{x:v,y:x,data:N,reset:O}=await _({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=x??h,m={...m,[E]:{...m[E],...N}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=t0(u,p,c)),w=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function dc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=ds(e,t),T=FS(m),E=a[p?h==="floating"?"reference":"floating":h],_=Hd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},O=Hd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:c}):v);return{top:(_.top-O.top+T.top)/N.y,bottom:(O.bottom-_.bottom+T.bottom)/N.y,left:(_.left-O.left+T.left)/N.x,right:(O.right-_.right+T.right)/N.x}}const CD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=ds(t,e)||{};if(u==null)return{};const h=FS(d),p={x:n,y:r},m=Ay(s),T=Cy(m),w=await o.getDimensions(u),E=m==="y",_=E?"top":"left",v=E?"bottom":"right",x=E?"clientHeight":"clientWidth",N=i.reference[T]+i.reference[m]-p[m]-i.floating[T],O=p[m]-i.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=L?L[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=a.floating[x]||i.floating[T]);const I=N/2-O/2,b=C/2-w[T]/2-1,R=fi(h[_],b),D=fi(h[v],b),k=R,P=C-w[T]-D,q=C/2-w[T]/2+I,le=Lm(k,q,P),ie=!c.arrow&&Ma(s)!=null&&q!==le&&i.reference[T]/2-(q<k?R:D)-w[T]/2<0,ae=ie?q<k?q-k:q-P:0;return{[m]:p[m]+ae,data:{[m]:le,centerOffset:q-le-ae,...ie&&{alignmentOffset:ae}},reset:ie}}}),AD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...E}=ds(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=hs(s),v=Ar(a),x=hs(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=p||(x||!w?[Wd(a)]:wD(a)),L=T!=="none";!p&&L&&O.push(...TD(a,w,T,N));const C=[a,...O],I=await dc(e,E),b=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&b.push(I[_]),h){const q=vD(s,o,N);b.push(I[q[0]],I[q[1]])}if(R=[...R,{placement:s,overflows:b}],!b.every(q=>q<=0)){var D,k;const q=(((D=i.flip)==null?void 0:D.index)||0)+1,le=C[q];if(le&&(!(h==="alignment"?v!==Ar(le):!1)||R.every(U=>U.overflows[0]>0&&Ar(U.placement)===v)))return{data:{index:q,overflows:R},reset:{placement:le}};let ie=(k=R.filter(ae=>ae.overflows[0]<=0).sort((ae,U)=>ae.overflows[1]-U.overflows[1])[0])==null?void 0:k.placement;if(!ie)switch(m){case"bestFit":{var P;const ae=(P=R.filter(U=>{if(L){const z=Ar(U.placement);return z===v||z==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(z=>z>0).reduce((z,ee)=>z+ee,0)]).sort((U,z)=>U[1]-z[1])[0])==null?void 0:P[0];ae&&(ie=ae);break}case"initialPlacement":ie=a;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function n0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function r0(t){return pD.some(e=>t[e]>=0)}const bD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ds(t,e);switch(r){case"referenceHidden":{const i=await dc(e,{...s,elementContext:"reference"}),o=n0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:r0(o)}}}case"escaped":{const i=await dc(e,{...s,altBoundary:!0}),o=n0(i,n.floating);return{data:{escapedOffsets:o,escaped:r0(o)}}}default:return{}}}}},jS=new Set(["left","top"]);async function PD(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=hs(n),a=Ma(n),c=Ar(n)==="y",u=jS.has(o)?-1:1,d=i&&c?-1:1,h=ds(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const RD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await PD(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},kD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:v}=E;return{x:_,y:v}}},...c}=ds(t,e),u={x:n,y:r},d=await dc(e,c),h=Ar(hs(s)),p=Iy(h);let m=u[p],T=u[h];if(i){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+d[E],x=m-d[_];m=Lm(v,m,x)}if(o){const E=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=T+d[E],x=T-d[_];T=Lm(v,T,x)}const w=a.fn({...e,[p]:m,[h]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[h]:o}}}}}},ND=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=ds(t,e),d={x:n,y:r},h=Ar(s),p=Iy(h);let m=d[p],T=d[h];const w=ds(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const x=p==="y"?"height":"width",N=i.reference[p]-i.floating[x]+E.mainAxis,O=i.reference[p]+i.reference[x]-E.mainAxis;m<N?m=N:m>O&&(m=O)}if(u){var _,v;const x=p==="y"?"width":"height",N=jS.has(hs(s)),O=i.reference[h]-i.floating[x]+(N&&((_=o.offset)==null?void 0:_[h])||0)+(N?0:E.crossAxis),L=i.reference[h]+i.reference[x]+(N?0:((v=o.offset)==null?void 0:v[h])||0)-(N?E.crossAxis:0);T<O?T=O:T>L&&(T=L)}return{[p]:m,[h]:T}}}},DD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=ds(t,e),d=await dc(e,u),h=hs(s),p=Ma(s),m=Ar(s)==="y",{width:T,height:w}=i.floating;let E,_;h==="top"||h==="bottom"?(E=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,E=p==="end"?"top":"bottom");const v=w-d.top-d.bottom,x=T-d.left-d.right,N=fi(w-d[E],v),O=fi(T-d[_],x),L=!e.middlewareData.shift;let C=N,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),L&&!p){const R=Tn(d.left,0),D=Tn(d.right,0),k=Tn(d.top,0),P=Tn(d.bottom,0);m?I=T-2*(R!==0||D!==0?R+D:Tn(d.left,d.right)):C=w-2*(k!==0||P!==0?k+P:Tn(d.top,d.bottom))}await c({...e,availableWidth:I,availableHeight:C});const b=await o.getDimensions(a.floating);return T!==b.width||w!==b.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function La(t){return US(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(t){var e;return(e=(US(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function US(t){return Bh()?t instanceof Node||t instanceof An(t).Node:!1}function cr(t){return Bh()?t instanceof Element||t instanceof An(t).Element:!1}function Br(t){return Bh()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function s0(t){return!Bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}const OD=new Set(["inline","contents"]);function Lc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ur(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!OD.has(s)}const VD=new Set(["table","td","th"]);function MD(t){return VD.has(La(t))}const LD=[":popover-open",":modal"];function zh(t){return LD.some(e=>{try{return t.matches(e)}catch{return!1}})}const FD=["transform","translate","scale","rotate","perspective"],jD=["transform","translate","scale","rotate","perspective","filter"],UD=["paint","layout","strict","content"];function by(t){const e=Py(),n=cr(t)?ur(t):t;return FD.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||jD.some(r=>(n.willChange||"").includes(r))||UD.some(r=>(n.contain||"").includes(r))}function $D(t){let e=pi(t);for(;Br(e)&&!wa(e);){if(by(e))return e;if(zh(e))return null;e=pi(e)}return null}function Py(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BD=new Set(["html","body","#document"]);function wa(t){return BD.has(La(t))}function ur(t){return An(t).getComputedStyle(t)}function Wh(t){return cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(La(t)==="html")return t;const e=t.assignedSlot||t.parentNode||s0(t)&&t.host||Wr(t);return s0(e)?e.host:e}function $S(t){const e=pi(t);return wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Br(e)&&Lc(e)?e:$S(e)}function hc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=$S(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=An(s);if(i){const a=jm(o);return e.concat(o,o.visualViewport||[],Lc(s)?s:[],a&&n?hc(a):[])}return e.concat(s,hc(s,[],n))}function jm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BS(t){const e=ur(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Br(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=zd(n)!==i||zd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ry(t){return cr(t)?t:t.contextElement}function Jo(t){const e=Ry(t);if(!Br(e))return Dr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=BS(e);let o=(i?zd(n.width):n.width)/r,a=(i?zd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zD=Dr(0);function zS(t){const e=An(t);return!Py()||!e.visualViewport?zD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function so(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ry(t);let o=Dr(1);e&&(r?cr(r)&&(o=Jo(r)):o=Jo(t));const a=WD(i,n,r)?zS(i):Dr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=An(i),m=r&&cr(r)?An(r):r;let T=p,w=jm(T);for(;w&&r&&m!==T;){const E=Jo(w),_=w.getBoundingClientRect(),v=ur(w),x=_.left+(w.clientLeft+parseFloat(v.paddingLeft))*E.x,N=_.top+(w.clientTop+parseFloat(v.paddingTop))*E.y;c*=E.x,u*=E.y,d*=E.x,h*=E.y,c+=x,u+=N,T=An(w),w=jm(T)}}return Hd({width:d,height:h,x:c,y:u})}function ky(t,e){const n=Wh(t).scrollLeft;return e?e.left+n:so(Wr(t)).left+n}function WS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:ky(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function HD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Wr(r),a=e?zh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Dr(1);const d=Dr(0),h=Br(r);if((h||!h&&!i)&&((La(r)!=="body"||Lc(o))&&(c=Wh(r)),Br(r))){const m=so(r);u=Jo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!i?WS(o,c,!0):Dr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function qD(t){return Array.from(t.getClientRects())}function GD(t){const e=Wr(t),n=Wh(t),r=t.ownerDocument.body,s=Tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ky(t);const a=-n.scrollTop;return ur(r).direction==="rtl"&&(o+=Tn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function KD(t,e){const n=An(t),r=Wr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Py();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const QD=new Set(["absolute","fixed"]);function YD(t,e){const n=so(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Br(t)?Jo(t):Dr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function i0(t,e,n){let r;if(e==="viewport")r=KD(t,n);else if(e==="document")r=GD(Wr(t));else if(cr(e))r=YD(e,n);else{const s=zS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Hd(r)}function HS(t,e){const n=pi(t);return n===e||!cr(n)||wa(n)?!1:ur(n).position==="fixed"||HS(n,e)}function XD(t,e){const n=e.get(t);if(n)return n;let r=hc(t,[],!1).filter(a=>cr(a)&&La(a)!=="body"),s=null;const i=ur(t).position==="fixed";let o=i?pi(t):t;for(;cr(o)&&!wa(o);){const a=ur(o),c=by(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&QD.has(s.position)||Lc(o)&&!c&&HS(t,o))?r=r.filter(d=>d!==o):s=a,o=pi(o)}return e.set(t,r),r}function JD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?zh(e)?[]:XD(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const h=i0(e,d,s);return u.top=Tn(h.top,u.top),u.right=fi(h.right,u.right),u.bottom=fi(h.bottom,u.bottom),u.left=Tn(h.left,u.left),u},i0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZD(t){const{width:e,height:n}=BS(t);return{width:e,height:n}}function eO(t,e,n){const r=Br(e),s=Wr(e),i=n==="fixed",o=so(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Dr(0);function u(){c.x=ky(s)}if(r||!r&&!i)if((La(e)!=="body"||Lc(s))&&(a=Wh(e)),r){const m=so(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?WS(s,a):Dr(0),h=o.left+a.scrollLeft-c.x-d.x,p=o.top+a.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function pp(t){return ur(t).position==="static"}function o0(t,e){if(!Br(t)||ur(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wr(t)===n&&(n=n.ownerDocument.body),n}function qS(t,e){const n=An(t);if(zh(t))return n;if(!Br(t)){let s=pi(t);for(;s&&!wa(s);){if(cr(s)&&!pp(s))return s;s=pi(s)}return n}let r=o0(t,e);for(;r&&MD(r)&&pp(r);)r=o0(r,e);return r&&wa(r)&&pp(r)&&!by(r)?n:r||$D(t)||n}const tO=async function(t){const e=this.getOffsetParent||qS,n=this.getDimensions,r=await n(t.floating);return{reference:eO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nO(t){return ur(t).direction==="rtl"}const rO={convertOffsetParentRelativeRectToViewportRelativeRect:HD,getDocumentElement:Wr,getClippingRect:JD,getOffsetParent:qS,getElementRects:tO,getClientRects:qD,getDimensions:ZD,getScale:Jo,isElement:cr,isRTL:nO};function GS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sO(t,e){let n=null,r;const s=Wr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(a||e(),!p||!m)return;const T=Nu(h),w=Nu(s.clientWidth-(d+p)),E=Nu(s.clientHeight-(h+m)),_=Nu(d),x={rootMargin:-T+"px "+-w+"px "+-E+"px "+-_+"px",threshold:Tn(0,fi(1,c))||1};let N=!0;function O(L){const C=L[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!GS(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(O,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),i}function iO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ry(t),d=s||i?[...u?hc(u):[],...hc(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=u&&a?sO(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let T,w=c?so(t):null;c&&E();function E(){const _=so(t);w&&!GS(w,_)&&n(),w=_,T=requestAnimationFrame(E)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(T)}}const oO=RD,aO=kD,lO=AD,cO=DD,uO=bD,a0=CD,dO=ND,hO=(t,e,n)=>{const r=new Map,s={platform:rO,...n},i={...s.platform,_c:r};return ID(t,e,{...s,platform:i})};var fO=typeof document<"u",pO=function(){},sd=fO?S.useLayoutEffect:pO;function qd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!qd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function KS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function l0(t,e){const n=KS(t);return Math.round(e*n)/n}function mp(t){const e=S.useRef(t);return sd(()=>{e.current=t}),e}function mO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,h]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=S.useState(r);qd(p,r)||m(r);const[T,w]=S.useState(null),[E,_]=S.useState(null),v=S.useCallback(U=>{U!==L.current&&(L.current=U,w(U))},[]),x=S.useCallback(U=>{U!==C.current&&(C.current=U,_(U))},[]),N=i||T,O=o||E,L=S.useRef(null),C=S.useRef(null),I=S.useRef(d),b=c!=null,R=mp(c),D=mp(s),k=mp(u),P=S.useCallback(()=>{if(!L.current||!C.current)return;const U={placement:e,strategy:n,middleware:p};D.current&&(U.platform=D.current),hO(L.current,C.current,U).then(z=>{const ee={...z,isPositioned:k.current!==!1};q.current&&!qd(I.current,ee)&&(I.current=ee,Oc.flushSync(()=>{h(ee)}))})},[p,e,n,D,k]);sd(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[u]);const q=S.useRef(!1);sd(()=>(q.current=!0,()=>{q.current=!1}),[]),sd(()=>{if(N&&(L.current=N),O&&(C.current=O),N&&O){if(R.current)return R.current(N,O,P);P()}},[N,O,P,R,b]);const le=S.useMemo(()=>({reference:L,floating:C,setReference:v,setFloating:x}),[v,x]),ie=S.useMemo(()=>({reference:N,floating:O}),[N,O]),ae=S.useMemo(()=>{const U={position:n,left:0,top:0};if(!ie.floating)return U;const z=l0(ie.floating,d.x),ee=l0(ie.floating,d.y);return a?{...U,transform:"translate("+z+"px, "+ee+"px)",...KS(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:ee}},[n,a,ie.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:P,refs:le,elements:ie,floatingStyles:ae}),[d,P,le,ie,ae])}const gO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?a0({element:r.current,padding:s}).fn(n):{}:r?a0({element:r,padding:s}).fn(n):{}}}},yO=(t,e)=>({...oO(t),options:[t,e]}),vO=(t,e)=>({...aO(t),options:[t,e]}),wO=(t,e)=>({...dO(t),options:[t,e]}),_O=(t,e)=>({...lO(t),options:[t,e]}),EO=(t,e)=>({...cO(t),options:[t,e]}),xO=(t,e)=>({...uO(t),options:[t,e]}),TO=(t,e)=>({...gO(t),options:[t,e]});var SO="Arrow",QS=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(ot.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});QS.displayName=SO;var IO=QS;function CO(t){const[e,n]=S.useState(void 0);return us(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var YS="Popper",[XS,JS]=Vc(YS),[C5,ZS]=XS(YS),eI="PopperAnchor",tI=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ZS(eI,n),o=S.useRef(null),a=nn(e,o);return S.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(ot.div,{...s,ref:a})});tI.displayName=eI;var Ny="PopperContent",[AO,bO]=XS(Ny),nI=S.forwardRef((t,e)=>{var Ee,zn,on,Mt,Yt,wn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:T,...w}=t,E=ZS(Ny,n),[_,v]=S.useState(null),x=nn(e,an=>v(an)),[N,O]=S.useState(null),L=CO(N),C=(L==null?void 0:L.width)??0,I=(L==null?void 0:L.height)??0,b=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],k=D.length>0,P={padding:R,boundary:D.filter(RO),altBoundary:k},{refs:q,floatingStyles:le,placement:ie,isPositioned:ae,middlewareData:U}=mO({strategy:"fixed",placement:b,whileElementsMounted:(...an)=>iO(...an,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[yO({mainAxis:s+I,alignmentAxis:o}),c&&vO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wO():void 0,...P}),c&&_O({...P}),EO({...P,apply:({elements:an,rects:Wn,availableWidth:pr,availableHeight:Hr})=>{const{width:bi,height:ws}=Wn.reference,kn=an.floating.style;kn.setProperty("--radix-popper-available-width",`${pr}px`),kn.setProperty("--radix-popper-available-height",`${Hr}px`),kn.setProperty("--radix-popper-anchor-width",`${bi}px`),kn.setProperty("--radix-popper-anchor-height",`${ws}px`)}}),N&&TO({element:N,padding:a}),kO({arrowWidth:C,arrowHeight:I}),p&&xO({strategy:"referenceHidden",...P})]}),[z,ee]=iI(ie),pe=$r(T);us(()=>{ae&&(pe==null||pe())},[ae,pe]);const se=(Ee=U.arrow)==null?void 0:Ee.x,ce=(zn=U.arrow)==null?void 0:zn.y,_e=((on=U.arrow)==null?void 0:on.centerOffset)!==0,[De,at]=S.useState();return us(()=>{_&&at(window.getComputedStyle(_).zIndex)},[_]),g.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:ae?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(Mt=U.transformOrigin)==null?void 0:Mt.x,(Yt=U.transformOrigin)==null?void 0:Yt.y].join(" "),...((wn=U.hide)==null?void 0:wn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(AO,{scope:n,placedSide:z,onArrowChange:O,arrowX:se,arrowY:ce,shouldHideArrow:_e,children:g.jsx(ot.div,{"data-side":z,"data-align":ee,...w,ref:x,style:{...w.style,animation:ae?void 0:"none"}})})})});nI.displayName=Ny;var rI="PopperArrow",PO={top:"bottom",right:"left",bottom:"top",left:"right"},sI=S.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=bO(rI,r),o=PO[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(IO,{...s,ref:n,style:{...s.style,display:"block"}})})});sI.displayName=rI;function RO(t){return t!==null}var kO=t=>({name:"transformOrigin",options:t,fn(e){var E,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=iI(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let T="",w="";return u==="bottom"?(T=o?h:`${p}px`,w=`${-c}px`):u==="top"?(T=o?h:`${p}px`,w=`${r.floating.height+c}px`):u==="right"?(T=`${-c}px`,w=o?h:`${m}px`):u==="left"&&(T=`${r.floating.width+c}px`,w=o?h:`${m}px`),{data:{x:T,y:w}}}});function iI(t){const[e,n="center"]=t.split("-");return[e,n]}var NO=tI,DO=nI,OO=sI,[Hh,A5]=Vc("Tooltip",[JS]),Dy=JS(),oI="TooltipProvider",VO=700,c0="tooltip.open",[MO,aI]=Hh(oI),lI=t=>{const{__scopeTooltip:e,delayDuration:n=VO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=S.useRef(!0),a=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(MO,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};lI.displayName=oI;var cI="Tooltip",[b5,qh]=Hh(cI),Um="TooltipTrigger",LO=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qh(Um,n),i=aI(Um,n),o=Dy(n),a=S.useRef(null),c=nn(e,a,s.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),h=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),g.jsx(NO,{asChild:!0,...o,children:g.jsx(ot.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ge(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ge(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ge(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ge(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ge(t.onBlur,s.onClose),onClick:Ge(t.onClick,s.onClose)})})});LO.displayName=Um;var FO="TooltipPortal",[P5,jO]=Hh(FO,{forceMount:void 0}),_a="TooltipContent",uI=S.forwardRef((t,e)=>{const n=jO(_a,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=qh(_a,t.__scopeTooltip);return g.jsx(Oa,{present:r||o.open,children:o.disableHoverableContent?g.jsx(dI,{side:s,...i,ref:e}):g.jsx(UO,{side:s,...i,ref:e})})}),UO=S.forwardRef((t,e)=>{const n=qh(_a,t.__scopeTooltip),r=aI(_a,t.__scopeTooltip),s=S.useRef(null),i=nn(e,s),[o,a]=S.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=S.useCallback(()=>{a(null),h(!1)},[h]),m=S.useCallback((T,w)=>{const E=T.currentTarget,_={x:T.clientX,y:T.clientY},v=HO(_,E.getBoundingClientRect()),x=qO(_,v),N=GO(w.getBoundingClientRect()),O=QO([...x,...N]);a(O),h(!0)},[h]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(c&&d){const T=E=>m(E,d),w=E=>m(E,c);return c.addEventListener("pointerleave",T),d.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",w)}}},[c,d,m,p]),S.useEffect(()=>{if(o){const T=w=>{const E=w.target,_={x:w.clientX,y:w.clientY},v=(c==null?void 0:c.contains(E))||(d==null?void 0:d.contains(E)),x=!KO(_,o);v?p():x&&(p(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[c,d,o,u,p]),g.jsx(dI,{...t,ref:i})}),[$O,BO]=Hh(cI,{isInside:!1}),zO=tN("TooltipContent"),dI=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=qh(_a,n),u=Dy(n),{onClose:d}=c;return S.useEffect(()=>(document.addEventListener(c0,d),()=>document.removeEventListener(c0,d)),[d]),S.useEffect(()=>{if(c.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),g.jsx(Fh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:g.jsxs(DO,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(zO,{children:r}),g.jsx($O,{scope:n,isInside:!0,children:g.jsx(IN,{id:c.contentId,role:"tooltip",children:s||r})})]})})});uI.displayName=_a;var hI="TooltipArrow",WO=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dy(n);return BO(hI,n).isInside?null:g.jsx(OO,{...s,...r,ref:e})});WO.displayName=hI;function HO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function qO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function GO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function KO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,h=c.x,p=c.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function QO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YO(e)}function YO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var XO=lI,fI=uI;const JO=XO,ZO=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(fI,{ref:r,sideOffset:e,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));ZO.displayName=fI.displayName;var Gh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kh=typeof window>"u"||"Deno"in globalThis;function Yn(){}function eV(t,e){return typeof t=="function"?t(e):t}function tV(t){return typeof t=="number"&&t>=0&&t!==1/0}function nV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $m(t,e){return typeof t=="function"?t(e):t}function rV(t,e){return typeof t=="function"?t(e):t}function u0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Oy(o,e.options))return!1}else if(!pc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function d0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(fc(e.options.mutationKey)!==fc(i))return!1}else if(!pc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Oy(t,e){return((e==null?void 0:e.queryKeyHashFn)||fc)(t)}function fc(t){return JSON.stringify(t,(e,n)=>Bm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function pc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>pc(t[n],e[n])):!1}function pI(t,e){if(t===e)return t;const n=h0(t)&&h0(e);if(n||Bm(t)&&Bm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=pI(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function h0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bm(t){if(!f0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!f0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function f0(t){return Object.prototype.toString.call(t)==="[object Object]"}function sV(t){return new Promise(e=>{setTimeout(e,t)})}function iV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pI(t,e):e}function oV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function aV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Vy=Symbol();function mI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Vy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Bi,$s,sa,T1,lV=(T1=class extends Gh{constructor(){super();ke(this,Bi);ke(this,$s);ke(this,sa);ve(this,sa,e=>{if(!Kh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,$s)||this.setEventListener(B(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,$s))==null||e.call(this),ve(this,$s,void 0))}setEventListener(e){var n;ve(this,sa,e),(n=B(this,$s))==null||n.call(this),ve(this,$s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Bi)!==e&&(ve(this,Bi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Bi)=="boolean"?B(this,Bi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bi=new WeakMap,$s=new WeakMap,sa=new WeakMap,T1),gI=new lV,ia,Bs,oa,S1,cV=(S1=class extends Gh{constructor(){super();ke(this,ia,!0);ke(this,Bs);ke(this,oa);ve(this,oa,e=>{if(!Kh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Bs)||this.setEventListener(B(this,oa))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Bs))==null||e.call(this),ve(this,Bs,void 0))}setEventListener(e){var n;ve(this,oa,e),(n=B(this,Bs))==null||n.call(this),ve(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){B(this,ia)!==e&&(ve(this,ia,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,ia)}},ia=new WeakMap,Bs=new WeakMap,oa=new WeakMap,S1),Gd=new cV;function uV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function dV(t){return Math.min(1e3*2**t,3e4)}function yI(t){return(t??"online")==="online"?Gd.isOnline():!0}var vI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gp(t){return t instanceof vI}function wI(t){let e=!1,n=0,r=!1,s;const i=uV(),o=w=>{var E;r||(p(new vI(w)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>gI.isFocused()&&(t.networkMode==="always"||Gd.isOnline())&&t.canRun(),d=()=>yI(t.networkMode)&&t.canRun(),h=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var E;s=_=>{(r||u())&&w(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),T=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(h).catch(_=>{var L;if(r)return;const v=t.retry??(Kh?0:3),x=t.retryDelay??dV,N=typeof x=="function"?x(n,_):x,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!O){p(_);return}n++,(L=t.onFail)==null||L.call(t,n,_),sV(N).then(()=>u()?void 0:m()).then(()=>{e?p(_):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?T():m().then(T),i)}}var hV=t=>setTimeout(t,0);function fV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=hV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var en=fV(),zi,I1,_I=(I1=class{constructor(){ke(this,zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tV(this.gcTime)&&ve(this,zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kh?1/0:5*60*1e3))}clearGcTimeout(){B(this,zi)&&(clearTimeout(B(this,zi)),ve(this,zi,void 0))}},zi=new WeakMap,I1),aa,Wi,Vn,Hi,zt,Ac,qi,Xn,Xr,C1,pV=(C1=class extends _I{constructor(n){super();ke(this,Xn);ke(this,aa);ke(this,Wi);ke(this,Vn);ke(this,Hi);ke(this,zt);ke(this,Ac);ke(this,qi);ve(this,qi,!1),ve(this,Ac,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,Hi,n.client),ve(this,Vn,B(this,Hi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,aa,gV(this.options)),this.state=n.state??B(this,aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,zt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,Ac),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Vn).remove(this)}setData(n,r){const s=iV(this.state.data,n,this.options);return jt(this,Xn,Xr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){jt(this,Xn,Xr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,zt))==null?void 0:s.promise;return(i=B(this,zt))==null||i.cancel(n),r?r.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,aa))}isActive(){return this.observers.some(n=>rV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>$m(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!nV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,zt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,zt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,Vn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,zt)&&(B(this,qi)?B(this,zt).cancel({revert:!0}):B(this,zt).cancelRetry()),this.scheduleGc()),B(this,Vn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jt(this,Xn,Xr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,zt))return B(this,zt).continueRetry(),B(this,zt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(T=>T.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ve(this,qi,!0),s.signal)})},o=()=>{const m=mI(this.options,r),w=(()=>{const E={client:B(this,Hi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ve(this,qi,!1),this.options.persister?this.options.persister(m,w,this):m(w)},c=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Hi),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),ve(this,Wi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&jt(this,Xn,Xr).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=m=>{var T,w,E,_;gp(m)&&m.silent||jt(this,Xn,Xr).call(this,{type:"error",error:m}),gp(m)||((w=(T=B(this,Vn).config).onError)==null||w.call(T,m,this),(_=(E=B(this,Vn).config).onSettled)==null||_.call(E,this.state.data,m,this)),this.scheduleGc()};return ve(this,zt,wI({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var T,w,E,_;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){u(v);return}(w=(T=B(this,Vn).config).onSuccess)==null||w.call(T,m,this),(_=(E=B(this,Vn).config).onSettled)==null||_.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,T)=>{jt(this,Xn,Xr).call(this,{type:"failed",failureCount:m,error:T})},onPause:()=>{jt(this,Xn,Xr).call(this,{type:"pause"})},onContinue:()=>{jt(this,Xn,Xr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),B(this,zt).start()}},aa=new WeakMap,Wi=new WeakMap,Vn=new WeakMap,Hi=new WeakMap,zt=new WeakMap,Ac=new WeakMap,qi=new WeakMap,Xn=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...mV(s.data,this.options),fetchMeta:n.meta??null};case"success":return ve(this,Wi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return gp(i)&&i.revert&&B(this,Wi)?{...B(this,Wi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),en.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,Vn).notify({query:this,type:"updated",action:n})})},C1);function mV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,A1,yV=(A1=class extends Gh{constructor(e={}){super();ke(this,xr);this.config=e,ve(this,xr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Oy(s,n);let o=this.get(i);return o||(o=new pV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,xr).has(e.queryHash)||(B(this,xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,xr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,xr).get(e)}getAll(){return[...B(this,xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>u0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>u0(e,r)):n}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){en.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xr=new WeakMap,A1),Tr,Xt,Gi,Sr,Ps,b1,vV=(b1=class extends _I{constructor(n){super();ke(this,Sr);ke(this,Tr);ke(this,Xt);ke(this,Gi);this.mutationId=n.mutationId,ve(this,Xt,n.mutationCache),ve(this,Tr,[]),this.state=n.state||wV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,Tr).includes(n)||(B(this,Tr).push(n),this.clearGcTimeout(),B(this,Xt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,Tr,B(this,Tr).filter(r=>r!==n)),this.scheduleGc(),B(this,Xt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Xt).remove(this))}continue(){var n;return((n=B(this,Gi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,d,h,p,m,T,w,E,_,v,x,N,O,L,C,I,b;const r=()=>{jt(this,Sr,Ps).call(this,{type:"continue"})};ve(this,Gi,wI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{jt(this,Sr,Ps).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{jt(this,Sr,Ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Xt).canRun(this)}));const s=this.state.status==="pending",i=!B(this,Gi).canStart();try{if(s)r();else{jt(this,Sr,Ps).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=B(this,Xt).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));D!==this.state.context&&jt(this,Sr,Ps).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const R=await B(this,Gi).start();return await((h=(d=B(this,Xt).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,n,this.state.context)),await((w=(T=B(this,Xt).config).onSettled)==null?void 0:w.call(T,R,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,R,null,n,this.state.context)),jt(this,Sr,Ps).call(this,{type:"success",data:R}),R}catch(R){try{throw await((x=(v=B(this,Xt).config).onError)==null?void 0:x.call(v,R,n,this.state.context,this)),await((O=(N=this.options).onError)==null?void 0:O.call(N,R,n,this.state.context)),await((C=(L=B(this,Xt).config).onSettled)==null?void 0:C.call(L,void 0,R,this.state.variables,this.state.context,this)),await((b=(I=this.options).onSettled)==null?void 0:b.call(I,void 0,R,n,this.state.context)),R}finally{jt(this,Sr,Ps).call(this,{type:"error",error:R})}}finally{B(this,Xt).runNext(this)}}},Tr=new WeakMap,Xt=new WeakMap,Gi=new WeakMap,Sr=new WeakSet,Ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),en.batch(()=>{B(this,Tr).forEach(s=>{s.onMutationUpdate(n)}),B(this,Xt).notify({mutation:this,type:"updated",action:n})})},b1);function wV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var es,Jn,bc,P1,_V=(P1=class extends Gh{constructor(e={}){super();ke(this,es);ke(this,Jn);ke(this,bc);this.config=e,ve(this,es,new Set),ve(this,Jn,new Map),ve(this,bc,0)}build(e,n,r){const s=new vV({mutationCache:this,mutationId:++du(this,bc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,es).add(e);const n=Du(e);if(typeof n=="string"){const r=B(this,Jn).get(n);r?r.push(e):B(this,Jn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,es).delete(e)){const n=Du(e);if(typeof n=="string"){const r=B(this,Jn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,Jn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Du(e);if(typeof n=="string"){const r=B(this,Jn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Du(e);if(typeof n=="string"){const s=(r=B(this,Jn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){en.batch(()=>{B(this,es).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,es).clear(),B(this,Jn).clear()})}getAll(){return Array.from(B(this,es))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>d0(n,r))}findAll(e={}){return this.getAll().filter(n=>d0(e,n))}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(e.map(n=>n.continue().catch(Yn))))}},es=new WeakMap,Jn=new WeakMap,bc=new WeakMap,P1);function Du(t){var e;return(e=t.options.scope)==null?void 0:e.id}function p0(t){return{onFetch:(e,n)=>{var d,h,p,m,T;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const E=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=mI(e.options,e.fetchOptions),v=async(x,N,O)=>{if(w)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};return E(D),D})(),I=await _(C),{maxPages:b}=e.options,R=O?aV:oV;return{pages:R(x.pages,I,b),pageParams:R(x.pageParams,N,b)}};if(s&&i.length){const x=s==="backward",N=x?EV:m0,O={pages:i,pageParams:o},L=N(r,O);a=await v(O,L,x)}else{const x=t??i.length;do{const N=c===0?o[0]??r.initialPageParam:m0(r,a);if(c>0&&N==null)break;a=await v(a,N),c++}while(c<x)}return a};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function m0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function EV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var et,zs,Ws,la,ca,Hs,ua,da,R1,xV=(R1=class{constructor(t={}){ke(this,et);ke(this,zs);ke(this,Ws);ke(this,la);ke(this,ca);ke(this,Hs);ke(this,ua);ke(this,da);ve(this,et,t.queryCache||new yV),ve(this,zs,t.mutationCache||new _V),ve(this,Ws,t.defaultOptions||{}),ve(this,la,new Map),ve(this,ca,new Map),ve(this,Hs,0)}mount(){du(this,Hs)._++,B(this,Hs)===1&&(ve(this,ua,gI.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,et).onFocus())})),ve(this,da,Gd.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,et).onOnline())})))}unmount(){var t,e;du(this,Hs)._--,B(this,Hs)===0&&((t=B(this,ua))==null||t.call(this),ve(this,ua,void 0),(e=B(this,da))==null||e.call(this),ve(this,da,void 0))}isFetching(t){return B(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,zs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,et).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($m(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,et).get(r.queryHash),i=s==null?void 0:s.state.data,o=eV(e,i);if(o!==void 0)return B(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>B(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,et);en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,et);return en.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=en.batch(()=>B(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Yn).catch(Yn)}invalidateQueries(t,e={}){return en.batch(()=>(B(this,et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=en.batch(()=>B(this,et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,et).build(this,e);return n.isStaleByTime($m(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yn).catch(Yn)}fetchInfiniteQuery(t){return t.behavior=p0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yn).catch(Yn)}ensureInfiniteQueryData(t){return t.behavior=p0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gd.isOnline()?B(this,zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,et)}getMutationCache(){return B(this,zs)}getDefaultOptions(){return B(this,Ws)}setDefaultOptions(t){ve(this,Ws,t)}setQueryDefaults(t,e){B(this,la).set(fc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,la).values()],n={};return e.forEach(r=>{pc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,ca).set(fc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,ca).values()],n={};return e.forEach(r=>{pc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Oy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Vy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,et).clear(),B(this,zs).clear()}},et=new WeakMap,zs=new WeakMap,Ws=new WeakMap,la=new WeakMap,ca=new WeakMap,Hs=new WeakMap,ua=new WeakMap,da=new WeakMap,R1),TV=S.createContext(void 0),SV=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(TV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const g0="popstate";function IV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return zm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xI(s)}return AV(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CV(){return Math.random().toString(36).substr(2,8)}function y0(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,n,r){return n===void 0&&(n=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fa(e):e,{state:n,key:e&&e.key||r||CV()})}function xI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ks.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(mc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ks.Pop;let E=d(),_=E==null?null:E-u;u=E,c&&c({action:a,location:w.location,delta:_})}function p(E,_){a=Ks.Push;let v=zm(w.location,E,_);u=d()+1;let x=y0(v,u),N=w.createHref(v);try{o.pushState(x,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}i&&c&&c({action:a,location:w.location,delta:1})}function m(E,_){a=Ks.Replace;let v=zm(w.location,E,_);u=d();let x=y0(v,u),N=w.createHref(v);o.replaceState(x,"",N),i&&c&&c({action:a,location:w.location,delta:0})}function T(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:xI(E);return v=v.replace(/ $/,"%20"),yt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let w={get action(){return a},get location(){return t(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(g0,h),c=E,()=>{s.removeEventListener(g0,h),c=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let _=T(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(E){return o.go(E)}};return w}var v0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v0||(v0={}));function bV(t,e,n){return n===void 0&&(n="/"),PV(t,e,n,!1)}function PV(t,e,n,r){let s=typeof e=="string"?Fa(e):e,i=II(s.pathname||"/",n);if(i==null)return null;let o=TI(t);RV(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=$V(i);a=jV(o[c],u,r)}return a}function TI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(yt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Yi([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:LV(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of SI(i.path))s(i,o,c)}),e}function SI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=SI(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function RV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kV=/^:[\w-]+$/,NV=3,DV=2,OV=1,VV=10,MV=-2,w0=t=>t==="*";function LV(t,e){let n=t.split("/"),r=n.length;return n.some(w0)&&(r+=MV),e&&(r+=DV),n.filter(s=>!w0(s)).reduce((s,i)=>s+(kV.test(i)?NV:i===""?OV:VV),r)}function FV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function jV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=_0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=_0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Yi([i,h.pathname]),pathnameBase:GV(Yi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Yi([i,h.pathnameBase]))}return o}function _0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[h];return m&&!T?u[p]=void 0:u[p]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function UV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),EI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $V(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function II(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fa(t):t;return{pathname:n?n.startsWith("/")?n:zV(n,e):e,search:KV(r),hash:QV(s)}}function zV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function HV(t,e){let n=WV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qV(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fa(t):(s=mc({},t),yt(!s.pathname||!s.pathname.includes("?"),yp("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),yp("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),yp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let c=BV(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),GV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CI=["post","put","patch","delete"];new Set(CI);const XV=["get",...CI];new Set(XV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}const My=S.createContext(null),JV=S.createContext(null),Qh=S.createContext(null),Yh=S.createContext(null),mo=S.createContext({outlet:null,matches:[],isDataRoute:!1}),AI=S.createContext(null);function Xh(){return S.useContext(Yh)!=null}function Ly(){return Xh()||yt(!1),S.useContext(Yh).location}function bI(t){S.useContext(Qh).static||S.useLayoutEffect(t)}function ZV(){let{isDataRoute:t}=S.useContext(mo);return t?fM():eM()}function eM(){Xh()||yt(!1);let t=S.useContext(My),{basename:e,future:n,navigator:r}=S.useContext(Qh),{matches:s}=S.useContext(mo),{pathname:i}=Ly(),o=JSON.stringify(HV(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return bI(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=qV(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function tM(){let{matches:t}=S.useContext(mo),e=t[t.length-1];return e?e.params:{}}function nM(t,e){return rM(t,e)}function rM(t,e,n,r){Xh()||yt(!1);let{navigator:s}=S.useContext(Qh),{matches:i}=S.useContext(mo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ly(),d;if(e){var h;let E=typeof e=="string"?Fa(e):e;c==="/"||(h=E.pathname)!=null&&h.startsWith(c)||yt(!1),d=E}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let E=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=bV(t,{pathname:m}),w=lM(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Yi([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Yi([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&w?S.createElement(Yh.Provider,{value:{location:gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ks.Pop}},w):w}function sM(){let t=hM(),e=YV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const iM=S.createElement(sM,null);class oM extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(mo.Provider,{value:this.props.routeContext},S.createElement(AI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aM(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(My);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(mo.Provider,{value:e},r)}function lM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||yt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||T){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,T=!1,w=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||iM,c&&(u<0&&p===0?(T=!0,E=null):u===p&&(T=!0,E=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),v=()=>{let x;return m?x=w:T?x=E:h.route.Component?x=S.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,S.createElement(aM,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(oM,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var PI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PI||{}),Kd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kd||{});function cM(t){let e=S.useContext(My);return e||yt(!1),e}function uM(t){let e=S.useContext(JV);return e||yt(!1),e}function dM(t){let e=S.useContext(mo);return e||yt(!1),e}function RI(t){let e=dM(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function hM(){var t;let e=S.useContext(AI),n=uM(Kd.UseRouteError),r=RI(Kd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fM(){let{router:t}=cM(PI.UseNavigateStable),e=RI(Kd.UseNavigateStable),n=S.useRef(!1);return bI(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gc({fromRouteId:e},i)))},[t,e])}function pM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function id(t){yt(!1)}function mM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ks.Pop,navigator:i,static:o=!1,future:a}=t;Xh()&&yt(!1);let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:o,future:gc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Fa(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:T="default"}=r,w=S.useMemo(()=>{let E=II(d,c);return E==null?null:{location:{pathname:E,search:h,hash:p,state:m,key:T},navigationType:s}},[c,d,h,p,m,T,s]);return w==null?null:S.createElement(Qh.Provider,{value:u},S.createElement(Yh.Provider,{children:n,value:w}))}function gM(t){let{children:e,location:n}=t;return nM(Wm(e),n)}new Promise(()=>{});function Wm(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,Wm(r.props.children,i));return}r.type!==id&&yt(!1),!r.props.index||!r.props.children||yt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yM="6";try{window.__reactRouterVersion=yM}catch{}const vM="startTransition",E0=bg[vM];function wM(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=IV({window:s,v5Compat:!0}));let o=i.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=S.useCallback(h=>{u&&E0?E0(()=>c(h)):c(h)},[c,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>pM(r),[r]),S.createElement(mM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var x0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x0||(x0={}));var T0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(T0||(T0={}));const _M=()=>{};var S0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},NI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new xM;const p=i<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TM=function(t){const e=kI(t);return NI.encodeByteArray(e,!0)},Qd=function(t){return TM(t).replace(/\./g,"")},DI=function(t){try{return NI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=()=>SM().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof S0>"u")return;const t=S0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DI(t[1]);return e&&JSON.parse(e)},Jh=()=>{try{return _M()||IM()||CM()||AM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OI=t=>{var e,n;return(n=(e=Jh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},bM=t=>{const e=OI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VI=()=>{var t;return(t=Jh())==null?void 0:t.config},MI=t=>{var e;return(e=Jh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qd(JSON.stringify(n)),Qd(JSON.stringify(o)),""].join(".")}const Fl={};function kM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?t.emulator.push(e):t.prod.push(e);return t}function NM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let I0=!1;function FI(t,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||Fl[t]===e||Fl[t]||I0)return;Fl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=kM().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{I0=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=NM(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),d(E,w);const N=u();c(v,_),x.append(v,T,E,N),document.body.appendChild(x)}i?(T.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function OM(){var e;const t=(e=Jh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FM(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jM(){return!OM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UM(){try{return typeof indexedDB=="object"}catch{return!1}}function $M(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="FirebaseError";class vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BM,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?zM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new vs(s,a,r)}}function zM(t,e){return t.replace(WM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const WM=/\{\$([^}]+)}/g;function HM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function io(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(C0(i)&&C0(o)){if(!io(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function C0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function El(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qM(t,e){const n=new GM(t,e);return n.subscribe.bind(n)}class GM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XM(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YM(t){return t===Mi?void 0:t}function XM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const ZM={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},eL=Te.INFO,tL={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},nL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fy{constructor(e){this.name=e,this._logLevel=eL,this._logHandler=nL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const rL=(t,e)=>e.some(n=>t instanceof n);let A0,b0;function sL(){return A0||(A0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iL(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jI=new WeakMap,Hm=new WeakMap,UI=new WeakMap,wp=new WeakMap,jy=new WeakMap;function oL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(si(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jI.set(n,t)}).catch(()=>{}),jy.set(e,t),e}function aL(t){if(Hm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hm.set(t,e)}let qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lL(t){qm=t(qm)}function cL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_p(this),e,...n);return UI.set(r,e.sort?e.sort():[e]),si(r)}:iL().includes(t)?function(...e){return t.apply(_p(this),e),si(jI.get(this))}:function(...e){return si(t.apply(_p(this),e))}}function uL(t){return typeof t=="function"?cL(t):(t instanceof IDBTransaction&&aL(t),rL(t,sL())?new Proxy(t,qm):t)}function si(t){if(t instanceof IDBRequest)return oL(t);if(wp.has(t))return wp.get(t);const e=uL(t);return e!==t&&(wp.set(t,e),jy.set(e,t)),e}const _p=t=>jy.get(t);function dL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",c=>{r(si(o.result),c.oldVersion,c.newVersion,si(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hL=["get","getKey","getAll","getAllKeys","count"],fL=["put","add","delete","clear"],Ep=new Map;function P0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hL.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Ep.set(e,i),i}lL(t=>({...t,get:(e,n,r)=>P0(e,n)||t.get(e,n,r),has:(e,n)=>!!P0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gm="@firebase/app",R0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Fy("@firebase/app"),gL="@firebase/app-compat",yL="@firebase/analytics-compat",vL="@firebase/analytics",wL="@firebase/app-check-compat",_L="@firebase/app-check",EL="@firebase/auth",xL="@firebase/auth-compat",TL="@firebase/database",SL="@firebase/data-connect",IL="@firebase/database-compat",CL="@firebase/functions",AL="@firebase/functions-compat",bL="@firebase/installations",PL="@firebase/installations-compat",RL="@firebase/messaging",kL="@firebase/messaging-compat",NL="@firebase/performance",DL="@firebase/performance-compat",OL="@firebase/remote-config",VL="@firebase/remote-config-compat",ML="@firebase/storage",LL="@firebase/storage-compat",FL="@firebase/firestore",jL="@firebase/ai",UL="@firebase/firestore-compat",$L="firebase",BL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",zL={[Gm]:"fire-core",[gL]:"fire-core-compat",[vL]:"fire-analytics",[yL]:"fire-analytics-compat",[_L]:"fire-app-check",[wL]:"fire-app-check-compat",[EL]:"fire-auth",[xL]:"fire-auth-compat",[TL]:"fire-rtdb",[SL]:"fire-data-connect",[IL]:"fire-rtdb-compat",[CL]:"fire-fn",[AL]:"fire-fn-compat",[bL]:"fire-iid",[PL]:"fire-iid-compat",[RL]:"fire-fcm",[kL]:"fire-fcm-compat",[NL]:"fire-perf",[DL]:"fire-perf-compat",[OL]:"fire-rc",[VL]:"fire-rc-compat",[ML]:"fire-gcs",[LL]:"fire-gcs-compat",[FL]:"fire-fst",[UL]:"fire-fst-compat",[jL]:"fire-vertex","fire-js":"fire-js",[$L]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,WL=new Map,Qm=new Map;function k0(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){const e=t.name;if(Qm.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(const n of Yd.values())k0(n,t);for(const n of WL.values())k0(n,t);return!0}function Uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new Fc("app","Firebase",HL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=BL;function $I(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Km,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ii.create("bad-app-name",{appName:String(s)});if(n||(n=VI()),!n)throw ii.create("no-options");const i=Yd.get(s);if(i){if(io(n,i.options)&&io(r,i.config))return i;throw ii.create("duplicate-app",{appName:s})}const o=new JM(s);for(const c of Qm.values())o.addComponent(c);const a=new qL(n,r,o);return Yd.set(s,a),a}function BI(t=Km){const e=Yd.get(t);if(!e&&t===Km&&VI())return $I();if(!e)throw ii.create("no-app",{appName:t});return e}function oi(t,e,n){let r=zL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(o.join(" "));return}Ea(new oo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="firebase-heartbeat-database",KL=1,yc="firebase-heartbeat-store";let xp=null;function zI(){return xp||(xp=dL(GL,KL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),xp}async function QL(t){try{const n=(await zI()).transaction(yc),r=await n.objectStore(yc).get(WI(t));return await n.done,r}catch(e){if(e instanceof vs)fs.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function N0(t,e){try{const r=(await zI()).transaction(yc,"readwrite");await r.objectStore(yc).put(e,WI(t)),await r.done}catch(n){if(n instanceof vs)fs.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function WI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1024,XL=30;class JL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>XL){const o=t4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D0(),{heartbeatsToSend:r,unsentEntries:s}=ZL(this._heartbeatsCache.heartbeats),i=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return fs.warn(n),""}}}function D0(){return new Date().toISOString().substring(0,10)}function ZL(t,e=YL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),O0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),O0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UM()?$M().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function O0(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function t4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){Ea(new oo("platform-logger",e=>new pL(e),"PRIVATE")),Ea(new oo("heartbeat",e=>new JL(e),"PRIVATE")),oi(Gm,R0,t),oi(Gm,R0,"esm2020"),oi("fire-js","")}n4("");function HI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r4=HI,qI=new Fc("auth","Firebase",HI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Fy("@firebase/auth");function s4(t,...e){Xd.logLevel<=Te.WARN&&Xd.warn(`Auth (${Ua}): ${t}`,...e)}function od(t,...e){Xd.logLevel<=Te.ERROR&&Xd.error(`Auth (${Ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw $y(t,...e)}function Or(t,...e){return $y(t,...e)}function GI(t,e,n){const r={...r4(),[e]:n};return new Fc("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return GI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $y(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qI.create(t,...e)}function he(t,e,...n){if(!t)throw $y(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw od(e),new Error(e)}function ps(t,e){t||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function i4(){return V0()==="http:"||V0()==="https:"}function V0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i4()||MM()||"connection"in navigator)?navigator.onLine:!0}function a4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=DM()||LM()}get(){return o4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u4=new Uc(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Si(t,e,n,r,s={}){return QI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=jc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return VM()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ja(t.emulatorConfig.host)&&(u.credentials="include"),KI.fetch()(await YI(t,t.config.apiHost,n,a),u)})}async function QI(t,e,n){t._canInitEmulator=!1;const r={...l4,...e};try{const s=new h4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ou(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ou(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GI(t,d,u);dr(t,d)}}catch(s){if(s instanceof vs)throw s;dr(t,"network-request-failed",{message:String(s)})}}async function Zh(t,e,n,r,s={}){const i=await Si(t,e,n,r,s);return"mfaPendingCredential"in i&&dr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function YI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?By(t.config,s):`${t.config.apiScheme}://${s}`;return c4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function d4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),u4.get())})}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Or(t,e,r);return s.customData._tokenResponse=n,s}function M0(t){return t!==void 0&&t.enterprise!==void 0}class f4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function p4(t,e){return Si(t,"GET","/v2/recaptchaConfig",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function Jd(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g4(t,e=!1){const n=wt(t),r=await n.getIdToken(e),s=zy(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:jl(Tp(s.auth_time)),issuedAtTime:jl(Tp(s.iat)),expirationTime:jl(Tp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tp(t){return Number(t)*1e3}function zy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const s=DI(n);return s?JSON.parse(s):(od("Failed to decode base64 JWT payload"),null)}catch(s){return od("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function L0(t){const e=zy(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vs&&y4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function y4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){var h;const e=t.auth,n=await t.getIdToken(),r=await vc(t,Jd(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?XI(s.providerUserInfo):[],o=_4(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Xm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function w4(t){const e=wt(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){const n=await QI(t,{},async()=>{const r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await YI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&ja(t.emulatorConfig.host)&&(c.credentials="include"),KI.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x4(t,e){return Si(t,"POST","/v2/accounts:revokeToken",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=L0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await E4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Zo;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new v4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g4(this,e)}reload(){return w4(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await vc(this,m4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:m,providerData:T,stsTokenManager:w}=n;he(h&&w,e,"internal-error");const E=Zo.fromJSON(this.name,w);he(typeof h=="string",e,"internal-error"),bs(r,e.name),bs(s,e.name),he(typeof p=="boolean",e,"internal-error"),he(typeof m=="boolean",e,"internal-error"),bs(i,e.name),bs(o,e.name),bs(a,e.name),bs(c,e.name),bs(u,e.name),bs(d,e.name);const _=new sr({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:d});return T&&Array.isArray(T)&&(_.providerData=T.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zo;s.updateFromServerResponse(n);const i=new sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Zo;a.updateFromIdToken(r);const c=new sr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Xm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function ss(t){ps(t instanceof Function,"Expected a class definition");let e=F0.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JI.type="NONE";const j0=JI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ad(this.userKey,s.apiKey,i),this.fullPersistenceKey=ad("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jd(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ea(ss(j0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ss(j0);const o=ad(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await Jd(e,{idToken:d}).catch(()=>{});if(!p)break;h=await sr._fromGetAccountInfoResponse(e,p,d)}else h=sr._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ea(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ea(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sC(e))return"Blackberry";if(iC(e))return"Webos";if(eC(e))return"Safari";if((e.includes("chrome/")||tC(e))&&!e.includes("edge/"))return"Chrome";if(rC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZI(t=Kt()){return/firefox\//i.test(t)}function eC(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tC(t=Kt()){return/crios\//i.test(t)}function nC(t=Kt()){return/iemobile/i.test(t)}function rC(t=Kt()){return/android/i.test(t)}function sC(t=Kt()){return/blackberry/i.test(t)}function iC(t=Kt()){return/webos/i.test(t)}function Wy(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T4(t=Kt()){var e;return Wy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function S4(){return FM()&&document.documentMode===10}function oC(t=Kt()){return Wy(t)||rC(t)||iC(t)||sC(t)||/windows phone/i.test(t)||nC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e=[]){let n;switch(t){case"Browser":n=U0(Kt());break;case"Worker":n=`${U0(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e={}){return Si(t,"GET","/v2/passwordPolicy",go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=6;class b4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??A4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new I4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jd(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(tr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(ai(this));const n=e?wt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C4(this),n=new b4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&s4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $a(t){return wt(t)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=qM(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R4(t){ef=t}function lC(t){return ef.loadJS(t)}function k4(){return ef.recaptchaEnterpriseScript}function N4(){return ef.gapiScript}function D4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class O4{constructor(){this.enterprise=new V4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class V4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const M4="recaptcha-enterprise",cC="NO_RECAPTCHA";class L4{constructor(e){this.type=M4,this.auth=$a(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{p4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new f4(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;M0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(cC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&M0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=k4();c.length!==0&&(c+=a),lC(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function B0(t,e,n,r=!1,s=!1){const i=new L4(t);let o;if(s)o=cC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function z0(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await B0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await B0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t,e){const n=Uy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(io(i,e??{}))return s;dr(s,"already-initialized")}return n.initialize({options:e})}function j4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U4(t,e,n){const r=$a(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=uC(e),{host:o,port:a}=$4(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(io(u,r.config.emulator)&&io(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ja(o)?(LI(`${i}//${o}${c}`),FI("Auth",!0)):B4()}function uC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $4(t){const e=uC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:W0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:W0(o)}}}function W0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function z4(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e){return Zh(t,"POST","/v1/accounts:signInWithPassword",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e){return Zh(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}async function q4(t,e){return Zh(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Hy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z0(e,n,"signInWithPassword",W4);case"emailLink":return H4(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z0(e,r,"signUpPassword",z4);case"emailLink":return q4(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return Zh(t,"POST","/v1/accounts:signInWithIdp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="http://localhost";class ao extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ao(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:G4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q4(t){const e=El(xl(t)).link,n=e?El(xl(e)).deep_link_id:null,r=El(xl(t)).deep_link_id;return(r?El(xl(r)).link:null)||r||n||e||t}class qy{constructor(e){const n=El(xl(e)),r=n.apiKey??null,s=n.oobCode??null,i=K4(n.mode??null);he(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Q4(e);try{return new qy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(e,n){return wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qy.parseLink(n);return he(r,"argument-error"),wc._fromEmailAndCode(e,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends dC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends $c{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends $c{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends $c{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await sr._fromIdTokenResponse(e,r,s),o=H0(r);return new xa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=H0(r);return new xa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function H0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends vs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new eh(e,n,r,s)}}function hC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(t,i,e,r):i})}async function Y4(t,e,n=!1){const r=await vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e,n=!1){const{auth:r}=t;if(tr(r.app))return Promise.reject(ai(r));const s="reauthenticate";try{const i=await vc(t,hC(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=zy(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),xa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,e,n=!1){if(tr(t.app))return Promise.reject(ai(t));const r="signIn",s=await hC(t,r,e),i=await xa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function J4(t,e){return fC($a(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t){const e=$a(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function eF(t,e,n){return tr(t.app)?Promise.reject(ai(t)):J4(wt(t),Ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z4(t),r})}function tF(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function nF(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function rF(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function sF(t){return wt(t).signOut()}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=1e3,oF=10;class mC extends pC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);S4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mC.type="LOCAL";const aF=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends pC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gC.type="SESSION";const yC=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await lF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Gy("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function uF(t){Vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function dF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function fF(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebaseLocalStorageDb",pF=1,nh="firebaseLocalStorage",_C="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function mF(){const t=indexedDB.deleteDatabase(wC);return new Bc(t).toPromise()}function Jm(){const t=indexedDB.open(wC,pF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nh,{keyPath:_C})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nh)?e(r):(r.close(),await mF(),e(await Jm()))})})}async function q0(t,e,n){const r=nf(t,!0).put({[_C]:e,value:n});return new Bc(r).toPromise()}async function gF(t,e){const n=nf(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function G0(t,e){const n=nf(t,!0).delete(e);return new Bc(n).toPromise()}const yF=800,vF=3;class EC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(fF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await dF(),!this.activeServiceWorker)return;this.sender=new cF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await q0(e,th,"1"),await G0(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nf(s,!1).getAll();return new Bc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EC.type="LOCAL";const wF=EC;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e){return e?ss(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EF(t){return fC(t.auth,new Ky(t),t.bypassAuthState)}function xF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),X4(n,new Ky(t),t.bypassAuthState)}async function TF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Y4(n,new Ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EF;case"linkViaPopup":case"linkViaRedirect":return TF;case"reauthViaPopup":case"reauthViaRedirect":return xF;default:dr(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new Uc(2e3,1e4);class Wo extends xC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SF.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="pendingRedirect",ld=new Map;class CF extends xC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ld.get(this.auth._key());if(!e){try{const r=await AF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ld.set(this.auth._key(),e)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AF(t,e){const n=RF(e),r=PF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bF(t,e){ld.set(t._key(),e)}function PF(t){return ss(t._redirectPersistence)}function RF(t){return ad(IF,t.config.apiKey,t.name)}async function kF(t,e,n=!1){if(tr(t.app))return Promise.reject(ai(t));const r=$a(t),s=_F(r,e),o=await new CF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=10*60*1e3;class DF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NF&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LF=/^https?/;async function FF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VF(t);for(const n of e)try{if(jF(n))return}catch{}dr(t,"unauthorized-domain")}function jF(t){const e=Ym(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LF.test(n))return!1;if(MF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new Uc(3e4,6e4);function Q0(){const t=Vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $F(t){return new Promise((e,n)=>{var s,i,o;function r(){Q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q0(),n(Or(t,"network-request-failed"))},timeout:UF.get()})}if((i=(s=Vr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Vr().gapi)!=null&&o.load)r();else{const a=D4("iframefcb");return Vr()[a]=()=>{gapi.load?r():n(Or(t,"network-request-failed"))},lC(`${N4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw cd=null,e})}let cd=null;function BF(t){return cd=cd||$F(t),cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new Uc(5e3,15e3),WF="__/auth/iframe",HF="emulator/auth/iframe",qF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KF(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?By(e,HF):`https://${t.config.authDomain}/${WF}`,r={apiKey:e.apiKey,appName:t.name,v:Ua},s=GF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${jc(r).slice(1)}`}async function QF(t){const e=await BF(t),n=Vr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:KF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Or(t,"network-request-failed"),a=Vr().setTimeout(()=>{i(o)},zF.get());function c(){Vr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XF=500,JF=600,ZF="_blank",ej="http://localhost";class Y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tj(t,e,n,r=XF,s=JF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...YF,width:r.toString(),height:s.toString(),top:i,left:o},u=Kt().toLowerCase();n&&(a=tC(u)?ZF:n),ZI(u)&&(e=e||ej,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,T])=>`${p}${m}=${T},`,"");if(T4(u)&&a!=="_self")return nj(e||"",a),new Y0(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new Y0(h)}function nj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="__/auth/handler",sj="emulator/auth/handler",ij=encodeURIComponent("fac");async function X0(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ua,eventId:s};if(e instanceof dC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof $c){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${ij}=${encodeURIComponent(c)}`:"";return`${oj(t)}?${jc(a).slice(1)}${u}`}function oj({config:t}){return t.emulator?By(t,sj):`https://${t.authDomain}/${rj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class aj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yC,this._completeRedirectFn=kF,this._overrideRedirectResult=bF}async _openPopup(e,n,r,s){var o;ps((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await X0(e,n,r,Ym(),s);return tj(e,i,Gy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await X0(e,n,r,Ym(),s);return uF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ps(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QF(e),r=new DF(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sp,{type:Sp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Sp];i!==void 0&&n(!!i),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oC()||eC()||Wy()}}const lj=aj;var J0="@firebase/auth",Z0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dj(t){Ea(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aC(t)},u=new P4(r,s,i,c);return j4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new oo("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new cj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(J0,Z0,uj(t)),oi(J0,Z0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=5*60,fj=MI("authIdTokenMaxAge")||hj;let eE=null;const pj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fj)return;const s=n==null?void 0:n.token;eE!==s&&(eE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mj(t=BI()){const e=Uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=F4(t,{popupRedirectResolver:lj,persistence:[wF,aF,yC]}),r=MI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=pj(i.toString());nF(n,o,()=>o(n.currentUser)),tF(n,a=>o(a))}}const s=OI("auth");return s&&U4(n,`http://${s}`),n}function gj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}R4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Or("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dj("Browser");var yj="firebase",vj="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(yj,vj,"app");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,SC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function b(){}b.prototype=I.prototype,C.D=I.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(R,D,k){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return I.prototype[D].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,I,b){b||(b=0);var R=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)R[D]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(D=0;16>D;++D)R[D]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=C.g[0],b=C.g[1],D=C.g[2];var k=C.g[3],P=I+(k^b&(D^k))+R[0]+3614090360&4294967295;I=b+(P<<7&4294967295|P>>>25),P=k+(D^I&(b^D))+R[1]+3905402710&4294967295,k=I+(P<<12&4294967295|P>>>20),P=D+(b^k&(I^b))+R[2]+606105819&4294967295,D=k+(P<<17&4294967295|P>>>15),P=b+(I^D&(k^I))+R[3]+3250441966&4294967295,b=D+(P<<22&4294967295|P>>>10),P=I+(k^b&(D^k))+R[4]+4118548399&4294967295,I=b+(P<<7&4294967295|P>>>25),P=k+(D^I&(b^D))+R[5]+1200080426&4294967295,k=I+(P<<12&4294967295|P>>>20),P=D+(b^k&(I^b))+R[6]+2821735955&4294967295,D=k+(P<<17&4294967295|P>>>15),P=b+(I^D&(k^I))+R[7]+4249261313&4294967295,b=D+(P<<22&4294967295|P>>>10),P=I+(k^b&(D^k))+R[8]+1770035416&4294967295,I=b+(P<<7&4294967295|P>>>25),P=k+(D^I&(b^D))+R[9]+2336552879&4294967295,k=I+(P<<12&4294967295|P>>>20),P=D+(b^k&(I^b))+R[10]+4294925233&4294967295,D=k+(P<<17&4294967295|P>>>15),P=b+(I^D&(k^I))+R[11]+2304563134&4294967295,b=D+(P<<22&4294967295|P>>>10),P=I+(k^b&(D^k))+R[12]+1804603682&4294967295,I=b+(P<<7&4294967295|P>>>25),P=k+(D^I&(b^D))+R[13]+4254626195&4294967295,k=I+(P<<12&4294967295|P>>>20),P=D+(b^k&(I^b))+R[14]+2792965006&4294967295,D=k+(P<<17&4294967295|P>>>15),P=b+(I^D&(k^I))+R[15]+1236535329&4294967295,b=D+(P<<22&4294967295|P>>>10),P=I+(D^k&(b^D))+R[1]+4129170786&4294967295,I=b+(P<<5&4294967295|P>>>27),P=k+(b^D&(I^b))+R[6]+3225465664&4294967295,k=I+(P<<9&4294967295|P>>>23),P=D+(I^b&(k^I))+R[11]+643717713&4294967295,D=k+(P<<14&4294967295|P>>>18),P=b+(k^I&(D^k))+R[0]+3921069994&4294967295,b=D+(P<<20&4294967295|P>>>12),P=I+(D^k&(b^D))+R[5]+3593408605&4294967295,I=b+(P<<5&4294967295|P>>>27),P=k+(b^D&(I^b))+R[10]+38016083&4294967295,k=I+(P<<9&4294967295|P>>>23),P=D+(I^b&(k^I))+R[15]+3634488961&4294967295,D=k+(P<<14&4294967295|P>>>18),P=b+(k^I&(D^k))+R[4]+3889429448&4294967295,b=D+(P<<20&4294967295|P>>>12),P=I+(D^k&(b^D))+R[9]+568446438&4294967295,I=b+(P<<5&4294967295|P>>>27),P=k+(b^D&(I^b))+R[14]+3275163606&4294967295,k=I+(P<<9&4294967295|P>>>23),P=D+(I^b&(k^I))+R[3]+4107603335&4294967295,D=k+(P<<14&4294967295|P>>>18),P=b+(k^I&(D^k))+R[8]+1163531501&4294967295,b=D+(P<<20&4294967295|P>>>12),P=I+(D^k&(b^D))+R[13]+2850285829&4294967295,I=b+(P<<5&4294967295|P>>>27),P=k+(b^D&(I^b))+R[2]+4243563512&4294967295,k=I+(P<<9&4294967295|P>>>23),P=D+(I^b&(k^I))+R[7]+1735328473&4294967295,D=k+(P<<14&4294967295|P>>>18),P=b+(k^I&(D^k))+R[12]+2368359562&4294967295,b=D+(P<<20&4294967295|P>>>12),P=I+(b^D^k)+R[5]+4294588738&4294967295,I=b+(P<<4&4294967295|P>>>28),P=k+(I^b^D)+R[8]+2272392833&4294967295,k=I+(P<<11&4294967295|P>>>21),P=D+(k^I^b)+R[11]+1839030562&4294967295,D=k+(P<<16&4294967295|P>>>16),P=b+(D^k^I)+R[14]+4259657740&4294967295,b=D+(P<<23&4294967295|P>>>9),P=I+(b^D^k)+R[1]+2763975236&4294967295,I=b+(P<<4&4294967295|P>>>28),P=k+(I^b^D)+R[4]+1272893353&4294967295,k=I+(P<<11&4294967295|P>>>21),P=D+(k^I^b)+R[7]+4139469664&4294967295,D=k+(P<<16&4294967295|P>>>16),P=b+(D^k^I)+R[10]+3200236656&4294967295,b=D+(P<<23&4294967295|P>>>9),P=I+(b^D^k)+R[13]+681279174&4294967295,I=b+(P<<4&4294967295|P>>>28),P=k+(I^b^D)+R[0]+3936430074&4294967295,k=I+(P<<11&4294967295|P>>>21),P=D+(k^I^b)+R[3]+3572445317&4294967295,D=k+(P<<16&4294967295|P>>>16),P=b+(D^k^I)+R[6]+76029189&4294967295,b=D+(P<<23&4294967295|P>>>9),P=I+(b^D^k)+R[9]+3654602809&4294967295,I=b+(P<<4&4294967295|P>>>28),P=k+(I^b^D)+R[12]+3873151461&4294967295,k=I+(P<<11&4294967295|P>>>21),P=D+(k^I^b)+R[15]+530742520&4294967295,D=k+(P<<16&4294967295|P>>>16),P=b+(D^k^I)+R[2]+3299628645&4294967295,b=D+(P<<23&4294967295|P>>>9),P=I+(D^(b|~k))+R[0]+4096336452&4294967295,I=b+(P<<6&4294967295|P>>>26),P=k+(b^(I|~D))+R[7]+1126891415&4294967295,k=I+(P<<10&4294967295|P>>>22),P=D+(I^(k|~b))+R[14]+2878612391&4294967295,D=k+(P<<15&4294967295|P>>>17),P=b+(k^(D|~I))+R[5]+4237533241&4294967295,b=D+(P<<21&4294967295|P>>>11),P=I+(D^(b|~k))+R[12]+1700485571&4294967295,I=b+(P<<6&4294967295|P>>>26),P=k+(b^(I|~D))+R[3]+2399980690&4294967295,k=I+(P<<10&4294967295|P>>>22),P=D+(I^(k|~b))+R[10]+4293915773&4294967295,D=k+(P<<15&4294967295|P>>>17),P=b+(k^(D|~I))+R[1]+2240044497&4294967295,b=D+(P<<21&4294967295|P>>>11),P=I+(D^(b|~k))+R[8]+1873313359&4294967295,I=b+(P<<6&4294967295|P>>>26),P=k+(b^(I|~D))+R[15]+4264355552&4294967295,k=I+(P<<10&4294967295|P>>>22),P=D+(I^(k|~b))+R[6]+2734768916&4294967295,D=k+(P<<15&4294967295|P>>>17),P=b+(k^(D|~I))+R[13]+1309151649&4294967295,b=D+(P<<21&4294967295|P>>>11),P=I+(D^(b|~k))+R[4]+4149444226&4294967295,I=b+(P<<6&4294967295|P>>>26),P=k+(b^(I|~D))+R[11]+3174756917&4294967295,k=I+(P<<10&4294967295|P>>>22),P=D+(I^(k|~b))+R[2]+718787259&4294967295,D=k+(P<<15&4294967295|P>>>17),P=b+(k^(D|~I))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var b=I-this.blockSize,R=this.B,D=this.h,k=0;k<I;){if(D==0)for(;k<=b;)s(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<I;)if(R[D++]=C.charCodeAt(k++),D==this.blockSize){s(this,R),D=0;break}}else for(;k<I;)if(R[D++]=C[k++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var b=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.u(C),C=Array(16),I=b=0;4>I;++I)for(var R=0;32>R;R+=8)C[b++]=this.g[I]>>>R&255;return C};function i(C,I){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=I(C)}function o(C,I){this.h=I;for(var b=[],R=!0,D=C.length-1;0<=D;D--){var k=C[D]|0;R&&k==I||(b[D]=k,R=!1)}this.g=b}var a={};function c(C){return-128<=C&&128>C?i(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return E(u(-C));for(var I=[],b=1,R=0;C>=b;R++)I[R]=C/b|0,b*=4294967296;return new o(I,0)}function d(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return E(d(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(I,8)),R=h,D=0;D<C.length;D+=8){var k=Math.min(8,C.length-D),P=parseInt(C.substring(D,D+k),I);8>k?(k=u(Math.pow(I,k)),R=R.j(k).add(u(P))):(R=R.j(b),R=R.add(u(P)))}return R}var h=c(0),p=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var C=0,I=1,b=0;b<this.g.length;b++){var R=this.i(b);C+=(0<=R?R:4294967296+R)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(w(this))return"-"+E(this).toString(C);for(var I=u(Math.pow(C,6)),b=this,R="";;){var D=N(b,I).g;b=_(b,D.j(I));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=D,T(b))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=_(this,C),w(C)?-1:T(C)?0:1};function E(C){for(var I=C.g.length,b=[],R=0;R<I;R++)b[R]=~C.g[R];return new o(b,~C.h).add(p)}t.abs=function(){return w(this)?E(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],R=0,D=0;D<=I;D++){var k=R+(this.i(D)&65535)+(C.i(D)&65535),P=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);R=P>>>16,k&=65535,P&=65535,b[D]=P<<16|k}return new o(b,b[b.length-1]&-2147483648?-1:0)};function _(C,I){return C.add(E(I))}t.j=function(C){if(T(this)||T(C))return h;if(w(this))return w(C)?E(this).j(E(C)):E(E(this).j(C));if(w(C))return E(this.j(E(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var I=this.g.length+C.g.length,b=[],R=0;R<2*I;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<C.g.length;D++){var k=this.i(R)>>>16,P=this.i(R)&65535,q=C.i(D)>>>16,le=C.i(D)&65535;b[2*R+2*D]+=P*le,v(b,2*R+2*D),b[2*R+2*D+1]+=k*le,v(b,2*R+2*D+1),b[2*R+2*D+1]+=P*q,v(b,2*R+2*D+1),b[2*R+2*D+2]+=k*q,v(b,2*R+2*D+2)}for(R=0;R<I;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=I;R<2*I;R++)b[R]=0;return new o(b,0)};function v(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function x(C,I){this.g=C,this.h=I}function N(C,I){if(T(I))throw Error("division by zero");if(T(C))return new x(h,h);if(w(C))return I=N(E(C),I),new x(E(I.g),E(I.h));if(w(I))return I=N(C,E(I)),new x(E(I.g),I.h);if(30<C.g.length){if(w(C)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var b=p,R=I;0>=R.l(C);)b=O(b),R=O(R);var D=L(b,1),k=L(R,1);for(R=L(R,2),b=L(b,2);!T(R);){var P=k.add(R);0>=P.l(C)&&(D=D.add(b),k=P),R=L(R,1),b=L(b,1)}return I=_(C,D.j(I)),new x(D,I)}for(D=h;0<=C.l(I);){for(b=Math.max(1,Math.floor(C.m()/I.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=u(b),P=k.j(I);w(P)||0<P.l(C);)b-=R,k=u(b),P=k.j(I);T(k)&&(k=p),D=D.add(k),C=_(C,P)}return new x(D,C)}t.A=function(C){return N(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],R=0;R<I;R++)b[R]=this.i(R)&C.i(R);return new o(b,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],R=0;R<I;R++)b[R]=this.i(R)|C.i(R);return new o(b,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],R=0;R<I;R++)b[R]=this.i(R)^C.i(R);return new o(b,this.h^C.h)};function O(C){for(var I=C.g.length+1,b=[],R=0;R<I;R++)b[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(b,C.h)}function L(C,I){var b=I>>5;I%=32;for(var R=C.g.length-b,D=[],k=0;k<R;k++)D[k]=0<I?C.i(k+b)>>>I|C.i(k+b+1)<<32-I:C.i(k+b);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,li=o}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IC,Tl,CC,ud,Zm,AC,bC,PC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var y=r;l=l.split(".");for(var A=0;A<l.length-1;A++){var M=l[A];if(!(M in y))break e;y=y[M]}l=l[l.length-1],A=y[l],f=f(A),f!=A&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var y=0,A=!1,M={next:function(){if(!A&&y<l.length){var j=y++;return{value:f(j,l[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,y){return l.call.apply(l.bind,arguments)}function h(l,f,y){if(!l)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function p(l,f,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),l.apply(this,A)}}function T(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(A,M,j){for(var Z=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)Z[Me-2]=arguments[Me];return f.prototype[M].apply(A,Z)}}function w(l){const f=l.length;if(0<f){const y=Array(f);for(let A=0;A<f;A++)y[A]=l[A];return y}return[]}function E(l,f){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(c(A)){const M=l.length||0,j=A.length||0;l.length=M+j;for(let Z=0;Z<j;Z++)l[M+Z]=A[Z]}else l.push(A)}}class _{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(l,f,y){for(const A in l)f.call(y,l[A],A,l)}function C(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function I(l){const f={};for(const y in l)f[y]=l[y];return f}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let y,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(y in A)l[y]=A[y];for(let j=0;j<b.length;j++)y=b[j],Object.prototype.hasOwnProperty.call(A,y)&&(l[y]=A[y])}}function D(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function k(l){a.setTimeout(()=>{throw l},0)}function P(){var l=z;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class q{constructor(){this.h=this.g=null}add(f,y){const A=le.get();A.set(f,y),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new _(()=>new ie,l=>l.reset());class ie{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,U=!1,z=new q,ee=()=>{const l=a.Promise.resolve(void 0);ae=()=>{l.then(pe)}};var pe=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(y){k(y)}var f=le;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}U=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};a.addEventListener("test",y,f),a.removeEventListener("test",y,f)}catch{}return l}();function De(l,f){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,A=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(O){e:{try{N(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:at[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&De.aa.h.call(this)}}T(De,ce);var at={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),zn=0;function on(l,f,y,A,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!A,this.ha=M,this.key=++zn,this.da=this.fa=!1}function Mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yt(l){this.src=l,this.g={},this.h=0}Yt.prototype.add=function(l,f,y,A,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var Z=an(l,f,A,M);return-1<Z?(f=l[Z],y||(f.fa=!1)):(f=new on(f,this.src,j,!!A,M),f.fa=y,l.push(f)),f};function wn(l,f){var y=f.type;if(y in l.g){var A=l.g[y],M=Array.prototype.indexOf.call(A,f,void 0),j;(j=0<=M)&&Array.prototype.splice.call(A,M,1),j&&(Mt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function an(l,f,y,A){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==f&&j.capture==!!y&&j.ha==A)return M}return-1}var Wn="closure_lm_"+(1e6*Math.random()|0),pr={};function Hr(l,f,y,A,M){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Hr(l,f[j],y,A,M);return null}return y=Q(y),l&&l[Ee]?l.K(f,y,u(A)?!!A.capture:!!A,M):bi(l,f,y,!1,A,M)}function bi(l,f,y,A,M,j){if(!f)throw Error("Invalid event type");var Z=u(M)?!!M.capture:!!M,Me=J(l);if(Me||(l[Wn]=Me=new Yt(l)),y=Me.add(f,y,A,Z,j),y.proxy)return y;if(A=ws(),y.proxy=A,A.src=l,A.listener=y,l.addEventListener)_e||(M=Z),M===void 0&&(M=!1),l.addEventListener(f.toString(),A,M);else if(l.attachEvent)l.attachEvent(F(f.toString()),A);else if(l.addListener&&l.removeListener)l.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ws(){function l(y){return f.call(l.src,l.listener,y)}const f=$;return l}function kn(l,f,y,A,M){if(Array.isArray(f))for(var j=0;j<f.length;j++)kn(l,f[j],y,A,M);else A=u(A)?!!A.capture:!!A,y=Q(y),l&&l[Ee]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],y=an(j,y,A,M),-1<y&&(Mt(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=J(l))&&(f=l.g[f.toString()],l=-1,f&&(l=an(f,y,A,M)),(y=-1<l?f[l]:null)&&V(y))}function V(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ee])wn(f.i,l);else{var y=l.type,A=l.proxy;f.removeEventListener?f.removeEventListener(y,A,l.capture):f.detachEvent?f.detachEvent(F(y),A):f.addListener&&f.removeListener&&f.removeListener(A),(y=J(f))?(wn(y,l),y.h==0&&(y.src=null,f[Wn]=null)):Mt(l)}}}function F(l){return l in pr?pr[l]:pr[l]="on"+l}function $(l,f){if(l.da)l=!0;else{f=new De(f,this);var y=l.listener,A=l.ha||l.src;l.fa&&V(l),l=y.call(A,f)}return l}function J(l){return l=l[Wn],l instanceof Yt?l:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(l){return typeof l=="function"?l:(l[X]||(l[X]=function(f){return l.handleEvent(f)}),l[X])}function Y(){se.call(this),this.i=new Yt(this),this.M=this,this.F=null}T(Y,se),Y.prototype[Ee]=!0,Y.prototype.removeEventListener=function(l,f,y,A){kn(this,l,f,y,A)};function de(l,f){var y,A=l.F;if(A)for(y=[];A;A=A.F)y.push(A);if(l=l.M,A=f.type||f,typeof f=="string")f=new ce(f,l);else if(f instanceof ce)f.target=f.target||l;else{var M=f;f=new ce(A,l),R(f,M)}if(M=!0,y)for(var j=y.length-1;0<=j;j--){var Z=f.g=y[j];M=Ae(Z,A,!0,f)&&M}if(Z=f.g=l,M=Ae(Z,A,!0,f)&&M,M=Ae(Z,A,!1,f)&&M,y)for(j=0;j<y.length;j++)Z=f.g=y[j],M=Ae(Z,A,!1,f)&&M}Y.prototype.N=function(){if(Y.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],A=0;A<y.length;A++)Mt(y[A]);delete l.g[f],l.h--}}this.F=null},Y.prototype.K=function(l,f,y,A){return this.i.add(String(l),f,!1,y,A)},Y.prototype.L=function(l,f,y,A){return this.i.add(String(l),f,!0,y,A)};function Ae(l,f,y,A){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,j=0;j<f.length;++j){var Z=f[j];if(Z&&!Z.da&&Z.capture==y){var Me=Z.listener,Pt=Z.ha||Z.src;Z.fa&&wn(l.i,Z),M=Me.call(Pt,A)!==!1&&M}}return M&&!A.defaultPrevented}function Ct(l,f,y){if(typeof l=="function")y&&(l=p(l,y));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Nn(l){l.g=Ct(()=>{l.g=null,l.i&&(l.i=!1,Nn(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Dn extends se{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Nn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(l){se.call(this),this.h=l,this.g={}}T(mr,se);var gr=[];function _n(l){L(l.g,function(f,y){this.g.hasOwnProperty(y)&&V(f)},l),l.g={}}mr.prototype.N=function(){mr.aa.N.call(this),_n(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=a.JSON.stringify,Hn=a.JSON.parse,Ka=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Es(){}Es.prototype.h=null;function Qa(l){return l.h||(l.h=l.i())}function Ya(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){ce.call(this,"d")}T(Ri,ce);function On(){ce.call(this,"c")}T(On,ce);var qr={},me=null;function be(){return me=me||new Y}qr.La="serverreachability";function Ve(l){ce.call(this,qr.La,l)}T(Ve,ce);function At(l){const f=be();de(f,new Ve(f))}qr.STAT_EVENT="statevent";function ln(l,f){ce.call(this,qr.STAT_EVENT,l),this.stat=f}T(ln,ce);function We(l){const f=be();de(f,new ln(f,l))}qr.Ma="timingevent";function yr(l,f){ce.call(this,qr.Ma,l),this.size=f}T(yr,ce);function bt(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function cn(){this.g=!0}cn.prototype.xa=function(){this.g=!1};function Xb(l,f,y,A,M,j){l.info(function(){if(l.g)if(j)for(var Z="",Me=j.split("&"),Pt=0;Pt<Me.length;Pt++){var Re=Me[Pt].split("=");if(1<Re.length){var Lt=Re[0];Re=Re[1];var Ft=Lt.split("_");Z=2<=Ft.length&&Ft[1]=="type"?Z+(Lt+"="+Re+"&"):Z+(Lt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+f+`
`+y+`
`+Z})}function Jb(l,f,y,A,M,j,Z){l.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+f+`
`+y+`
`+j+" "+Z})}function wo(l,f,y,A){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+eP(l,y)+(A?" "+A:"")})}function Zb(l,f){l.info(function(){return"TIMEOUT: "+f})}cn.prototype.info=function(){};function eP(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var A=y[l];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<M.length;Z++)M[Z]=""}}}}return _s(y)}catch{return f}}var Xc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sf;function Jc(){}T(Jc,Es),Jc.prototype.g=function(){return new XMLHttpRequest},Jc.prototype.i=function(){return{}},Sf=new Jc;function xs(l,f,y,A){this.j=l,this.i=f,this.l=y,this.R=A||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hv}function Hv(){this.i=null,this.g="",this.h=!1}var qv={},If={};function Cf(l,f,y){l.L=1,l.v=nu(Gr(f)),l.m=y,l.P=!0,Gv(l,null)}function Gv(l,f){l.F=Date.now(),Zc(l),l.A=Gr(l.v);var y=l.A,A=l.R;Array.isArray(A)||(A=[String(A)]),aw(y.i,"t",A),l.C=0,y=l.j.J,l.h=new Hv,l.g=Iw(l.j,y?f:null,!l.m),0<l.O&&(l.M=new Dn(p(l.Y,l,l.g),l.O)),f=l.U,y=l.g,A=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(gr[0]=M.toString()),M=gr);for(var j=0;j<M.length;j++){var Z=Hr(y,M[j],A||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),At(),Xb(l.i,l.u,l.A,l.l,l.R,l.m)}xs.prototype.ca=function(l){l=l.target;const f=this.M;f&&Kr(l)==3?f.j():this.Y(l)},xs.prototype.Y=function(l){try{if(l==this.g)e:{const Ft=Kr(this.g);var f=this.g.Ba();const xo=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||pw(this.g)))){this.J||Ft!=4||f==7||(f==8||0>=xo?At(3):At(2)),Af(this);var y=this.g.Z();this.X=y;t:if(Kv(this)){var A=pw(this.g);l="";var M=A.length,j=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),Xa(this);var Z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(A[f],{stream:!(j&&f==M-1)});A.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,Jb(this.i,this.u,this.A,this.l,this.R,Ft,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Pt=this.g;if((Me=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Me)){var Re=Me;break t}}Re=null}if(y=Re)wo(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bf(this,y);else{this.o=!1,this.s=3,We(12),ki(this),Xa(this);break e}}if(this.P){y=!0;let qn;for(;!this.J&&this.C<Z.length;)if(qn=tP(this,Z),qn==If){Ft==4&&(this.s=4,We(14),y=!1),wo(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==qv){this.s=4,We(15),wo(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else wo(this.i,this.l,qn,null),bf(this,qn);if(Kv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||Z.length!=0||this.h.h||(this.s=1,We(16),y=!1),this.o=this.o&&y,!y)wo(this.i,this.l,Z,"[Invalid Chunked Response]"),ki(this),Xa(this);else if(0<Z.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Of(Lt),Lt.M=!0,We(11))}}else wo(this.i,this.l,Z,null),bf(this,Z);Ft==4&&ki(this),this.o&&!this.J&&(Ft==4?Ew(this.j,this):(this.o=!1,Zc(this)))}else vP(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),ki(this),Xa(this)}}}catch{}finally{}};function Kv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function tP(l,f){var y=l.C,A=f.indexOf(`
`,y);return A==-1?If:(y=Number(f.substring(y,A)),isNaN(y)?qv:(A+=1,A+y>f.length?If:(f=f.slice(A,A+y),l.C=A+y,f)))}xs.prototype.cancel=function(){this.J=!0,ki(this)};function Zc(l){l.S=Date.now()+l.I,Qv(l,l.I)}function Qv(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=bt(p(l.ba,l),f)}function Af(l){l.B&&(a.clearTimeout(l.B),l.B=null)}xs.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Zb(this.i,this.A),this.L!=2&&(At(),We(17)),ki(this),this.s=2,Xa(this)):Qv(this,this.S-l)};function Xa(l){l.j.G==0||l.J||Ew(l.j,l)}function ki(l){Af(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,_n(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function bf(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||Pf(y.h,l))){if(!l.K&&Pf(y.h,l)&&y.G==3){try{var A=y.Da.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)lu(y),ou(y);else break e;Df(y),We(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=bt(p(y.Za,y),6e3));if(1>=Jv(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Di(y,11)}else if((l.K||y.g==l)&&lu(y),!v(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let Re=M[f];if(y.T=Re[0],Re=Re[1],y.G==2)if(Re[0]=="c"){y.K=Re[1],y.ia=Re[2];const Lt=Re[3];Lt!=null&&(y.la=Lt,y.j.info("VER="+y.la));const Ft=Re[4];Ft!=null&&(y.Aa=Ft,y.j.info("SVER="+y.Aa));const xo=Re[5];xo!=null&&typeof xo=="number"&&0<xo&&(A=1.5*xo,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const qn=l.g;if(qn){const uu=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uu){var j=A.h;j.g||uu.indexOf("spdy")==-1&&uu.indexOf("quic")==-1&&uu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Rf(j,j.h),j.h=null))}if(A.D){const Vf=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vf&&(A.ya=Vf,je(A.I,A.D,Vf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var Z=l;if(A.qa=Sw(A,A.J?A.ia:null,A.W),Z.K){Zv(A.h,Z);var Me=Z,Pt=A.L;Pt&&(Me.I=Pt),Me.B&&(Af(Me),Zc(Me)),A.g=Z}else ww(A);0<y.i.length&&au(y)}else Re[0]!="stop"&&Re[0]!="close"||Di(y,7);else y.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Di(y,7):Nf(y):Re[0]!="noop"&&y.l&&y.l.ta(Re),y.v=0)}}At(4)}catch{}}var nP=class{constructor(l,f){this.g=l,this.map=f}};function Yv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Jv(l){return l.h?1:l.g?l.g.size:0}function Pf(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Rf(l,f){l.g?l.g.add(f):l.h=f}function Zv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Yv.prototype.cancel=function(){if(this.i=ew(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ew(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return w(l.i)}function rP(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],y=l.length,A=0;A<y;A++)f.push(l[A]);return f}f=[],y=0;for(A in l)f[y++]=l[A];return f}function sP(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const A in l)f[y++]=A;return f}}}function tw(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=sP(l),A=rP(l),M=A.length,j=0;j<M;j++)f.call(void 0,A[j],y&&y[j],l)}var nw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iP(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var A=l[y].indexOf("="),M=null;if(0<=A){var j=l[y].substring(0,A);M=l[y].substring(A+1)}else j=l[y];f(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ni(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ni){this.h=l.h,eu(this,l.j),this.o=l.o,this.g=l.g,tu(this,l.s),this.l=l.l;var f=l.i,y=new el;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),rw(this,y),this.m=l.m}else l&&(f=String(l).match(nw))?(this.h=!1,eu(this,f[1]||"",!0),this.o=Ja(f[2]||""),this.g=Ja(f[3]||"",!0),tu(this,f[4]),this.l=Ja(f[5]||"",!0),rw(this,f[6]||"",!0),this.m=Ja(f[7]||"")):(this.h=!1,this.i=new el(null,this.h))}Ni.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Za(f,sw,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Za(f,sw,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Za(y,y.charAt(0)=="/"?lP:aP,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Za(y,uP)),l.join("")};function Gr(l){return new Ni(l)}function eu(l,f,y){l.j=y?Ja(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function tu(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function rw(l,f,y){f instanceof el?(l.i=f,dP(l.i,l.h)):(y||(f=Za(f,cP)),l.i=new el(f,l.h))}function je(l,f,y){l.i.set(f,y)}function nu(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ja(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Za(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,oP),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function oP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var sw=/[#\/\?@]/g,aP=/[#\?:]/g,lP=/[#\?]/g,cP=/[#\?@]/g,uP=/#/g;function el(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Ts(l){l.g||(l.g=new Map,l.h=0,l.i&&iP(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=el.prototype,t.add=function(l,f){Ts(this),this.i=null,l=_o(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function iw(l,f){Ts(l),f=_o(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function ow(l,f){return Ts(l),f=_o(l,f),l.g.has(f)}t.forEach=function(l,f){Ts(this),this.g.forEach(function(y,A){y.forEach(function(M){l.call(f,M,A,this)},this)},this)},t.na=function(){Ts(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let A=0;A<f.length;A++){const M=l[A];for(let j=0;j<M.length;j++)y.push(f[A])}return y},t.V=function(l){Ts(this);let f=[];if(typeof l=="string")ow(this,l)&&(f=f.concat(this.g.get(_o(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},t.set=function(l,f){return Ts(this),this.i=null,l=_o(this,l),ow(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function aw(l,f,y){iw(l,f),0<y.length&&(l.i=null,l.g.set(_o(l,f),w(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var A=f[y];const j=encodeURIComponent(String(A)),Z=this.V(A);for(A=0;A<Z.length;A++){var M=j;Z[A]!==""&&(M+="="+encodeURIComponent(String(Z[A]))),l.push(M)}}return this.i=l.join("&")};function _o(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function dP(l,f){f&&!l.j&&(Ts(l),l.i=null,l.g.forEach(function(y,A){var M=A.toLowerCase();A!=M&&(iw(this,A),aw(this,M,y))},l)),l.j=f}function hP(l,f){const y=new cn;if(a.Image){const A=new Image;A.onload=m(Ss,y,"TestLoadImage: loaded",!0,f,A),A.onerror=m(Ss,y,"TestLoadImage: error",!1,f,A),A.onabort=m(Ss,y,"TestLoadImage: abort",!1,f,A),A.ontimeout=m(Ss,y,"TestLoadImage: timeout",!1,f,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=l}else f(!1)}function fP(l,f){const y=new cn,A=new AbortController,M=setTimeout(()=>{A.abort(),Ss(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:A.signal}).then(j=>{clearTimeout(M),j.ok?Ss(y,"TestPingServer: ok",!0,f):Ss(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Ss(y,"TestPingServer: error",!1,f)})}function Ss(l,f,y,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(y)}catch{}}function pP(){this.g=new Ka}function mP(l,f,y){const A=y||"";try{tw(l,function(M,j){let Z=M;u(M)&&(Z=_s(M)),f.push(A+j+"="+encodeURIComponent(Z))})}catch(M){throw f.push(A+"type="+encodeURIComponent("_badmap")),M}}function ru(l){this.l=l.Ub||null,this.j=l.eb||!1}T(ru,Es),ru.prototype.g=function(){return new su(this.l,this.j)},ru.prototype.i=function(l){return function(){return l}}({});function su(l,f){Y.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(su,Y),t=su.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,nl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lw(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function lw(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?tl(this):nl(this),this.readyState==3&&lw(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,tl(this))},t.Qa=function(l){this.g&&(this.response=l,tl(this))},t.ga=function(){this.g&&tl(this)};function tl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,nl(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function nl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function cw(l){let f="";return L(l,function(y,A){f+=A,f+=":",f+=y,f+=`\r
`}),f}function kf(l,f,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=cw(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):je(l,f,y))}function Ze(l){Y.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ze,Y);var gP=/^https?$/i,yP=["POST","PUT"];t=Ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sf.g(),this.v=this.o?Qa(this.o):Qa(Sf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){uw(this,j);return}if(l=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)y.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())y.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yP,f,void 0))||A||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of y)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fw(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){uw(this,j)}};function uw(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,dw(l),iu(l)}function dw(l){l.A||(l.A=!0,de(l,"complete"),de(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,de(this,"complete"),de(this,"abort"),iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),iu(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hw(this):this.bb())},t.bb=function(){hw(this)};function hw(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Kr(l)!=4||l.Z()!=2)){if(l.u&&Kr(l)==4)Ct(l.Ea,0,l);else if(de(l,"readystatechange"),Kr(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var A;if(A=Z===0){var M=String(l.D).match(nw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!gP.test(M?M.toLowerCase():"")}y=A}if(y)de(l,"complete"),de(l,"success");else{l.m=6;try{var j=2<Kr(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",dw(l)}}finally{iu(l)}}}}function iu(l,f){if(l.g){fw(l);const y=l.g,A=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||de(l,"ready");try{y.onreadystatechange=A}catch{}}}function fw(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Kr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Hn(f)}};function pw(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vP(l){const f={};l=(l.g&&2<=Kr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<l.length;A++){if(v(l[A]))continue;var y=D(l[A]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=f[M]||[];f[M]=j,j.push(y)}C(f,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rl(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function mw(l){this.Aa=0,this.i=[],this.j=new cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rl("baseRetryDelayMs",5e3,l),this.cb=rl("retryDelaySeedMs",1e4,l),this.Wa=rl("forwardChannelMaxRetries",2,l),this.wa=rl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Yv(l&&l.concurrentRequestLimit),this.Da=new pP,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mw.prototype,t.la=8,t.G=1,t.connect=function(l,f,y,A){We(0),this.W=l,this.H=f||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Sw(this,null,this.W),au(this)};function Nf(l){if(gw(l),l.G==3){var f=l.U++,y=Gr(l.I);if(je(y,"SID",l.K),je(y,"RID",f),je(y,"TYPE","terminate"),sl(l,y),f=new xs(l,l.j,f),f.L=2,f.v=nu(Gr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=f.v,y=!0),y||(f.g=Iw(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Zc(f)}Tw(l)}function ou(l){l.g&&(Of(l),l.g.cancel(),l.g=null)}function gw(l){ou(l),l.u&&(a.clearTimeout(l.u),l.u=null),lu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function au(l){if(!Xv(l.h)&&!l.s){l.s=!0;var f=l.Ga;ae||ee(),U||(ae(),U=!0),z.add(f,l),l.B=0}}function wP(l,f){return Jv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=bt(p(l.Ga,l,f),xw(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new xs(this,this.j,l);let j=this.o;if(this.S&&(j?(j=I(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=vw(this,M,f),y=Gr(this.I),je(y,"RID",l),je(y,"CVER",22),this.D&&je(y,"X-HTTP-Session-Id",this.D),sl(this,y),j&&(this.O?f="headers="+encodeURIComponent(String(cw(j)))+"&"+f:this.m&&kf(y,this.m,j)),Rf(this.h,M),this.Ua&&je(y,"TYPE","init"),this.P?(je(y,"$req",f),je(y,"SID","null"),M.T=!0,Cf(M,y,null)):Cf(M,y,f),this.G=2}}else this.G==3&&(l?yw(this,l):this.i.length==0||Xv(this.h)||yw(this))};function yw(l,f){var y;f?y=f.l:y=l.U++;const A=Gr(l.I);je(A,"SID",l.K),je(A,"RID",y),je(A,"AID",l.T),sl(l,A),l.m&&l.o&&kf(A,l.m,l.o),y=new xs(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=vw(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Rf(l.h,y),Cf(y,A,f)}function sl(l,f){l.H&&L(l.H,function(y,A){je(f,A,y)}),l.l&&tw({},function(y,A){je(f,A,y)})}function vw(l,f,y){y=Math.min(l.i.length,y);var A=l.l?p(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const Z=["count="+y];j==-1?0<y?(j=M[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Me=!0;for(let Pt=0;Pt<y;Pt++){let Re=M[Pt].g;const Lt=M[Pt].map;if(Re-=j,0>Re)j=Math.max(0,M[Pt].g-100),Me=!1;else try{mP(Lt,Z,"req"+Re+"_")}catch{A&&A(Lt)}}if(Me){A=Z.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,A}function ww(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ae||ee(),U||(ae(),U=!0),z.add(f,l),l.v=0}}function Df(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=bt(p(l.Fa,l),xw(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,_w(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=bt(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),ou(this),_w(this))};function Of(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function _w(l){l.g=new xs(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Gr(l.qa);je(f,"RID","rpc"),je(f,"SID",l.K),je(f,"AID",l.T),je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(f,"TO",l.ja),je(f,"TYPE","xmlhttp"),sl(l,f),l.m&&l.o&&kf(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=nu(Gr(f)),y.m=null,y.P=!0,Gv(y,l)}t.Za=function(){this.C!=null&&(this.C=null,ou(this),Df(this),We(19))};function lu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ew(l,f){var y=null;if(l.g==f){lu(l),Of(l),l.g=null;var A=2}else if(Pf(l.h,f))y=f.D,Zv(l.h,f),A=1;else return;if(l.G!=0){if(f.o)if(A==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;A=be(),de(A,new yr(A,y)),au(l)}else ww(l);else if(M=f.s,M==3||M==0&&0<f.X||!(A==1&&wP(l,f)||A==2&&Df(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:Di(l,5);break;case 4:Di(l,10);break;case 3:Di(l,6);break;default:Di(l,2)}}}function xw(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function Di(l,f){if(l.j.info("Error code "+f),f==2){var y=p(l.fb,l),A=l.Xa;const M=!A;A=new Ni(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eu(A,"https"),nu(A),M?hP(A.toString(),y):fP(A.toString(),y)}else We(2);l.G=0,l.l&&l.l.sa(f),Tw(l),gw(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Tw(l){if(l.G=0,l.ka=[],l.l){const f=ew(l.h);(f.length!=0||l.i.length!=0)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function Sw(l,f,y){var A=y instanceof Ni?Gr(y):new Ni(y);if(A.g!="")f&&(A.g=f+"."+A.g),tu(A,A.s);else{var M=a.location;A=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var j=new Ni(null);A&&eu(j,A),f&&(j.g=f),M&&tu(j,M),y&&(j.l=y),A=j}return y=l.D,f=l.ya,y&&f&&je(A,y,f),je(A,"VER",l.la),sl(l,A),A}function Iw(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ze(new ru({eb:y})):new Ze(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cw(){}t=Cw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cu(){}cu.prototype.g=function(l,f){return new En(l,f)};function En(l,f){Y.call(this),this.g=new mw(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Eo(this)}T(En,Y),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Nf(this.g)},En.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=_s(l),l=y);f.i.push(new nP(f.Ya++,l)),f.G==3&&au(f)},En.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,En.aa.N.call(this)};function Aw(l){Ri.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}T(Aw,Ri);function bw(){On.call(this),this.status=1}T(bw,On);function Eo(l){this.g=l}T(Eo,Cw),Eo.prototype.ua=function(){de(this.g,"a")},Eo.prototype.ta=function(l){de(this.g,new Aw(l))},Eo.prototype.sa=function(l){de(this.g,new bw)},Eo.prototype.ra=function(){de(this.g,"b")},cu.prototype.createWebChannel=cu.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,PC=function(){return new cu},bC=function(){return be()},AC=qr,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xc.NO_ERROR=0,Xc.TIMEOUT=8,Xc.HTTP_ERROR=6,ud=Xc,Wv.COMPLETE="complete",CC=Wv,Ya.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Y.prototype.listen=Y.prototype.K,Tl=Ya,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,IC=Ze}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",rE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Fy("@firebase/firestore");function bo(){return lo.logLevel}function ne(t,...e){if(lo.logLevel<=Te.DEBUG){const n=e.map(Qy);lo.debug(`Firestore (${za}): ${t}`,...n)}}function ms(t,...e){if(lo.logLevel<=Te.ERROR){const n=e.map(Qy);lo.error(`Firestore (${za}): ${t}`,...n)}}function Ta(t,...e){if(lo.logLevel<=Te.WARN){const n=e.map(Qy);lo.warn(`Firestore (${za}): ${t}`,...n)}}function Qy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RC(t,r,n)}function RC(t,e,n){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ms(r),new Error(r)}function Ne(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||RC(e,s,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class _j{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ej{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ci,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new kC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class xj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Ij(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function eg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ip(s)===Ip(i)?Se(s,i):Ip(s)?1:-1}return Se(t.length,e.length)}const Cj=55296,Aj=57343;function Ip(t){const e=t.charCodeAt(0);return e>=Cj&&e<=Aj}function Sa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__name__";class _r{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_r.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Se(e.length,n.length)}static compareSegments(e,n){const r=_r.isNumericId(e),s=_r.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_r.extractNumericId(e).compare(_r.extractNumericId(n)):eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class Le extends _r{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends _r{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return bj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new Nt([iE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Le.fromString(e))}static fromName(e){return new ue(Le.fromString(e).popFirst(5))}static empty(){return new ue(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e,n){if(!n)throw new te(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Pj(t,e,n,r){if(e===!0&&r===!0)throw new te(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oE(t){if(!ue.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(ue.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function Mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(t);throw new te(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function zc(t,e){if(!DC(t))throw new te(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,cE=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cE);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:ft("string",Be._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Be(0,0))}static max(){return new ge(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function Rj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new mi(s,ue.empty(),e)}function kj(t){return new mi(t.readTime,t.key,_c)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ge.min(),ue.empty(),_c)}static max(){return new mi(ge.max(),ue.empty(),_c)}}function Nj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==Dj)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Vj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function of(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function Mj(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="";function Lj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uE(e)),e=Fj(t.get(n),e);return uE(e)}function Fj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case OC:n+="";break;default:n+=i}}return n}function uE(t){return t+OC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??kt.RED,this.left=s??kt.EMPTY,this.right=i??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new kt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new In([])}unionWith(e){let n=new vt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MC("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const jj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=jj.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="server_timestamp",FC="__type__",jC="__previous_value__",UC="__local_write_time__";function Jy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[FC])==null?void 0:r.stringValue)===LC}function af(t){const e=t.mapValue.fields[jC];return Jy(e)?af(e):e}function Ec(t){const e=gi(t.mapValue.fields[UC].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r,s,i,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const sh="(default)";class xc{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__type__",BC="__max__",Lu={mapValue:{fields:{__type__:{stringValue:BC}}}},zC="__vector__",ih="value";function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jy(t)?4:Bj(t)?9007199254740991:$j(t)?10:11:fe(28295,{value:t})}function zr(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gi(s.timestampValue),a=gi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return yi(s.bytesValue).isEqual(yi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(dE(o)!==dE(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!zr(o[c],a[c])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function Tc(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),c=rt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return fE(t.timestampValue,e.timestampValue);case 4:return fE(Ec(t),Ec(e));case 5:return eg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=yi(i),c=yi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=Se(a[u],c[u]);if(d!==0)return d}return Se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(rt(i.latitude),rt(o.latitude));return a!==0?a:Se(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,T,w;const a=i.fields||{},c=o.fields||{},u=(p=a[ih])==null?void 0:p.arrayValue,d=(m=c[ih])==null?void 0:m.arrayValue,h=Se(((T=u==null?void 0:u.values)==null?void 0:T.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return h!==0?h:pE(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Lu.mapValue&&o===Lu.mapValue)return 0;if(i===Lu.mapValue)return 1;if(o===Lu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=eg(c[h],d[h]);if(p!==0)return p;const m=Ia(a[c[h]],u[d[h]]);if(m!==0)return m}return Se(c.length,d.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{he:n})}}function fE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=gi(t),r=gi(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function pE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ia(n[s],r[s]);if(i)return i}return Se(n.length,r.length)}function Ca(t){return tg(t)}function tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=tg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${tg(n.fields[o])}`;return s+"}"}(t.mapValue):fe(61005,{value:t})}function dd(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+dd(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+dd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ii(r.fields,(i,o)=>{s+=i.length+dd(o)}),s}(t.mapValue);default:throw fe(13486,{value:t})}}function mE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ng(t){return!!t&&"integerValue"in t}function Zy(t){return!!t&&"arrayValue"in t}function gE(t){return!!t&&"nullValue"in t}function yE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hd(t){return!!t&&"mapValue"in t}function $j(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$C])==null?void 0:r.stringValue)===zC}function Ul(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(t.arrayValue.values[n]);return e}return{...t}}function Bj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=Nt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ul(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ii(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new pn(Ul(this.value))}}function WC(t){const e=[];return Ii(t.fields,(n,r)=>{const s=new Nt([n]);if(hd(r)){const i=WC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,ge.min(),ge.min(),ge.min(),pn.empty(),0)}static newFoundDocument(e,n,r,s){return new qt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new qt(e,2,n,ge.min(),ge.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,ge.min(),ge.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function vE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Ia(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function zj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{}class ht extends HC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hj(e,n,r):n==="array-contains"?new Kj(e,r):n==="in"?new Qj(e,r):n==="not-in"?new Yj(e,r):n==="array-contains-any"?new Xj(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qj(e,r):new Gj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ia(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends HC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hr(e,n)}matches(e){return qC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qC(t){return t.op==="and"}function GC(t){return Wj(t)&&qC(t)}function Wj(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function rg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Ca(t.value);if(GC(t))return t.filters.map(e=>rg(e)).join(",");{const e=t.filters.map(n=>rg(n)).join(",");return`${t.op}(${e})`}}function KC(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&zr(r.value,s.value)}(t,e):t instanceof hr?function(r,s){return s instanceof hr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&KC(o,s.filters[a]),!0):!1}(t,e):void fe(19439)}function QC(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ca(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(QC).join(" ,")+"}"}(t):"Filter"}class Hj extends ht{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class qj extends ht{constructor(e,n){super(e,"in",n),this.keys=YC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gj extends ht{constructor(e,n){super(e,"not-in",n),this.keys=YC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class Kj extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zy(n)&&Tc(n.arrayValue,this.value)}}class Qj extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class Yj extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class Xj extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function _E(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Jj(t,e,n,r,s,i,o)}function ev(t){const e=ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ca(r)).join(",")),e.Te=n}return e.Te}function tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wE(t.startAt,e.startAt)&&wE(t.endAt,e.endAt)}function sg(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Zj(t,e,n,r,s,i,o,a){return new qa(t,e,n,r,s,i,o,a)}function nv(t){return new qa(t)}function EE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XC(t){return t.collectionGroup!==null}function $l(t){const e=ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(Nt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Sc(i,r))}),n.has(Nt.keyField().canonicalString())||e.Ie.push(new Sc(Nt.keyField(),r))}return e.Ie}function Lr(t){const e=ye(t);return e.Ee||(e.Ee=e3(e,$l(t))),e.Ee}function e3(t,e){if(t.limitType==="F")return _E(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Sc(s.field,i)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return _E(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ig(t,e){const n=t.filters.concat([e]);return new qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function og(t,e,n){return new qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return tv(Lr(t),Lr(e))&&t.limitType===e.limitType}function JC(t){return`${ev(Lr(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QC(s)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ca(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ca(s)).join(",")),`Target(${r})`}(Lr(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of $l(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=vE(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,$l(r),s)||r.endAt&&!function(o,a,c){const u=vE(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,$l(r),s))}(t,e)}function t3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZC(t){return(e,n)=>{let r=!1;for(const s of $l(t)){const i=n3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function n3(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Ia(c,u):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return VC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Xe(ue.comparator);function gs(){return r3}const eA=new Xe(ue.comparator);function Sl(...t){let e=eA;for(const n of t)e=e.insert(n.key,n);return e}function tA(t){let e=eA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return Bl()}function nA(){return Bl()}function Bl(){return new yo(t=>t.toString(),(t,e)=>t.isEqual(e))}const s3=new Xe(ue.comparator),i3=new vt(ue.comparator);function Ie(...t){let e=i3;for(const n of t)e=e.add(n);return e}const o3=new vt(Se);function a3(){return o3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function rA(t){return{integerValue:""+t}}function l3(t,e){return Mj(e)?rA(e):rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function c3(t,e,n){return t instanceof ah?function(s,i){const o={fields:{[FC]:{stringValue:LC},[UC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Jy(i)&&(i=af(i)),i&&(o.fields[jC]=i),{mapValue:o}}(n,e):t instanceof Ic?iA(t,e):t instanceof Cc?oA(t,e):function(s,i){const o=sA(s,i),a=xE(o)+xE(s.Ae);return ng(o)&&ng(s.Ae)?rA(a):rv(s.serializer,a)}(t,e)}function u3(t,e,n){return t instanceof Ic?iA(t,e):t instanceof Cc?oA(t,e):n}function sA(t,e){return t instanceof lh?function(r){return ng(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ah extends uf{}class Ic extends uf{constructor(e){super(),this.elements=e}}function iA(t,e){const n=aA(e);for(const r of t.elements)n.some(s=>zr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cc extends uf{constructor(e){super(),this.elements=e}}function oA(t,e){let n=aA(e);for(const r of t.elements)n=n.filter(s=>!zr(s,r));return{arrayValue:{values:n}}}class lh extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xE(t){return rt(t.integerValue||t.doubleValue)}function aA(t){return Zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function d3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ic&&s instanceof Ic||r instanceof Cc&&s instanceof Cc?Sa(r.elements,s.elements,zr):r instanceof lh&&s instanceof lh?zr(r.Ae,s.Ae):r instanceof ah&&s instanceof ah}(t.transform,e.transform)}class h3{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function lA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sv(t.key,ar.none()):new Wc(t.key,t.data,ar.none());{const n=t.data,r=pn.empty();let s=new vt(Nt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ci(t.key,r,new In(s.toArray()),ar.none())}}function f3(t,e,n){t instanceof Wc?function(s,i,o){const a=s.value.clone(),c=SE(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(s,i,o){if(!fd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=SE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(cA(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zl(t,e,n,r){return t instanceof Wc?function(i,o,a,c){if(!fd(i.precondition,o))return a;const u=i.value.clone(),d=IE(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(i,o,a,c){if(!fd(i.precondition,o))return a;const u=IE(i.fieldTransforms,c,o),d=o.data;return d.setAll(cA(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return fd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function p3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=sA(r.transform,s||null);i!=null&&(n===null&&(n=pn.empty()),n.set(r.field,i))}return n||null}function TE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Sa(r,s,(i,o)=>d3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wc extends df{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ci extends df{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SE(t,e,n){const r=new Map;Ne(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,u3(o,a,n[s]))}return r}function IE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,c3(i,o,e))}return r}class sv extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m3 extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&f3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=lA(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,r)=>TE(n,r))&&Sa(this.baseMutations,e.baseMutations,(n,r)=>TE(n,r))}}class iv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return s3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new iv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ce;function w3(t){switch(t){case W.OK:return fe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function uA(t){if(t===void 0)return ms("GRPC error has no .code"),W.UNKNOWN;switch(t){case ct.OK:return W.OK;case ct.CANCELLED:return W.CANCELLED;case ct.UNKNOWN:return W.UNKNOWN;case ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ct.INTERNAL:return W.INTERNAL;case ct.UNAVAILABLE:return W.UNAVAILABLE;case ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ct.NOT_FOUND:return W.NOT_FOUND;case ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ct.ABORTED:return W.ABORTED;case ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ct.DATA_LOSS:return W.DATA_LOSS;default:return fe(39323,{code:t})}}(Ce=ct||(ct={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new li([4294967295,4294967295],0);function CE(t){const e=_3().encode(t),n=new SC;return n.update(e),new Uint8Array(n.digest())}function AE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new li([n,r],0),new li([s,i],0)]}class ov{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(li.fromNumber(r)));return s.compare(E3)===1&&(s=new li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CE(e),[r,s]=AE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ov(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=CE(e),[r,s]=AE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(ge.min(),s,new Xe(Se),gs(),Ie())}}class Hc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class dA{constructor(e,n){this.targetId=e,this.Ce=n}}class hA{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bE{constructor(){this.ve=0,this.Fe=PE(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe(38017,{changeType:i})}}),new Hc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class x3{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=Fu(),this.He=Fu(),this.Ye=new Xe(Se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(sg(i))if(r===0){const o=new ue(i.path);this.et(n,o,qt.newNoDocument(o,ge.min()))}else Ne(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(c){if(c instanceof MC)return Ta("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ov(o,s,i)}catch(c){return Ta(c instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&sg(a.target)){const c=new ue(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,qt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new hf(e,n,this.Ye,this.je,r);return this.je=gs(),this.Je=Fu(),this.He=Fu(),this.Ye=new Xe(Se),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(Se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(Se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fu(){return new Xe(ue.comparator)}function PE(){return new Xe(ue.comparator)}const T3={asc:"ASCENDING",desc:"DESCENDING"},S3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"};class C3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ag(t,e){return t.useProto3Json||of(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A3(t,e){return ch(t,e.toTimestamp())}function Fr(t){return Ne(!!t,49232),ge.fromTimestamp(function(n){const r=gi(n);return new Be(r.seconds,r.nanos)}(t))}function av(t,e){return lg(t,e).canonicalString()}function lg(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pA(t){const e=Le.fromString(t);return Ne(wA(e),10190,{key:e.toString()}),e}function cg(t,e){return av(t.databaseId,e.path)}function Cp(t,e){const n=pA(e);if(n.get(1)!==t.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(gA(n))}function mA(t,e){return av(t.databaseId,e)}function b3(t){const e=pA(t);return e.length===4?Le.emptyPath():gA(e)}function ug(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gA(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RE(t,e,n){return{name:cg(t,e),fields:n.value.mapValue.fields}}function P3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ne(d===void 0||typeof d=="string",58123),Vt.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?W.UNKNOWN:uA(u.code);return new te(d,u.message||"")}(o);n=new hA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cp(t,r.document.name),i=Fr(r.document.updateTime),o=r.document.createTime?Fr(r.document.createTime):ge.min(),a=new pn({mapValue:{fields:r.document.fields}}),c=qt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new pd(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cp(t,r.document),i=r.readTime?Fr(r.readTime):ge.min(),o=qt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new pd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cp(t,r.document),i=r.removedTargetIds||[];n=new pd([],i,s,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new v3(s,i),a=r.targetId;n=new dA(a,o)}}return n}function R3(t,e){let n;if(e instanceof Wc)n={update:RE(t,e.key,e.value)};else if(e instanceof sv)n={delete:cg(t,e.key)};else if(e instanceof Ci)n={update:RE(t,e.key,e.data),updateMask:j3(e.fieldMask)};else{if(!(e instanceof m3))return fe(16599,{Vt:e.type});n={verify:cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:A3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)}(t,e.precondition)),n}function k3(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Fr(s.updateTime):Fr(i);return o.isEqual(ge.min())&&(o=Fr(i)),new h3(o,s.transformResults||[])}(n,e))):[]}function N3(t,e){return{documents:[mA(t,e.path)]}}function D3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mA(t,s);const i=function(u){if(u.length!==0)return vA(hr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ro(p.field),direction:M3(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ag(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function O3(t){let e=b3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=yA(h);return p instanceof hr&&GC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new Sc(ko(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,of(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){const p=!!h.before,m=h.values||[];return new oh(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new oh(m,p)}(n.endAt)),Zj(e,s,o,i,a,"F",c,u)}function V3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ko(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ko(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ko(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ko(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(ko(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>yA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function M3(t){return T3[t]}function L3(t){return S3[t]}function F3(t){return I3[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function ko(t){return Nt.fromServerFormat(t.fieldPath)}function vA(t){return t instanceof ht?function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:L3(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(s=>vA(s));return r.length===1?r[0]:{compositeFilter:{op:F3(n.op),filters:r}}}(t):fe(54877,{filter:t})}function j3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.yt=e}}function $3(t){const e=O3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.Cn=new z3}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(mi.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class z3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_A=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(_A,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Aa(0)}static cr(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",W3=1048576;function DE([t,e],[n,r]){const s=Se(t,n);return s===0?Se(e,r):s}class H3{constructor(e){this.Ir=e,this.buffer=new vt(DE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(NE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ha(n)?ne(NE,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.Vr(3e5)})}}class G3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(sf.ce);const r=new H3(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(kE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),bo()<=Te.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function K3(t,e){return new G3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.changes=new yo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zl(r.mutation,s,In.empty(),Be.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Ui();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Sl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gs();const o=Bl(),a=function(){return Bl()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Ci)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),zl(d.mutation,u,d.mutation.getFieldMask(),Be.now())):o.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new Y3(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Bl();let s=new Xe((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||In.empty();d=a.applyToLocalView(u,d),r.set(c,d);const h=(s.get(a.batchId)||Ie()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,h=nA();d.forEach(p=>{if(!i.has(p)){const m=lA(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Ui());let a=_c,c=i;return o.next(u=>H.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ie())).next(d=>({batchId:a,changes:tA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let s=Sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Sl();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,c=>{const u=function(h,p){return new qa(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,qt.newInvalidDocument(d)))});let a=Sl();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&zl(d.mutation,u,In.empty(),Be.now()),cf(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:$3(s.bundledQuery),readTime:Fr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.overlays=new Xe(ue.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ui();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Ui(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Xe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ui(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ui(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return H.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y3(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Qr=new vt(xt.$r),this.Ur=new vt(xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new xt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new Le([])),r=new xt(n,e),s=new xt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new Le([])),r=new xt(n,e),s=new xt(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Se(e.Yr,n.Yr)}static Kr(e,n){return Se(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(xt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new g3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new xt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Xy:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Se);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new xt(new ue(i),0);let a=new vt(Se);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new xt(n,0),s=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.ri=e,this.docs=function(){return new Xe(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gs();const o=n.path,a=new ue(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Nj(kj(d),r)<=0||(s.has(d.key)||cf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r6(this)}getSize(e){return H.resolve(this.size)}}class r6 extends Q3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.persistence=e,this.si=new yo(n=>ev(n),tv),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new lv,this.targetCount=0,this.ai=Aa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new e6,this.referenceDelegate=e(this),this.Pi=new s6(this),this.indexManager=new B3,this.remoteDocumentCache=function(s){return new n6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new U3(n),this.Ii=new J3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new t6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new i6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class i6 extends Oj{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.Ri=new lv,this.Vi=null}static mi(e){return new cv(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const s=ue.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.pi=new yo(r=>Lj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=K3(this,n)}static mi(e,n){return new uh(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dd(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return jM()?8:Vj(Kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new o6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(bo()<=Te.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(bo()<=Te.DEBUG&&ne("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(bo()<=Te.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):H.resolve())}ys(e,n){if(EE(n))return H.resolve(null);let r=Lr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=og(n,null,"F"),r=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,og(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return EE(n)||s.isEqual(ge.min())?H.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(bo()<=Te.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Po(n)),this.vs(e,o,n,Rj(s,_c)).next(a=>a))})}Ds(e,n){let r=new vt(ZC(e));return n.forEach((s,i)=>{cf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return bo()<=Te.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,mi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LocalStore",l6=3e8;class c6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Xe(Se),this.xs=new yo(i=>ev(i),tv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function u6(t,e,n,r){return new c6(t,e,n,r)}async function xA(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ie();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function d6(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const h=u.batch,p=h.keys();let m=H.resolve();return p.forEach(T=>{m=m.next(()=>d.getEntry(c,T)).next(w=>{const E=u.docVersions.get(T);Ne(E!==null,48541),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function TA(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function h6(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Vt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(w,E,_){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=l6?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let c=gs(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(f6(i,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(ge.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function f6(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gs();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ne(dv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function p6(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m6(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function dg(t,e,n){const r=ye(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ha(o))throw o;ne(dv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function OE(t,e,n){const r=ye(t);let s=ge.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=ye(c),p=h.xs.get(d);return p!==void 0?H.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(r,o,Lr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ie())).next(a=>(g6(r,t3(e),a),{documents:a,Qs:i})))}function g6(t,e,n){let r=t.Os.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class VE{constructor(){this.activeTargetIds=a3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y6{constructor(){this.Mo=new VE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="ConnectivityMonitor";class LE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(ME,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(ME,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function hg(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",w6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=hg(),a=this.zo(e,n.toUriEncodedString());ne(Ap,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),d=ja(u);return this.Jo(e,a,c,r,d).then(h=>(ne(Ap,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ta(Ap,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=w6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class x6 extends _6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=hg();return new Promise((a,c)=>{const u=new IC;u.setWithCredentials(!0),u.listenOnce(CC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ud.NO_ERROR:const h=u.getResponseJson();ne(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case ud.TIMEOUT:ne(Bt,`RPC '${e}' ${o} timed out`),c(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const p=u.getStatus();if(ne(Bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const w=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(T.status);c(new te(w,T.message))}else c(new te(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new te(W.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(Bt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);ne(Bt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=hg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PC(),a=bC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");ne(Bt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let p=!1,m=!1;const T=new E6({Yo:E=>{m?ne(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(ne(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),ne(Bt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),w=(E,_,v)=>{E.listen(_,x=>{try{v(x)}catch(N){setTimeout(()=>{throw N},0)}})};return w(h,Tl.EventType.OPEN,()=>{m||(ne(Bt,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),w(h,Tl.EventType.CLOSE,()=>{m||(m=!0,ne(Bt,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(h))}),w(h,Tl.EventType.ERROR,E=>{m||(m=!0,Ta(Bt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new te(W.UNAVAILABLE,"The operation could not be completed")))}),w(h,Tl.EventType.MESSAGE,E=>{var _;if(!m){const v=E.data[0];Ne(!!v,16349);const x=v,N=(x==null?void 0:x.error)||((_=x[0])==null?void 0:_.error);if(N){ne(Bt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let L=function(b){const R=ct[b];if(R!==void 0)return uA(R)}(O),C=N.message;L===void 0&&(L=W.INTERNAL,C="Unknown error status: "+O+" with message "+N.message),m=!0,T.a_(new te(L,C)),h.close()}else ne(Bt,`RPC '${e}' stream ${s} received:`,v),T.u_(v)}}),w(a,AC.STAT_EVENT,E=>{E.stat===Zm.PROXY?ne(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Zm.NOPROXY&&ne(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new C3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class IA{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new te(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ne(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T6 extends IA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=P3(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Fr(o.readTime):ge.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ug(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=sg(c)?{documents:N3(i,c)}:{query:D3(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fA(i,o.resumeToken);const u=ag(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=ch(i,o.snapshotVersion.toTimestamp());const u=ag(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=V3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ug(this.serializer),n.removeTarget=e,this.q_(n)}}class S6 extends IA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k3(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>R3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{}class C6 extends I6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,lg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(W.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,lg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class A6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class b6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{vo(this)&&(ne(co,"Restarting streams for network reachability change."),await async function(c){const u=ye(c);u.Ea.add(4),await qc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await pf(u)}(this))})}),this.Ra=new A6(r,s)}}async function pf(t){if(vo(t))for(const e of t.da)await e(!0)}async function qc(t){for(const e of t.da)await e(!1)}function CA(t,e){const n=ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mv(n)?pv(n):Ga(n).O_()&&fv(n,e))}function hv(t,e){const n=ye(t),r=Ga(n);n.Ia.delete(e),r.O_()&&AA(n,e),n.Ia.size===0&&(r.O_()?r.L_():vo(n)&&n.Ra.set("Unknown"))}function fv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ga(t).Y_(e)}function AA(t,e){t.Va.Ue(e),Ga(t).Z_(e)}function pv(t){t.Va=new x3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ga(t).start(),t.Ra.ua()}function mv(t){return vo(t)&&!Ga(t).x_()&&t.Ia.size>0}function vo(t){return ye(t).Ea.size===0}function bA(t){t.Va=void 0}async function P6(t){t.Ra.set("Online")}async function R6(t){t.Ia.forEach((e,n)=>{fv(t,e)})}async function k6(t,e){bA(t),mv(t)?(t.Ra.ha(e),pv(t)):t.Ra.set("Unknown")}async function N6(t,e,n){if(t.Ra.set("Online"),e instanceof hA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){ne(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof pd?t.Va.Ze(e):e instanceof dA?t.Va.st(e):t.Va.tt(e),!n.isEqual(ge.min()))try{const r=await TA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(Vt.EMPTY_BYTE_STRING,d.snapshotVersion)),AA(i,c);const h=new Qs(d.target,c,u,d.sequenceNumber);fv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne(co,"Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!Ha(e))throw e;t.Ea.add(1),await qc(t),t.Ra.set("Offline"),n||(n=()=>TA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pf(t)})}function PA(t,e){return e().catch(n=>dh(t,n,e))}async function mf(t){const e=ye(t),n=wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xy;for(;D6(e);)try{const s=await p6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,O6(e,s)}catch(s){await dh(e,s)}RA(e)&&kA(e)}function D6(t){return vo(t)&&t.Ta.length<10}function O6(t,e){t.Ta.push(e);const n=wi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RA(t){return vo(t)&&!wi(t).x_()&&t.Ta.length>0}function kA(t){wi(t).start()}async function V6(t){wi(t).ra()}async function M6(t){const e=wi(t);for(const n of t.Ta)e.ea(n.mutations)}async function L6(t,e,n){const r=t.Ta.shift(),s=iv.from(r,e,n);await PA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mf(t)}async function F6(t,e){e&&wi(t).X_&&await async function(r,s){if(function(o){return w3(o)&&o!==W.ABORTED}(s.code)){const i=r.Ta.shift();wi(r).B_(),await PA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await mf(r)}}(t,e),RA(t)&&kA(t)}async function jE(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ne(co,"RemoteStore received new credentials");const r=vo(n);n.Ea.add(3),await qc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function j6(t,e){const n=ye(t);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await qc(n),n.Ra.set("Unknown"))}function Ga(t){return t.ma||(t.ma=function(n,r,s){const i=ye(n);return i.sa(),new T6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:P6.bind(null,t),t_:R6.bind(null,t),r_:k6.bind(null,t),H_:N6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),mv(t)?pv(t):t.Ra.set("Unknown")):(await t.ma.stop(),bA(t))})),t.ma}function wi(t){return t.fa||(t.fa=function(n,r,s){const i=ye(n);return i.sa(),new S6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:V6.bind(null,t),r_:F6.bind(null,t),ta:M6.bind(null,t),na:L6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mf(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new gv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(t,e){if(ms("AsyncQueue",`${e}: ${t}`),Ha(t))return new te(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Sl(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.ga=new Xe(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ba{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ba(e,n,na.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class $6{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ye(n),i=s.queries;s.queries=$E(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new te(W.ABORTED,"Firestore shutting down"))}}function $E(){return new yo(t=>JC(t),lf)}async function NA(t,e){const n=ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new U6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=yv(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&vv(n)}async function DA(t,e){const n=ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B6(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&vv(n)}function z6(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function vv(t){t.Ca.forEach(e=>{e.next()})}var fg,BE;(BE=fg||(fg={})).Ma="default",BE.Cache="cache";class OA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.key=e}}class MA{constructor(e){this.key=e}}class W6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=ZC(e),this.tu=new na(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new UE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=cf(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?T!==w&&(r.track({type:3,doc:m}),E=!0):this.su(p,m)||(r.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(c||u)&&(a=!0)),E&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,T){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:E})}};return w(m)-w(T)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ba(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new MA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new VA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ba.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wv="SyncEngine";class H6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q6{constructor(e){this.key=e,this.hu=!1}}class G6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new yo(a=>JC(a),lf),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(ue.comparator),this.Au=new Map,this.Ru=new lv,this.Vu={},this.mu=new Map,this.fu=Aa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K6(t,e,n=!0){const r=BA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await LA(r,e,n,!0),s}async function Q6(t,e){const n=BA(t);await LA(n,e,!0,!1)}async function LA(t,e,n,r){const s=await m6(t.localStore,Lr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Y6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&CA(t.remoteStore,s),a}async function Y6(t,e,n,r,s){t.pu=(h,p,m)=>async function(w,E,_,v){let x=E.view.ru(_);x.Cs&&(x=await OE(w.localStore,E.query,!1).then(({documents:C})=>E.view.ru(C,x)));const N=v&&v.targetChanges.get(E.targetId),O=v&&v.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(x,w.isPrimaryClient,N,O);return WE(w,E.targetId,L.au),L.snapshot}(t,h,p,m);const i=await OE(t.localStore,e,!0),o=new W6(e,i.Qs),a=o.ru(i.documents),c=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);WE(t,n,u.au);const d=new H6(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function X6(t,e,n){const r=ye(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!lf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hv(r.remoteStore,s.targetId),pg(r,s.targetId)}).catch(Wa)):(pg(r,s.targetId),await dg(r.localStore,s.targetId,!0))}async function J6(t,e){const n=ye(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hv(n.remoteStore,r.targetId))}async function Z6(t,e,n){const r=oU(t);try{const s=await function(o,a){const c=ye(o),u=Be.now(),d=a.reduce((m,T)=>m.add(T.key),Ie());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=gs(),w=Ie();return c.Ns.getEntries(m,d).next(E=>{T=E,T.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,T)).next(E=>{h=E;const _=[];for(const v of a){const x=p3(v,h.get(v.key).overlayedDocument);x!=null&&_.push(new Ci(v.key,x,WC(x.value.mapValue),ar.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(m,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:tA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Xe(Se)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Gc(r,s.changes),await mf(r.remoteStore)}catch(s){const i=yv(s,"Failed to persist write");n.reject(i)}}async function FA(t,e){const n=ye(t);try{const r=await h6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ne(o.hu,14607):s.removedDocuments.size>0&&(Ne(o.hu,42227),o.hu=!1))}),await Gc(n,r,e)}catch(r){await Wa(r)}}function zE(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ye(o);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&vv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eU(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Xe(ue.comparator);o=o.insert(i,qt.newNoDocument(i,ge.min()));const a=Ie().add(i),c=new hf(ge.min(),new Map,new Xe(Se),o,a);await FA(r,c),r.du=r.du.remove(i),r.Au.delete(e),_v(r)}else await dg(r.localStore,e,!1).then(()=>pg(r,e,n)).catch(Wa)}async function tU(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await d6(n.localStore,e);UA(n,r,null),jA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(n,s)}catch(s){await Wa(s)}}async function nU(t,e,n){const r=ye(t);try{const s=await function(o,a){const c=ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ne(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);UA(r,e,n),jA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gc(r,s)}catch(s){await Wa(s)}}function jA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function UA(t,e,n){const r=ye(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||$A(t,r)})}function $A(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(hv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_v(t))}function WE(t,e,n){for(const r of n)r instanceof VA?(t.Ru.addReference(r.key,e),rU(t,r)):r instanceof MA?(ne(wv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$A(t,r.key)):fe(19791,{wu:r})}function rU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ne(wv,"New document in limbo: "+n),t.Eu.add(r),_v(t))}function _v(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(Le.fromString(e)),r=t.fu.next();t.Au.set(r,new q6(n)),t.du=t.du.insert(n,r),CA(t.remoteStore,new Qs(Lr(nv(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function Gc(t,e,n){const r=ye(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=uv.As(c.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const d=ye(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(u,p=>H.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>H.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Ha(h))throw h;ne(dv,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=d.Ms.get(p),T=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(p,w)}}}(r.localStore,i))}async function sU(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ne(wv,"User change. New user:",e.toKey());const r=await xA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new te(W.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(n,r.Ls)}}function iU(t,e){const n=ye(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function BA(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eU.bind(null,e),e.Pu.H_=B6.bind(null,e.eventManager),e.Pu.yu=z6.bind(null,e.eventManager),e}function oU(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nU.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return u6(this.persistence,new a6,e.initialUser,this.serializer)}Cu(e){return new EA(cv.mi,this.serializer)}Du(e){return new y6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class aU extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ne(this.persistence.referenceDelegate instanceof uh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new EA(r=>uh.mi(r,n),this.serializer)}}class mg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sU.bind(null,this.syncEngine),await j6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $6}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=function(i){return new x6(i)}(e.databaseInfo);return function(i,o,a,c){return new C6(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new b6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zE(this.syncEngine,n,0),function(){return LE.v()?new LE:new v6}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const h=new G6(s,i,o,a,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ye(s);ne(co,"RemoteStore shutting down."),i.Ea.add(5),await qc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="FirestoreClient";class lU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=Yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne(_i,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne(_i,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),ne(_i,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cU(t);ne(_i,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jE(e.remoteStore,s)),t._onlineComponents=e}async function cU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(_i,"Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new hh)}}else ne(_i,"Using default OfflineComponentProvider"),await Pp(t,new aU(void 0));return t._offlineComponents}async function WA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(_i,"Using user provided OnlineComponentProvider"),await HE(t,t._uninitializedComponentsProvider._online)):(ne(_i,"Using default OnlineComponentProvider"),await HE(t,new mg))),t._onlineComponents}function uU(t){return WA(t).then(e=>e.syncEngine)}async function gg(t){const e=await WA(t),n=e.eventManager;return n.onListen=K6.bind(null,e.syncEngine),n.onUnlisten=X6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=J6.bind(null,e.syncEngine),n}function dU(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new zA({next:p=>{d.Nu(),o.enqueueAndForget(()=>DA(i,h)),p.fromCache&&c.source==="server"?u.reject(new te(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new OA(a,d,{includeMetadataChanges:!0,qa:!0});return NA(i,h)}(await gg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firestore.googleapis.com",GE=!0;class KE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qA,this.ssl=GE}else this.host=e.host,this.ssl=e.ssl??GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W3)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wj;switch(r.type){case"firstParty":return new Tj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qE.get(n);r&&(ne("ComponentProvider","Removing Datastore"),qE.delete(n),r.terminate())}(this),Promise.resolve()}}function hU(t,e,n,r={}){var u;t=Mr(t,gf);const s=ja(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(LI(`https://${a}`),FI("Firestore",!0)),i.host!==qA&&i.host!==a&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!io(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Wt.MOCK_USER;else{d=RM(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Wt(p)}t._authCredentials=new _j(new kC(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zc(n,pt._jsonSchema))return new pt(e,r||null,new ue(Le.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ft("string",pt._jsonSchemaVersion),referencePath:ft("string")};class ui extends Ai{constructor(e,n,r){super(e,n,nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ue(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function Wl(t,e,...n){if(t=wt(t),NC("collection","path",e),t instanceof gf){const r=Le.fromString(e,...n);return aE(r),new ui(t,null,r)}{if(!(t instanceof pt||t instanceof ui))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return aE(r),new ui(t.firestore,null,r)}}function fh(t,e,...n){if(t=wt(t),arguments.length===1&&(e=Yy.newId()),NC("doc","path",e),t instanceof gf){const r=Le.fromString(e,...n);return oE(r),new pt(t,null,new ue(r))}{if(!(t instanceof pt||t instanceof ui))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return oE(r),new pt(t.firestore,t instanceof ui?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="AsyncQueue";class YE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SA(this,"async_queue_retry"),this._c=()=>{const r=bp();r&&ne(QE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ci;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ha(e))throw e;ne(QE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",XE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=gv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&fe(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class uo extends gf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YE(e),this._firestoreClient=void 0,await e}}}function fU(t,e){const n=typeof t=="object"?t:BI(),r=typeof t=="string"?t:sh,s=Uy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bM("firestore");i&&hU(s,...i)}return s}function Ev(t){if(t._terminated)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pU(t),t._firestoreClient}function pU(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,d){return new Uj(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Vt.fromBase64String(e))}catch(n){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:ft("string",Fn._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(zc(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:ft("string",jr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ur(e.vectorValues);throw new te(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:ft("string",Ur._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=/^__.*__$/;class gU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}}class GA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class Tv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KA(this.Ac)&&mU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Cc(e,n,r,s=!1){return new Tv({Ac:e,methodName:n,Dc:r,path:Nt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sv(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new yU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vU(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Iv("Data must be an object, but it was:",o,r);const a=QA(r,o);let c,u;if(i.merge)c=new In(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=yg(e,h,n);if(!o.contains(p))throw new te(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);XA(d,p)||d.push(p)}c=new In(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new gU(new pn(a),c,u)}class vf extends xv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}function wU(t,e,n,r){const s=t.Cc(1,e,n);Iv("Data must be an object, but it was:",s,r);const i=[],o=pn.empty();Ii(r,(c,u)=>{const d=Cv(e,c,n);u=wt(u);const h=s.yc(d);if(u instanceof vf)i.push(d);else{const p=Kc(u,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new In(i);return new GA(o,a,s.fieldTransforms)}function _U(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[yg(e,r,n)],c=[s];if(i.length%2!=0)throw new te(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(yg(e,i[p])),c.push(i[p+1]);const u=[],d=pn.empty();for(let p=a.length-1;p>=0;--p)if(!XA(u,a[p])){const m=a[p];let T=c[p];T=wt(T);const w=o.yc(m);if(T instanceof vf)u.push(m);else{const E=Kc(T,w);E!=null&&(u.push(m),d.set(m,E))}}const h=new In(u);return new GA(d,h,o.fieldTransforms)}function EU(t,e,n,r=!1){return Kc(n,t.Cc(r?4:3,e))}function Kc(t,e){if(YA(t=wt(t)))return Iv("Unsupported field value:",e,t),QA(t,e);if(t instanceof xv)return function(r,s){if(!KA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Kc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Be.fromDate(r);return{timestampValue:ch(s.serializer,i)}}if(r instanceof Be){const i=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(s.serializer,i)}}if(r instanceof jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:fA(s.serializer,r._byteString)};if(r instanceof pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:av(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ur)return function(o,a){return{mapValue:{fields:{[$C]:{stringValue:zC},[ih]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return rv(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${rf(r)}`)}(t,e)}function QA(t,e){const n={};return VC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(t,(r,s)=>{const i=Kc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function YA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof jr||t instanceof Fn||t instanceof pt||t instanceof xv||t instanceof Ur)}function Iv(t,e,n){if(!YA(n)||!DC(n)){const r=rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function yg(t,e,n){if((e=wt(e))instanceof yf)return e._internalPath;if(typeof e=="string")return Cv(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const xU=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,n){if(e.search(xU)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new te(W.INVALID_ARGUMENT,a+t+c)}function XA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TU extends JA{data(){return super.data()}}function wf(t,e){return typeof e=="string"?Cv(t,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class eb extends Av{}function vg(t,e,...n){let r=[];e instanceof Av&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof bv).length,a=i.filter(c=>c instanceof _f).length;if(o>1||o>0&&a>0)throw new te(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _f extends eb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return nb(e._query,n),new Ai(e.firestore,e.converter,ig(e._query,n))}_parse(e){const n=Sv(e.firestore);return function(i,o,a,c,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new te(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){e1(h,d);const T=[];for(const w of h)T.push(ZE(c,i,w));p={arrayValue:{values:T}}}else p=ZE(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||e1(h,d),p=EU(a,o,h,d==="in"||d==="not-in");return ht.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wg(t,e,n){const r=e,s=wf("where",t);return _f._create(s,r,n)}class bv extends Av{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)nb(o,c),o=ig(o,c)}(e._query,n),new Ai(e.firestore,e.converter,ig(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends eb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(i,o)}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new qa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function tb(t,e="asc"){const n=e,r=wf("orderBy",t);return Pv._create(r,n)}function ZE(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XC(e)&&n.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ue.isDocumentKey(r))throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mE(t,new ue(r))}if(n instanceof pt)return mE(t,n._key);throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function e1(t,e){if(!Array.isArray(t)||t.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SU{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ii(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[ih].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>rt(o.doubleValue));return new Ur(n)}convertGeoPoint(e){return new jr(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ne(wA(r),9688,{name:e});const s=new xc(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||ms(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xi extends JA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xi._jsonSchema={type:ft("string",Xi._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class md extends Xi{data(e={}){return super.data(e)}}class Ji{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new md(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new md(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Cl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new md(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Cl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:CU(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ji._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}Ji._jsonSchemaVersion="firestore/querySnapshot/1.0",Ji._jsonSchema={type:ft("string",Ji._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class Rv extends SU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function AU(t){t=Mr(t,Ai);const e=Mr(t.firestore,uo),n=Ev(e),r=new Rv(e);return ZA(t._query),dU(n,t._query).then(s=>new Ji(e,r,t,s))}function bU(t,e,n,...r){t=Mr(t,pt);const s=Mr(t.firestore,uo),i=Sv(s);let o;return o=typeof(e=wt(e))=="string"||e instanceof yf?_U(i,"updateDoc",t._key,e,n,r):wU(i,"updateDoc",t._key,e),kv(s,[o.toMutation(t._key,ar.exists(!0))])}function _g(t){return kv(Mr(t.firestore,uo),[new sv(t._key,ar.none())])}function rb(t,e){const n=Mr(t.firestore,uo),r=fh(t),s=IU(t.converter,e);return kv(n,[vU(Sv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function sb(t,...e){var c,u,d;t=wt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||JE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(JE(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof pt)o=Mr(t.firestore,uo),a=nv(t._key.path),i={next:h=>{e[r]&&e[r](PU(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Mr(t,Ai);o=Mr(h.firestore,uo),a=h._query;const p=new Rv(o);i={next:m=>{e[r]&&e[r](new Ji(o,p,h,m))},error:e[r+1],complete:e[r+2]},ZA(t._query)}return function(p,m,T,w){const E=new zA(w),_=new OA(m,E,T);return p.asyncQueue.enqueueAndForget(async()=>NA(await gg(p),_)),()=>{E.Nu(),p.asyncQueue.enqueueAndForget(async()=>DA(await gg(p),_))}}(Ev(o),a,s,i)}function kv(t,e){return function(r,s){const i=new ci;return r.asyncQueue.enqueueAndForget(async()=>Z6(await uU(r),s,i)),i.promise}(Ev(t),e)}function PU(t,e,n){const r=n.docs.get(e._key),s=new Rv(t);return new Xi(t,s,e._key,r,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){za=s})(Ua),Ea(new oo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new uo(new Ej(r.getProvider("auth-internal")),new Sj(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),oi(nE,rE,e),oi(nE,rE,"esm2020")})();const RU={apiKey:"AIzaSyChvYxNaypLbUgX1lHfxH-0NIcZHo3yLAw",authDomain:"fisioavanca.firebaseapp.com",projectId:"fisioavanca",storageBucket:"fisioavanca.firebasestorage.app",messagingSenderId:"1014645267392",appId:"1:1014645267392:web:23808e29a244b30ba68625",measurementId:"G-NRS01N5F66"},ib=$I(RU),Rp=mj(ib),js=fU(ib),ob=S.createContext(void 0),Qc=()=>{const t=S.useContext(ob);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},kU=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{const c=rF(Rp,u=>{n(u),s(!1)});return()=>c()},[]);const a={isAuthenticated:!!e,user:e,login:async(c,u)=>{try{return await eF(Rp,c,u),!0}catch(d){return console.error("Erro no login:",d),!1}},logout:async()=>{try{await sF(Rp)}catch(c){console.error("Erro no logout:",c)}},loading:r};return g.jsx(ob.Provider,{value:a,children:t})},NU=$h("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),St=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Zk:"button";return g.jsx(o,{className:Je(NU({variant:e,size:n,className:t})),ref:i,...s})});St.displayName="Button";const Et=S.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Et.displayName="Input";var DU="Label",ab=S.forwardRef((t,e)=>g.jsx(ot.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ab.displayName=DU;var lb=ab;const OU=$h("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tt=S.forwardRef(({className:t,...e},n)=>g.jsx(lb,{ref:n,className:Je(OU(),t),...e}));tt.displayName=lb.displayName;const br=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));br.displayName="Card";const Pa=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("flex flex-col space-y-1.5 p-6",t),...e}));Pa.displayName="CardHeader";const Ra=S.forwardRef(({className:t,...e},n)=>g.jsx("h3",{ref:n,className:Je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ra.displayName="CardTitle";const VU=S.forwardRef(({className:t,...e},n)=>g.jsx("p",{ref:n,className:Je("text-sm text-muted-foreground",t),...e}));VU.displayName="CardDescription";const Pr=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("p-6 pt-0",t),...e}));Pr.displayName="CardContent";const MU=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("flex items-center p-6 pt-0",t),...e}));MU.displayName="CardFooter";const LU=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),{login:o}=Qc(),{toast:a}=Lh(),c=async u=>{u.preventDefault(),i(!0);try{await o(t,n)||a({title:"Erro no login",description:"Email ou senha incorretos",variant:"destructive"})}catch{a({title:"Erro",description:"Ocorreu um erro ao fazer login",variant:"destructive"})}finally{i(!1)}};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:g.jsxs(br,{className:"w-full max-w-md shadow-soft",children:[g.jsxs(Pa,{className:"text-center space-y-4",children:[g.jsx("div",{className:"mx-auto bg-gradient-primary rounded-full p-4 w-16 h-16 flex items-center justify-center",children:g.jsx(xS,{className:"h-8 w-8 text-primary-foreground"})}),g.jsxs("div",{children:[g.jsx(Ra,{className:"text-2xl font-bold text-foreground",children:"FisioApp"}),g.jsx("p",{className:"text-muted-foreground",children:"Sistema de Gestão de Pacientes"})]})]}),g.jsx(Pr,{className:"space-y-6",children:g.jsxs("form",{onSubmit:c,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs(tt,{htmlFor:"email",className:"flex items-center space-x-2",children:[g.jsx(TS,{className:"h-4 w-4"}),g.jsx("span",{children:"Email"})]}),g.jsx(Et,{id:"email",type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"seu@email.com",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(tt,{htmlFor:"password",className:"flex items-center space-x-2",children:[g.jsx(GN,{className:"h-4 w-4"}),g.jsx("span",{children:"Senha"})]}),g.jsx(Et,{id:"password",type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"••••••••",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"})]}),g.jsx(St,{type:"submit",className:"w-full bg-gradient-primary hover:opacity-90",disabled:s,children:s?"Entrando...":"Entrar"})]})})]})})},mh=({children:t})=>{const{logout:e}=Qc(),n=()=>{e()};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("header",{className:"bg-card border-b border-border shadow-card",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"bg-gradient-primary rounded-lg p-2",children:g.jsx(xS,{className:"h-6 w-6 text-primary-foreground"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold text-foreground",children:"FisioApp"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestão de Pacientes"})]})]}),g.jsxs(St,{variant:"outline",size:"sm",onClick:n,className:"flex items-center space-x-2",children:[g.jsx(KN,{className:"h-4 w-4"}),g.jsx("span",{children:"Sair"})]})]})})}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})]})},FU=$h("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function cb({className:t,variant:e,...n}){return g.jsx("div",{className:Je(FU({variant:e}),t),...n})}const Nv=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),{user:s}=Qc();return S.useEffect(()=>{if(!s){e([]),r(!1);return}const c=Wl(js,"evolutions"),u=vg(c,wg("userId","==",s.uid),tb("date","desc")),d=sb(u,h=>{const p=h.docs.map(m=>{var T,w;return{id:m.id,...m.data(),date:((T=m.data().date)==null?void 0:T.toDate())||new Date,createdAt:((w=m.data().createdAt)==null?void 0:w.toDate())||new Date}});e(p),r(!1)});return()=>d()},[s]),{evolutions:t,loading:n,addEvolution:async c=>{if(!s)throw new Error("Usuário não autenticado");const u={...c,userId:s.uid,createdAt:new Date};return{id:(await rb(Wl(js,"evolutions"),u)).id,...u}},deleteEvolution:async c=>{if(!s)throw new Error("Usuário não autenticado");await _g(fh(js,"evolutions",c))},getEvolutionsByPatient:c=>t.filter(u=>u.patientId===c).sort((u,d)=>d.date.getTime()-u.date.getTime())}},jU=({patient:t,onView:e,onDelete:n})=>{const{getEvolutionsByPatient:r}=Nv(),s=r(t.id).length,i=r(t.id)[0];return g.jsxs(br,{className:"bg-gradient-card shadow-card hover:shadow-soft transition-all duration-300 hover:scale-[1.02]",children:[g.jsx(Pa,{className:"pb-3",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"bg-primary/10 rounded-full p-2",children:g.jsx(CS,{className:"h-5 w-5 text-primary"})}),g.jsxs("div",{children:[g.jsx(Ra,{className:"text-lg text-foreground",children:t.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.age," anos"]})]})]}),g.jsxs(cb,{variant:"secondary",className:"bg-accent/10 text-accent-foreground",children:[s," evolução",s!==1?"ões":""]})]})}),g.jsxs(Pr,{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[g.jsx(SS,{className:"h-4 w-4"}),g.jsx("span",{children:t.phone})]}),g.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[g.jsx(ES,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),g.jsx("span",{className:"text-foreground",children:t.diagnosis})]}),i&&g.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[g.jsx(Ty,{className:"h-4 w-4"}),g.jsxs("span",{children:["Último atendimento: ",i.date.toLocaleDateString("pt-BR")]})]}),g.jsxs("div",{className:"flex space-x-2 pt-2",children:[g.jsx(St,{onClick:()=>e(t),className:"flex-1 bg-gradient-primary hover:opacity-90",size:"sm",children:"Ver Detalhes"}),g.jsx(St,{variant:"outline",size:"sm",onClick:()=>n(t),className:"border-destructive/50 text-destructive hover:bg-destructive hover:text-destructive-foreground",children:g.jsx(IS,{className:"h-4 w-4"})})]})]})]})};var Yc=t=>t.type==="checkbox",$i=t=>t instanceof Date,Zt=t=>t==null;const ub=t=>typeof t=="object";var it=t=>!Zt(t)&&!Array.isArray(t)&&ub(t)&&!$i(t),UU=t=>it(t)&&t.target?Yc(t.target)?t.target.checked:t.target.value:t,$U=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,BU=(t,e)=>t.has($U(e)),zU=t=>{const e=t.constructor&&t.constructor.prototype;return it(e)&&e.hasOwnProperty("isPrototypeOf")},Dv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _t(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Dv&&(t instanceof Blob||r))&&(n||it(t)))if(e=n?[]:{},!n&&!zU(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=_t(t[s]));else return t;return e}var Ef=t=>/^\w*$/.test(t),ut=t=>t===void 0,Ov=t=>Array.isArray(t)?t.filter(Boolean):[],Vv=t=>Ov(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,n)=>{if(!e||!it(t))return n;const r=(Ef(e)?[e]:Vv(e)).reduce((s,i)=>Zt(s)?s:s[i],t);return ut(r)||r===t?ut(t[e])?n:t[e]:r},Er=t=>typeof t=="boolean",He=(t,e,n)=>{let r=-1;const s=Ef(e)?[e]:Vv(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let c=n;if(r!==o){const u=t[a];c=it(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=c,t=t[a]}};const t1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},nr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},WU=G.createContext(null);WU.displayName="HookFormContext";var HU=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==nr.all&&(e._proxyFormState[o]=!r||nr.all),t[o]}});return s};const qU=typeof window<"u"?G.useLayoutEffect:G.useEffect;var Rr=t=>typeof t=="string",GU=(t,e,n,r,s)=>Rr(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n),Eg=t=>Zt(t)||!ub(t);function Us(t,e,n=new WeakSet){if(Eg(t)||Eg(e))return t===e;if($i(t)&&$i(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if($i(o)&&$i(a)||it(o)&&it(a)||Array.isArray(o)&&Array.isArray(a)?!Us(o,a,n):o!==a)return!1}}return!0}var KU=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Hl=t=>Array.isArray(t)?t:[t],n1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},un=t=>it(t)&&!Object.keys(t).length,Mv=t=>t.type==="file",rr=t=>typeof t=="function",gh=t=>{if(!Dv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},db=t=>t.type==="select-multiple",Lv=t=>t.type==="radio",QU=t=>Lv(t)||Yc(t),kp=t=>gh(t)&&t.isConnected;function YU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ut(t)?r++:t[e[r++]];return t}function XU(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function lt(t,e){const n=Array.isArray(e)?e:Ef(e)?[e]:Vv(e),r=n.length===1?t:YU(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(it(r)&&un(r)||Array.isArray(r)&&XU(r))&&lt(t,n.slice(0,-1)),t}var hb=t=>{for(const e in t)if(rr(t[e]))return!0;return!1};function yh(t,e={}){const n=Array.isArray(t);if(it(t)||n)for(const r in t)Array.isArray(t[r])||it(t[r])&&!hb(t[r])?(e[r]=Array.isArray(t[r])?[]:{},yh(t[r],e[r])):Zt(t[r])||(e[r]=!0);return e}function fb(t,e,n){const r=Array.isArray(t);if(it(t)||r)for(const s in t)Array.isArray(t[s])||it(t[s])&&!hb(t[s])?ut(e)||Eg(n[s])?n[s]=Array.isArray(t[s])?yh(t[s],[]):{...yh(t[s])}:fb(t[s],Zt(e)?{}:e[s],n[s]):n[s]=!Us(t[s],e[s]);return n}var ml=(t,e)=>fb(t,e,yh(e));const r1={value:!1,isValid:!1},s1={value:!0,isValid:!0};var pb=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?s1:{value:t[0].value,isValid:!0}:s1:r1}return r1},mb=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ut(t)?t:e?t===""?NaN:t&&+t:n&&Rr(t)?new Date(t):r?r(t):t;const i1={isValid:!1,value:null};var gb=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,i1):i1;function o1(t){const e=t.ref;return Mv(e)?e.files:Lv(e)?gb(t.refs).value:db(e)?[...e.selectedOptions].map(({value:n})=>n):Yc(e)?pb(t.refs).value:mb(ut(e.value)?t.ref.value:e.value,t)}var JU=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&He(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},vh=t=>t instanceof RegExp,gl=t=>ut(t)?t:vh(t)?t.source:it(t)?vh(t.value)?t.value.source:t.value:t,a1=t=>({isOnSubmit:!t||t===nr.onSubmit,isOnBlur:t===nr.onBlur,isOnChange:t===nr.onChange,isOnAll:t===nr.all,isOnTouch:t===nr.onTouched});const l1="AsyncFunction";var ZU=t=>!!t&&!!t.validate&&!!(rr(t.validate)&&t.validate.constructor.name===l1||it(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===l1)),e9=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),c1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ql=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ql(a,e))break}else if(it(a)&&ql(a,e))break}}};function u1(t,e,n){const r=oe(t,n);if(r||Ef(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),a=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var t9=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return un(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||nr.all))},n9=(t,e,n)=>!t||!e||t===e||Hl(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),r9=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,s9=(t,e)=>!Ov(oe(t,e)).length&&lt(t,e),i9=(t,e,n)=>{const r=Hl(oe(t,n));return He(r,"root",e[n]),He(t,n,r),t},gd=t=>Rr(t);function d1(t,e,n="validate"){if(gd(t)||Array.isArray(t)&&t.every(gd)||Er(t)&&!t)return{type:n,message:gd(t)?t:"",ref:e}}var So=t=>it(t)&&!vh(t)?t:{value:t,message:""},h1=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:m,validate:T,name:w,valueAsNumber:E,mount:_}=t._f,v=oe(n,w);if(!_||e.has(w))return{};const x=a?a[0]:o,N=k=>{s&&x.reportValidity&&(x.setCustomValidity(Er(k)?"":k||""),x.reportValidity())},O={},L=Lv(o),C=Yc(o),I=L||C,b=(E||Mv(o))&&ut(o.value)&&ut(v)||gh(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,R=KU.bind(null,w,r,O),D=(k,P,q,le=Yr.maxLength,ie=Yr.minLength)=>{const ae=k?P:q;O[w]={type:k?le:ie,message:ae,ref:o,...R(k?le:ie,ae)}};if(i?!Array.isArray(v)||!v.length:c&&(!I&&(b||Zt(v))||Er(v)&&!v||C&&!pb(a).isValid||L&&!gb(a).isValid)){const{value:k,message:P}=gd(c)?{value:!!c,message:c}:So(c);if(k&&(O[w]={type:Yr.required,message:P,ref:x,...R(Yr.required,P)},!r))return N(P),O}if(!b&&(!Zt(h)||!Zt(p))){let k,P;const q=So(p),le=So(h);if(!Zt(v)&&!isNaN(v)){const ie=o.valueAsNumber||v&&+v;Zt(q.value)||(k=ie>q.value),Zt(le.value)||(P=ie<le.value)}else{const ie=o.valueAsDate||new Date(v),ae=ee=>new Date(new Date().toDateString()+" "+ee),U=o.type=="time",z=o.type=="week";Rr(q.value)&&v&&(k=U?ae(v)>ae(q.value):z?v>q.value:ie>new Date(q.value)),Rr(le.value)&&v&&(P=U?ae(v)<ae(le.value):z?v<le.value:ie<new Date(le.value))}if((k||P)&&(D(!!k,q.message,le.message,Yr.max,Yr.min),!r))return N(O[w].message),O}if((u||d)&&!b&&(Rr(v)||i&&Array.isArray(v))){const k=So(u),P=So(d),q=!Zt(k.value)&&v.length>+k.value,le=!Zt(P.value)&&v.length<+P.value;if((q||le)&&(D(q,k.message,P.message),!r))return N(O[w].message),O}if(m&&!b&&Rr(v)){const{value:k,message:P}=So(m);if(vh(k)&&!v.match(k)&&(O[w]={type:Yr.pattern,message:P,ref:o,...R(Yr.pattern,P)},!r))return N(P),O}if(T){if(rr(T)){const k=await T(v,n),P=d1(k,x);if(P&&(O[w]={...P,...R(Yr.validate,P.message)},!r))return N(P.message),O}else if(it(T)){let k={};for(const P in T){if(!un(k)&&!r)break;const q=d1(await T[P](v,n),x,P);q&&(k={...q,...R(P,q.message)},N(q.message),r&&(O[w]=k))}if(!un(k)&&(O[w]={ref:x,...k},!r))return O}}return N(!0),O};const o9={mode:nr.onSubmit,reValidateMode:nr.onChange,shouldFocusError:!0};function a9(t={}){let e={...o9,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:rr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=it(e.defaultValues)||it(e.values)?_t(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:_t(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:n1(),state:n1()},m=e.criteriaMode===nr.all,T=V=>F=>{clearTimeout(u),u=setTimeout(V,F)},w=async V=>{if(!e.disabled&&(d.isValid||h.isValid||V)){const F=e.resolver?un((await C()).errors):await b(r,!0);F!==n.isValid&&p.state.next({isValid:F})}},E=(V,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((V||Array.from(a.mount)).forEach($=>{$&&(F?He(n.validatingFields,$,F):lt(n.validatingFields,$))}),p.state.next({validatingFields:n.validatingFields,isValidating:!un(n.validatingFields)}))},_=(V,F=[],$,J,X=!0,Q=!0)=>{if(J&&$&&!e.disabled){if(o.action=!0,Q&&Array.isArray(oe(r,V))){const Y=$(oe(r,V),J.argA,J.argB);X&&He(r,V,Y)}if(Q&&Array.isArray(oe(n.errors,V))){const Y=$(oe(n.errors,V),J.argA,J.argB);X&&He(n.errors,V,Y),s9(n.errors,V)}if((d.touchedFields||h.touchedFields)&&Q&&Array.isArray(oe(n.touchedFields,V))){const Y=$(oe(n.touchedFields,V),J.argA,J.argB);X&&He(n.touchedFields,V,Y)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=ml(s,i)),p.state.next({name:V,isDirty:D(V,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else He(i,V,F)},v=(V,F)=>{He(n.errors,V,F),p.state.next({errors:n.errors})},x=V=>{n.errors=V,p.state.next({errors:n.errors,isValid:!1})},N=(V,F,$,J)=>{const X=oe(r,V);if(X){const Q=oe(i,V,ut($)?oe(s,V):$);ut(Q)||J&&J.defaultChecked||F?He(i,V,F?Q:o1(X._f)):q(V,Q),o.mount&&w()}},O=(V,F,$,J,X)=>{let Q=!1,Y=!1;const de={name:V};if(!e.disabled){if(!$||J){(d.isDirty||h.isDirty)&&(Y=n.isDirty,n.isDirty=de.isDirty=D(),Q=Y!==de.isDirty);const Ae=Us(oe(s,V),F);Y=!!oe(n.dirtyFields,V),Ae?lt(n.dirtyFields,V):He(n.dirtyFields,V,!0),de.dirtyFields=n.dirtyFields,Q=Q||(d.dirtyFields||h.dirtyFields)&&Y!==!Ae}if($){const Ae=oe(n.touchedFields,V);Ae||(He(n.touchedFields,V,$),de.touchedFields=n.touchedFields,Q=Q||(d.touchedFields||h.touchedFields)&&Ae!==$)}Q&&X&&p.state.next(de)}return Q?de:{}},L=(V,F,$,J)=>{const X=oe(n.errors,V),Q=(d.isValid||h.isValid)&&Er(F)&&n.isValid!==F;if(e.delayError&&$?(c=T(()=>v(V,$)),c(e.delayError)):(clearTimeout(u),c=null,$?He(n.errors,V,$):lt(n.errors,V)),($?!Us(X,$):X)||!un(J)||Q){const Y={...J,...Q&&Er(F)?{isValid:F}:{},errors:n.errors,name:V};n={...n,...Y},p.state.next(Y)}},C=async V=>{E(V,!0);const F=await e.resolver(i,e.context,JU(V||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(V),F},I=async V=>{const{errors:F}=await C(V);if(V)for(const $ of V){const J=oe(F,$);J?He(n.errors,$,J):lt(n.errors,$)}else n.errors=F;return F},b=async(V,F,$={valid:!0})=>{for(const J in V){const X=V[J];if(X){const{_f:Q,...Y}=X;if(Q){const de=a.array.has(Q.name),Ae=X._f&&ZU(X._f);Ae&&d.validatingFields&&E([J],!0);const Ct=await h1(X,a.disabled,i,m,e.shouldUseNativeValidation&&!F,de);if(Ae&&d.validatingFields&&E([J]),Ct[Q.name]&&($.valid=!1,F))break;!F&&(oe(Ct,Q.name)?de?i9(n.errors,Ct,Q.name):He(n.errors,Q.name,Ct[Q.name]):lt(n.errors,Q.name))}!un(Y)&&await b(Y,F,$)}}return $.valid},R=()=>{for(const V of a.unMount){const F=oe(r,V);F&&(F._f.refs?F._f.refs.every($=>!kp($)):!kp(F._f.ref))&&Ee(V)}a.unMount=new Set},D=(V,F)=>!e.disabled&&(V&&F&&He(i,V,F),!Us(ee(),s)),k=(V,F,$)=>GU(V,a,{...o.mount?i:ut(F)?s:Rr(V)?{[V]:F}:F},$,F),P=V=>Ov(oe(o.mount?i:s,V,e.shouldUnregister?oe(s,V,[]):[])),q=(V,F,$={})=>{const J=oe(r,V);let X=F;if(J){const Q=J._f;Q&&(!Q.disabled&&He(i,V,mb(F,Q)),X=gh(Q.ref)&&Zt(F)?"":F,db(Q.ref)?[...Q.ref.options].forEach(Y=>Y.selected=X.includes(Y.value)):Q.refs?Yc(Q.ref)?Q.refs.forEach(Y=>{(!Y.defaultChecked||!Y.disabled)&&(Array.isArray(X)?Y.checked=!!X.find(de=>de===Y.value):Y.checked=X===Y.value||!!X)}):Q.refs.forEach(Y=>Y.checked=Y.value===X):Mv(Q.ref)?Q.ref.value="":(Q.ref.value=X,Q.ref.type||p.state.next({name:V,values:_t(i)})))}($.shouldDirty||$.shouldTouch)&&O(V,X,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&z(V)},le=(V,F,$)=>{for(const J in F){if(!F.hasOwnProperty(J))return;const X=F[J],Q=V+"."+J,Y=oe(r,Q);(a.array.has(V)||it(X)||Y&&!Y._f)&&!$i(X)?le(Q,X,$):q(Q,X,$)}},ie=(V,F,$={})=>{const J=oe(r,V),X=a.array.has(V),Q=_t(F);He(i,V,Q),X?(p.array.next({name:V,values:_t(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&$.shouldDirty&&p.state.next({name:V,dirtyFields:ml(s,i),isDirty:D(V,Q)})):J&&!J._f&&!Zt(Q)?le(V,Q,$):q(V,Q,$),c1(V,a)&&p.state.next({...n,name:V}),p.state.next({name:o.mount?V:void 0,values:_t(i)})},ae=async V=>{o.mount=!0;const F=V.target;let $=F.name,J=!0;const X=oe(r,$),Q=Ae=>{J=Number.isNaN(Ae)||$i(Ae)&&isNaN(Ae.getTime())||Us(Ae,oe(i,$,Ae))},Y=a1(e.mode),de=a1(e.reValidateMode);if(X){let Ae,Ct;const Nn=F.type?o1(X._f):UU(V),Dn=V.type===t1.BLUR||V.type===t1.FOCUS_OUT,mr=!e9(X._f)&&!e.resolver&&!oe(n.errors,$)&&!X._f.deps||r9(Dn,oe(n.touchedFields,$),n.isSubmitted,de,Y),gr=c1($,a,Dn);He(i,$,Nn),Dn?(X._f.onBlur&&X._f.onBlur(V),c&&c(0)):X._f.onChange&&X._f.onChange(V);const _n=O($,Nn,Dn),_s=!un(_n)||gr;if(!Dn&&p.state.next({name:$,type:V.type,values:_t(i)}),mr)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Dn&&w():Dn||w()),_s&&p.state.next({name:$,...gr?{}:_n});if(!Dn&&gr&&p.state.next({...n}),e.resolver){const{errors:Hn}=await C([$]);if(Q(Nn),J){const Ka=u1(n.errors,r,$),Es=u1(Hn,r,Ka.name||$);Ae=Es.error,$=Es.name,Ct=un(Hn)}}else E([$],!0),Ae=(await h1(X,a.disabled,i,m,e.shouldUseNativeValidation))[$],E([$]),Q(Nn),J&&(Ae?Ct=!1:(d.isValid||h.isValid)&&(Ct=await b(r,!0)));J&&(X._f.deps&&z(X._f.deps),L($,Ct,Ae,_n))}},U=(V,F)=>{if(oe(n.errors,F)&&V.focus)return V.focus(),1},z=async(V,F={})=>{let $,J;const X=Hl(V);if(e.resolver){const Q=await I(ut(V)?V:X);$=un(Q),J=V?!X.some(Y=>oe(Q,Y)):$}else V?(J=(await Promise.all(X.map(async Q=>{const Y=oe(r,Q);return await b(Y&&Y._f?{[Q]:Y}:Y)}))).every(Boolean),!(!J&&!n.isValid)&&w()):J=$=await b(r);return p.state.next({...!Rr(V)||(d.isValid||h.isValid)&&$!==n.isValid?{}:{name:V},...e.resolver||!V?{isValid:$}:{},errors:n.errors}),F.shouldFocus&&!J&&ql(r,U,V?X:a.mount),J},ee=V=>{const F={...o.mount?i:s};return ut(V)?F:Rr(V)?oe(F,V):V.map($=>oe(F,$))},pe=(V,F)=>({invalid:!!oe((F||n).errors,V),isDirty:!!oe((F||n).dirtyFields,V),error:oe((F||n).errors,V),isValidating:!!oe(n.validatingFields,V),isTouched:!!oe((F||n).touchedFields,V)}),se=V=>{V&&Hl(V).forEach(F=>lt(n.errors,F)),p.state.next({errors:V?n.errors:{}})},ce=(V,F,$)=>{const J=(oe(r,V,{_f:{}})._f||{}).ref,X=oe(n.errors,V)||{},{ref:Q,message:Y,type:de,...Ae}=X;He(n.errors,V,{...Ae,...F,ref:J}),p.state.next({name:V,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&J&&J.focus&&J.focus()},_e=(V,F)=>rr(V)?p.state.subscribe({next:$=>"values"in $&&V(k(void 0,F),$)}):k(V,F,!0),De=V=>p.state.subscribe({next:F=>{n9(V.name,F.name,V.exact)&&t9(F,V.formState||d,bi,V.reRenderRoot)&&V.callback({values:{...i},...n,...F,defaultValues:s})}}).unsubscribe,at=V=>(o.mount=!0,h={...h,...V.formState},De({...V,formState:h})),Ee=(V,F={})=>{for(const $ of V?Hl(V):a.mount)a.mount.delete($),a.array.delete($),F.keepValue||(lt(r,$),lt(i,$)),!F.keepError&&lt(n.errors,$),!F.keepDirty&&lt(n.dirtyFields,$),!F.keepTouched&&lt(n.touchedFields,$),!F.keepIsValidating&&lt(n.validatingFields,$),!e.shouldUnregister&&!F.keepDefaultValue&&lt(s,$);p.state.next({values:_t(i)}),p.state.next({...n,...F.keepDirty?{isDirty:D()}:{}}),!F.keepIsValid&&w()},zn=({disabled:V,name:F})=>{(Er(V)&&o.mount||V||a.disabled.has(F))&&(V?a.disabled.add(F):a.disabled.delete(F))},on=(V,F={})=>{let $=oe(r,V);const J=Er(F.disabled)||Er(e.disabled);return He(r,V,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:V}},name:V,mount:!0,...F}}),a.mount.add(V),$?zn({disabled:Er(F.disabled)?F.disabled:e.disabled,name:V}):N(V,!0,F.value),{...J?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:gl(F.min),max:gl(F.max),minLength:gl(F.minLength),maxLength:gl(F.maxLength),pattern:gl(F.pattern)}:{},name:V,onChange:ae,onBlur:ae,ref:X=>{if(X){on(V,F),$=oe(r,V);const Q=ut(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,Y=QU(Q),de=$._f.refs||[];if(Y?de.find(Ae=>Ae===Q):Q===$._f.ref)return;He(r,V,{_f:{...$._f,...Y?{refs:[...de.filter(kp),Q,...Array.isArray(oe(s,V))?[{}]:[]],ref:{type:Q.type,name:V}}:{ref:Q}}}),N(V,!1,void 0,Q)}else $=oe(r,V,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(BU(a.array,V)&&o.action)&&a.unMount.add(V)}}},Mt=()=>e.shouldFocusError&&ql(r,U,a.mount),Yt=V=>{Er(V)&&(p.state.next({disabled:V}),ql(r,(F,$)=>{const J=oe(r,$);J&&(F.disabled=J._f.disabled||V,Array.isArray(J._f.refs)&&J._f.refs.forEach(X=>{X.disabled=J._f.disabled||V}))},0,!1))},wn=(V,F)=>async $=>{let J;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let X=_t(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:Y}=await C();n.errors=Q,X=_t(Y)}else await b(r);if(a.disabled.size)for(const Q of a.disabled)lt(X,Q);if(lt(n.errors,"root"),un(n.errors)){p.state.next({errors:{}});try{await V(X,$)}catch(Q){J=Q}}else F&&await F({...n.errors},$),Mt(),setTimeout(Mt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:un(n.errors)&&!J,submitCount:n.submitCount+1,errors:n.errors}),J)throw J},an=(V,F={})=>{oe(r,V)&&(ut(F.defaultValue)?ie(V,_t(oe(s,V))):(ie(V,F.defaultValue),He(s,V,_t(F.defaultValue))),F.keepTouched||lt(n.touchedFields,V),F.keepDirty||(lt(n.dirtyFields,V),n.isDirty=F.defaultValue?D(V,_t(oe(s,V))):D()),F.keepError||(lt(n.errors,V),d.isValid&&w()),p.state.next({...n}))},Wn=(V,F={})=>{const $=V?_t(V):s,J=_t($),X=un(V),Q=X?s:J;if(F.keepDefaultValues||(s=$),!F.keepValues){if(F.keepDirtyValues){const Y=new Set([...a.mount,...Object.keys(ml(s,i))]);for(const de of Array.from(Y))oe(n.dirtyFields,de)?He(Q,de,oe(i,de)):ie(de,oe(Q,de))}else{if(Dv&&ut(V))for(const Y of a.mount){const de=oe(r,Y);if(de&&de._f){const Ae=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(gh(Ae)){const Ct=Ae.closest("form");if(Ct){Ct.reset();break}}}}if(F.keepFieldsRef)for(const Y of a.mount)ie(Y,oe(Q,Y));else r={}}i=e.shouldUnregister?F.keepDefaultValues?_t(s):{}:_t(Q),p.array.next({values:{...Q}}),p.state.next({values:{...Q}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:X?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Us(V,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:X?{}:F.keepDirtyValues?F.keepDefaultValues&&i?ml(s,i):n.dirtyFields:F.keepDefaultValues&&V?ml(s,V):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},pr=(V,F)=>Wn(rr(V)?V(i):V,F),Hr=(V,F={})=>{const $=oe(r,V),J=$&&$._f;if(J){const X=J.refs?J.refs[0]:J.ref;X.focus&&(X.focus(),F.shouldSelect&&rr(X.select)&&X.select())}},bi=V=>{n={...n,...V}},kn={control:{register:on,unregister:Ee,getFieldState:pe,handleSubmit:wn,setError:ce,_subscribe:De,_runSchema:C,_focusError:Mt,_getWatch:k,_getDirty:D,_setValid:w,_setFieldArray:_,_setDisabledField:zn,_setErrors:x,_getFieldArray:P,_reset:Wn,_resetDefaultValues:()=>rr(e.defaultValues)&&e.defaultValues().then(V=>{pr(V,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Yt,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(V){o=V},get _defaultValues(){return s},get _names(){return a},set _names(V){a=V},get _formState(){return n},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:at,trigger:z,register:on,handleSubmit:wn,watch:_e,setValue:ie,getValues:ee,reset:pr,resetField:an,clearErrors:se,unregister:Ee,setError:ce,setFocus:Hr,getFieldState:pe};return{...kn,formControl:kn}}function yb(t={}){const e=G.useRef(void 0),n=G.useRef(void 0),[r,s]=G.useState({isDirty:!1,isValidating:!1,isLoading:rr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:rr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!rr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=a9(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,qU(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),G.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),G.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),G.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),G.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),G.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),G.useEffect(()=>{t.values&&!Us(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),G.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=HU(r,i),e.current}const Fv=S.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Fv.displayName="Textarea";const l9=({onSubmit:t,onCancel:e})=>{const{register:n,handleSubmit:r,formState:{errors:s},reset:i}=yb(),o=a=>{t(a),i()};return g.jsxs(br,{className:"max-w-2xl mx-auto shadow-card",children:[g.jsx(Pa,{className:"bg-gradient-primary text-primary-foreground",children:g.jsxs(Ra,{className:"flex items-center space-x-2",children:[g.jsx(XN,{className:"h-5 w-5"}),g.jsx("span",{children:"Novo Paciente"})]})}),g.jsx(Pr,{className:"p-6",children:g.jsxs("form",{onSubmit:r(o),className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"name",children:"Nome Completo *"}),g.jsx(Et,{id:"name",...n("name",{required:"Nome é obrigatório"}),placeholder:"Digite o nome completo",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.name&&g.jsx("p",{className:"text-sm text-destructive",children:s.name.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"age",children:"Idade *"}),g.jsx(Et,{id:"age",type:"number",...n("age",{required:"Idade é obrigatória",min:{value:1,message:"Idade deve ser maior que 0"},max:{value:120,message:"Idade deve ser menor que 120"}}),placeholder:"Ex: 35",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.age&&g.jsx("p",{className:"text-sm text-destructive",children:s.age.message})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"phone",children:"Telefone *"}),g.jsx(Et,{id:"phone",...n("phone",{required:"Telefone é obrigatório"}),placeholder:"(88) 99999-9999",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.phone&&g.jsx("p",{className:"text-sm text-destructive",children:s.phone.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"email",children:"Email"}),g.jsx(Et,{id:"email",type:"email",...n("email"),placeholder:"email@exemplo.com",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"sex",children:"Sexo *"}),g.jsxs("select",{id:"sex",...n("sex",{required:"Sexo é obrigatório"}),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 focus:ring-primary/20",children:[g.jsx("option",{value:"",disabled:!0,selected:!0,children:"Selecione o sexo"}),g.jsx("option",{value:"masculino",children:"Masculino"}),g.jsx("option",{value:"feminino",children:"Feminino"})]}),s.sex&&g.jsx("p",{className:"text-sm text-destructive",children:s.sex.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"email",children:"Data De Natascimento"}),g.jsx(Et,{id:"dateOfBirth",type:"date",...n("dateOfBirth"),placeholder:"99/99/9999",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"cns",children:"CNS *"}),g.jsx(Et,{id:"cns",...n("cns",{required:"CNS é obrigatório"}),placeholder:"Carteira Nacional de Saúde",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.cns&&g.jsx("p",{className:"text-sm text-destructive",children:s.cns.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"cpf",children:"CPF *"}),g.jsx(Et,{id:"cpf",type:"cpf",...n("cpf",{required:"CPF é obrigatório"}),placeholder:"999.999.999-99",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.cpf&&g.jsx("p",{className:"text-sm text-destructive",children:s.cns.message})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"acs",children:"ACS *"}),g.jsx(Et,{id:"acs",...n("acs",{required:"ACS é obrigatório"}),placeholder:"Agente Comunitário de Saúde",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.acs&&g.jsx("p",{className:"text-sm text-destructive",children:s.acs.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"sourceUnit",children:"Unidade de Origem *"}),g.jsx(Et,{id:"sourceUnit",type:"sourceUnit",...n("sourceUnit",{required:"Unidade de Origem é obrigatório"}),placeholder:"Unidade de Origem",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.sourceUnit&&g.jsx("p",{className:"text-sm text-destructive",children:s.sourceUnit.message})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"weight",children:"Peso *"}),g.jsx(Et,{id:"weight",...n("weight",{required:"Peso é obrigatório"}),placeholder:"Peso",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.weight&&g.jsx("p",{className:"text-sm text-destructive",children:s.weight.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"height",children:"Altura *"}),g.jsx(Et,{id:"height",type:"height",...n("height",{required:"Altura é obrigatório"}),placeholder:"Altura",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.height&&g.jsx("p",{className:"text-sm text-destructive",children:s.height.message})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"address",children:"Endereço *"}),g.jsx(Et,{id:"address",...n("address",{required:"Endereço é obrigatório"}),placeholder:"Endereço",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.address&&g.jsx("p",{className:"text-sm text-destructive",children:s.address.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"referencePoint",children:"Ponto de Referência *"}),g.jsx(Et,{id:"referencePoint",type:"referencePoint",...n("referencePoint",{required:"Ponto de Referência é obrigatório"}),placeholder:"Ponto de Referência",className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.referencePoint&&g.jsx("p",{className:"text-sm text-destructive",children:s.referencePoint.message})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"service",children:"Atendimento *"}),g.jsxs("select",{id:"service",...n("service",{required:"Atendimento é obrigatório"}),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 focus:ring-primary/20",children:[g.jsx("option",{value:"service",disabled:!0,selected:!0,children:"Selecione o atendimento"}),g.jsx("option",{value:"ambulatorial",children:"Ambulatorial"}),g.jsx("option",{value:"domiciliar",children:"Domiciliar"})]}),s.service&&g.jsx("p",{className:"text-sm text-destructive",children:s.service.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"riskRating",children:"Classificação de risco *"}),g.jsxs("select",{id:"riskRating",...n("riskRating",{required:"Classificação de risco é obrigatório"}),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 focus:ring-primary/20",children:[g.jsx("option",{value:"service",disabled:!0,selected:!0,children:"Selecione a classificação"}),g.jsx("option",{value:"eletivo",children:"Eletivo"}),g.jsx("option",{value:"prioritário",children:"Prioritário"}),g.jsx("option",{value:"urgente",children:"Urgente"})]}),s.riskRating&&g.jsx("p",{className:"text-sm text-destructive",children:s.riskRating.message})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"diagnosis",children:"Diagnóstico/Condição *"}),g.jsx(Fv,{id:"diagnosis",...n("diagnosis",{required:"Diagnóstico é obrigatório"}),placeholder:"Descreva o diagnóstico ou condição do paciente...",rows:3,className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),s.diagnosis&&g.jsx("p",{className:"text-sm text-destructive",children:s.diagnosis.message})]}),g.jsxs("div",{className:"flex space-x-3 pt-4",children:[g.jsx(St,{type:"submit",className:"flex-1 bg-gradient-primary hover:opacity-90",children:"Cadastrar Paciente"}),g.jsx(St,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancelar"})]})]})})]})},vb=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),{user:s}=Qc();return S.useEffect(()=>{if(!s){e([]),r(!1);return}const u=Wl(js,"patients"),d=vg(u,wg("userId","==",s.uid),tb("createdAt","desc")),h=sb(d,p=>{const m=p.docs.map(T=>{var w,E;return{id:T.id,...T.data(),createdAt:((w=T.data().createdAt)==null?void 0:w.toDate())||new Date,updatedAt:((E=T.data().updatedAt)==null?void 0:E.toDate())||new Date}});console.log(m),e(m),r(!1)});return()=>h()},[s]),{patients:t,loading:n,addPatient:async u=>{if(!s)throw new Error("Usuário não autenticado");const d={...u,userId:s.uid,createdAt:new Date,updatedAt:new Date};return{id:(await rb(Wl(js,"patients"),d)).id,...d}},updatePatient:async(u,d)=>{if(!s)throw new Error("Usuário não autenticado");const h=fh(js,"patients",u);await bU(h,{...d,updatedAt:new Date})},deletePatient:async u=>{if(!s)throw new Error("Usuário não autenticado");await _g(fh(js,"patients",u));const d=Wl(js,"evolutions"),h=vg(d,wg("patientId","==",u)),m=(await AU(h)).docs.map(T=>_g(T.ref));await Promise.all(m)},getPatientById:u=>t.find(d=>d.id===u)}};var Np="focusScope.autoFocusOnMount",Dp="focusScope.autoFocusOnUnmount",f1={bubbles:!1,cancelable:!0},c9="FocusScope",wb=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=S.useState(null),u=$r(s),d=$r(i),h=S.useRef(null),p=nn(e,w=>c(w)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let w=function(x){if(m.paused||!a)return;const N=x.target;a.contains(N)?h.current=N:Rs(h.current,{select:!0})},E=function(x){if(m.paused||!a)return;const N=x.relatedTarget;N!==null&&(a.contains(N)||Rs(h.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const O of x)O.removedNodes.length>0&&Rs(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),v.disconnect()}}},[r,a,m.paused]),S.useEffect(()=>{if(a){m1.add(m);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(Np,f1);a.addEventListener(Np,u),a.dispatchEvent(_),_.defaultPrevented||(u9(m9(_b(a)),{select:!0}),document.activeElement===w&&Rs(a))}return()=>{a.removeEventListener(Np,u),setTimeout(()=>{const _=new CustomEvent(Dp,f1);a.addEventListener(Dp,d),a.dispatchEvent(_),_.defaultPrevented||Rs(w??document.body,{select:!0}),a.removeEventListener(Dp,d),m1.remove(m)},0)}}},[a,u,d,m]);const T=S.useCallback(w=>{if(!n&&!r||m.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(E&&_){const v=w.currentTarget,[x,N]=d9(v);x&&N?!w.shiftKey&&_===N?(w.preventDefault(),n&&Rs(x,{select:!0})):w.shiftKey&&_===x&&(w.preventDefault(),n&&Rs(N,{select:!0})):_===v&&w.preventDefault()}},[n,r,m.paused]);return g.jsx(ot.div,{tabIndex:-1,...o,ref:p,onKeyDown:T})});wb.displayName=c9;function u9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Rs(r,{select:e}),document.activeElement!==n)return}function d9(t){const e=_b(t),n=p1(e,t),r=p1(e.reverse(),t);return[n,r]}function _b(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function p1(t,e){for(const n of t)if(!h9(n,{upTo:e}))return n}function h9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function f9(t){return t instanceof HTMLInputElement&&"select"in t}function Rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&f9(t)&&e&&t.select()}}var m1=p9();function p9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=g1(t,e),t.unshift(e)},remove(e){var n;t=g1(t,e),(n=t[0])==null||n.resume()}}}function g1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function m9(t){return t.filter(e=>e.tagName!=="A")}var Op=0;function g9(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??y1()),document.body.insertAdjacentElement("beforeend",t[1]??y1()),Op++,()=>{Op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Op--}},[])}function y1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cr=function(){return Cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cr.apply(this,arguments)};function Eb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function y9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var yd="right-scroll-bar-position",vd="width-before-scroll-bar",v9="with-scroll-bars-hidden",w9="--removed-body-scroll-bar-size";function Vp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _9(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var E9=typeof window<"u"?S.useLayoutEffect:S.useEffect,v1=new WeakMap;function x9(t,e){var n=_9(null,function(r){return t.forEach(function(s){return Vp(s,r)})});return E9(function(){var r=v1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Vp(a,null)}),i.forEach(function(a){s.has(a)||Vp(a,o)})}v1.set(n,t)},[t]),n}function T9(t){return t}function S9(t,e){e===void 0&&(e=T9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function I9(t){t===void 0&&(t={});var e=S9(null);return e.options=Cr({async:!0,ssr:!1},t),e}var xb=function(t){var e=t.sideCar,n=Eb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Cr({},n))};xb.isSideCarExport=!0;function C9(t,e){return t.useMedium(e),xb}var Tb=I9(),Mp=function(){},xf=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Mp,onWheelCapture:Mp,onTouchMoveCapture:Mp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,T=t.noIsolation,w=t.inert,E=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,x=t.gapMode,N=Eb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,L=x9([n,e]),C=Cr(Cr({},N),s);return S.createElement(S.Fragment,null,d&&S.createElement(O,{sideCar:Tb,removeScrollBar:u,shards:h,noRelative:m,noIsolation:T,inert:w,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:x}),o?S.cloneElement(S.Children.only(a),Cr(Cr({},C),{ref:L})):S.createElement(v,Cr({},C,{className:c,ref:L}),a))});xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xf.classNames={fullWidth:vd,zeroRight:yd};var A9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A9();return e&&t.setAttribute("nonce",e),t}function P9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function R9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var k9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=b9())&&(P9(e,n),R9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},N9=function(){var t=k9();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Sb=function(){var t=N9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},D9={left:0,top:0,right:0,gap:0},Lp=function(t){return parseInt(t||"",10)||0},O9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Lp(n),Lp(r),Lp(s)]},V9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return D9;var e=O9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},M9=Sb(),ra="data-scroll-locked",L9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(v9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yd," .").concat(yd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ra,`] {
    `).concat(w9,": ").concat(a,`px;
  }
`)},w1=function(){var t=parseInt(document.body.getAttribute(ra)||"0",10);return isFinite(t)?t:0},F9=function(){S.useEffect(function(){return document.body.setAttribute(ra,(w1()+1).toString()),function(){var t=w1()-1;t<=0?document.body.removeAttribute(ra):document.body.setAttribute(ra,t.toString())}},[])},j9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;F9();var i=S.useMemo(function(){return V9(s)},[s]);return S.createElement(M9,{styles:L9(i,!e,s,n?"":"!important")})},xg=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return xg=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{xg=!1}var Io=xg?{passive:!1}:!1,U9=function(t){return t.tagName==="TEXTAREA"},Ib=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!U9(t)&&n[e]==="visible")},$9=function(t){return Ib(t,"overflowY")},B9=function(t){return Ib(t,"overflowX")},_1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Cb(t,r);if(s){var i=Ab(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},z9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},W9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Cb=function(t,e){return t==="v"?$9(e):B9(e)},Ab=function(t,e){return t==="v"?z9(e):W9(e)},H9=function(t,e){return t==="h"&&e==="rtl"?-1:1},q9=function(t,e,n,r,s){var i=H9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,d=o>0,h=0,p=0;do{if(!a)break;var m=Ab(t,a),T=m[0],w=m[1],E=m[2],_=w-E-i*T;(T||_)&&Cb(t,a)&&(h+=_,p+=T);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},$u=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},E1=function(t){return[t.deltaX,t.deltaY]},x1=function(t){return t&&"current"in t?t.current:t},G9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},K9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Q9=0,Co=[];function Y9(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(Q9++)[0],i=S.useState(Sb)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=y9([t.lockRef.current],(t.shards||[]).map(x1),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=$u(w),v=n.current,x="deltaX"in w?w.deltaX:v[0]-_[0],N="deltaY"in w?w.deltaY:v[1]-_[1],O,L=w.target,C=Math.abs(x)>Math.abs(N)?"h":"v";if("touches"in w&&C==="h"&&L.type==="range")return!1;var I=_1(C,L);if(!I)return!0;if(I?O=C:(O=C==="v"?"h":"v",I=_1(C,L)),!I)return!1;if(!r.current&&"changedTouches"in w&&(x||N)&&(r.current=O),!O)return!0;var b=r.current||O;return q9(b,E,w,b==="h"?x:N,!0)},[]),c=S.useCallback(function(w){var E=w;if(!(!Co.length||Co[Co.length-1]!==i)){var _="deltaY"in E?E1(E):$u(E),v=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&G9(O.delta,_)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(x1).filter(Boolean).filter(function(O){return O.contains(E.target)}),N=x.length>0?a(E,x[0]):!o.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),u=S.useCallback(function(w,E,_,v){var x={name:w,delta:E,target:_,should:v,shadowParent:X9(_)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(N){return N!==x})},1)},[]),d=S.useCallback(function(w){n.current=$u(w),r.current=void 0},[]),h=S.useCallback(function(w){u(w.type,E1(w),w.target,a(w,t.lockRef.current))},[]),p=S.useCallback(function(w){u(w.type,$u(w),w.target,a(w,t.lockRef.current))},[]);S.useEffect(function(){return Co.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Io),document.addEventListener("touchmove",c,Io),document.addEventListener("touchstart",d,Io),function(){Co=Co.filter(function(w){return w!==i}),document.removeEventListener("wheel",c,Io),document.removeEventListener("touchmove",c,Io),document.removeEventListener("touchstart",d,Io)}},[]);var m=t.removeScrollBar,T=t.inert;return S.createElement(S.Fragment,null,T?S.createElement(i,{styles:K9(s)}):null,m?S.createElement(j9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function X9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const J9=C9(Tb,Y9);var bb=S.forwardRef(function(t,e){return S.createElement(xf,Cr({},t,{ref:e,sideCar:J9}))});bb.classNames=xf.classNames;var Z9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ao=new WeakMap,Bu=new WeakMap,zu={},Fp=0,Pb=function(t){return t&&(t.host||Pb(t.parentNode))},e5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Pb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},t5=function(t,e,n,r){var s=e5(e,Array.isArray(t)?t:[t]);zu[n]||(zu[n]=new WeakMap);var i=zu[n],o=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),T=m!==null&&m!=="false",w=(Ao.get(p)||0)+1,E=(i.get(p)||0)+1;Ao.set(p,w),i.set(p,E),o.push(p),w===1&&T&&Bu.set(p,!0),E===1&&p.setAttribute(n,"true"),T||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),a.clear(),Fp++,function(){o.forEach(function(h){var p=Ao.get(h)-1,m=i.get(h)-1;Ao.set(h,p),i.set(h,m),p||(Bu.has(h)||h.removeAttribute(r),Bu.delete(h)),m||h.removeAttribute(n)}),Fp--,Fp||(Ao=new WeakMap,Ao=new WeakMap,Bu=new WeakMap,zu={})}},n5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Z9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),t5(r,s,n,"aria-hidden")):function(){return null}},Tf="Dialog",[Rb,O5]=Vc(Tf),[r5,fr]=Rb(Tf),kb=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=S.useRef(null),c=S.useRef(null),[u,d]=JT({prop:r,defaultProp:s??!1,onChange:i,caller:Tf});return g.jsx(r5,{scope:e,triggerRef:a,contentRef:c,contentId:fp(),titleId:fp(),descriptionId:fp(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};kb.displayName=Tf;var Nb="DialogTrigger",s5=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(Nb,n),i=nn(e,s.triggerRef);return g.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$v(s.open),...r,ref:i,onClick:Ge(t.onClick,s.onOpenToggle)})});s5.displayName=Nb;var jv="DialogPortal",[i5,Db]=Rb(jv,{forceMount:void 0}),Ob=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=fr(jv,e);return g.jsx(i5,{scope:e,forceMount:n,children:S.Children.map(r,o=>g.jsx(Oa,{present:n||i.open,children:g.jsx(wy,{asChild:!0,container:s,children:o})}))})};Ob.displayName=jv;var wh="DialogOverlay",Vb=S.forwardRef((t,e)=>{const n=Db(wh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(wh,t.__scopeDialog);return i.modal?g.jsx(Oa,{present:r||i.open,children:g.jsx(a5,{...s,ref:e})}):null});Vb.displayName=wh;var o5=uc("DialogOverlay.RemoveScroll"),a5=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(wh,n);return g.jsx(bb,{as:o5,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx(ot.div,{"data-state":$v(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ho="DialogContent",Mb=S.forwardRef((t,e)=>{const n=Db(ho,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(ho,t.__scopeDialog);return g.jsx(Oa,{present:r||i.open,children:i.modal?g.jsx(l5,{...s,ref:e}):g.jsx(c5,{...s,ref:e})})});Mb.displayName=ho;var l5=S.forwardRef((t,e)=>{const n=fr(ho,t.__scopeDialog),r=S.useRef(null),s=nn(e,n.contentRef,r);return S.useEffect(()=>{const i=r.current;if(i)return n5(i)},[]),g.jsx(Lb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ge(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ge(t.onFocusOutside,i=>i.preventDefault())})}),c5=S.forwardRef((t,e)=>{const n=fr(ho,t.__scopeDialog),r=S.useRef(!1),s=S.useRef(!1);return g.jsx(Lb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Lb=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=fr(ho,n),c=S.useRef(null),u=nn(e,c);return g9(),g.jsxs(g.Fragment,{children:[g.jsx(wb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:g.jsx(Fh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$v(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(u5,{titleId:a.titleId}),g.jsx(h5,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Uv="DialogTitle",Fb=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(Uv,n);return g.jsx(ot.h2,{id:s.titleId,...r,ref:e})});Fb.displayName=Uv;var jb="DialogDescription",Ub=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(jb,n);return g.jsx(ot.p,{id:s.descriptionId,...r,ref:e})});Ub.displayName=jb;var $b="DialogClose",Bb=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr($b,n);return g.jsx(ot.button,{type:"button",...r,ref:e,onClick:Ge(t.onClick,()=>s.onOpenChange(!1))})});Bb.displayName=$b;function $v(t){return t?"open":"closed"}var zb="DialogTitleWarning",[V5,Wb]=Xk(zb,{contentName:ho,titleName:Uv,docsSlug:"dialog"}),u5=({titleId:t})=>{const e=Wb(zb),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},d5="DialogDescriptionWarning",h5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wb(d5).contentName}}.`;return S.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},f5=kb,p5=Ob,Hb=Vb,qb=Mb,Gb=Fb,Kb=Ub,m5=Bb;const Tg=f5,g5=p5,Qb=S.forwardRef(({className:t,...e},n)=>g.jsx(Hb,{ref:n,className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Qb.displayName=Hb.displayName;const _h=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(g5,{children:[g.jsx(Qb,{}),g.jsxs(qb,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,g.jsxs(m5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(AS,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_h.displayName=qb.displayName;const Bv=({className:t,...e})=>g.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Bv.displayName="DialogHeader";const zv=S.forwardRef(({className:t,...e},n)=>g.jsx(Gb,{ref:n,className:Je("text-lg font-semibold leading-none tracking-tight",t),...e}));zv.displayName=Gb.displayName;const Yb=S.forwardRef(({className:t,...e},n)=>g.jsx(Kb,{ref:n,className:Je("text-sm text-muted-foreground",t),...e}));Yb.displayName=Kb.displayName;const y5=()=>{const{patients:t,loading:e,addPatient:n,deletePatient:r}=vb(),{evolutions:s}=Nv(),{toast:i}=Lh(),[o,a]=S.useState(!1),[c,u]=S.useState(""),[d,h]=S.useState(null),p=t.filter(O=>O.name.toLowerCase().includes(c.toLowerCase())||O.diagnosis.toLowerCase().includes(c.toLowerCase())),m=O=>{n(O),a(!1),i({title:"Paciente cadastrado",description:`${O.name} foi adicionado com sucesso!`})},T=O=>{r(O.id),h(null),i({title:"Paciente removido",description:`${O.name} foi removido do sistema.`})},w=O=>{window.location.href=`/patient/${O.id}`},E=t.length,_=s.length,v=new Date().getMonth(),x=new Date().getFullYear(),N=s.filter(O=>O.date.getMonth()===v&&O.date.getFullYear()===x).length;return e?g.jsx(mh,{children:g.jsx("div",{className:"flex items-center justify-center py-12",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),g.jsx("p",{className:"mt-4 text-muted-foreground",children:"Carregando..."})]})})}):g.jsx(mh,{children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(br,{className:"bg-gradient-card shadow-card",children:g.jsx(Pr,{className:"p-6",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Pacientes"}),g.jsx("p",{className:"text-3xl font-bold text-primary",children:E})]}),g.jsx("div",{className:"bg-primary/10 rounded-full p-3",children:g.jsx(G_,{className:"h-6 w-6 text-primary"})})]})})}),g.jsx(br,{className:"bg-gradient-card shadow-card",children:g.jsx(Pr,{className:"p-6",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Evoluções Este Mês"}),g.jsx("p",{className:"text-3xl font-bold text-accent",children:N})]}),g.jsx("div",{className:"bg-accent/10 rounded-full p-3",children:g.jsx(Ty,{className:"h-6 w-6 text-accent"})})]})})}),g.jsx(br,{className:"bg-gradient-card shadow-card",children:g.jsx(Pr,{className:"p-6",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Evoluções"}),g.jsx("p",{className:"text-3xl font-bold text-primary-glow",children:_})]}),g.jsx("div",{className:"bg-primary-glow/10 rounded-full p-3",children:g.jsx(YN,{className:"h-6 w-6 text-primary-glow"})})]})})})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[g.jsxs("div",{className:"relative flex-1 max-w-md",children:[g.jsx(QN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),g.jsx(Et,{placeholder:"Buscar pacientes...",value:c,onChange:O=>u(O.target.value),className:"pl-10"})]}),g.jsxs(St,{onClick:()=>a(!0),className:"bg-gradient-primary hover:opacity-90 flex items-center space-x-2",children:[g.jsx(Ll,{className:"h-4 w-4"}),g.jsx("span",{children:"Novo Paciente"})]})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-foreground mb-6",children:["Pacientes ",c&&`(${p.length} encontrado${p.length!==1?"s":""})`]}),p.length===0?g.jsx(br,{className:"shadow-card",children:g.jsxs(Pr,{className:"p-12 text-center",children:[g.jsx(G_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:c?"Nenhum paciente encontrado":"Nenhum paciente cadastrado"}),g.jsx("p",{className:"text-muted-foreground mb-6",children:c?"Tente ajustar sua busca ou cadastre um novo paciente.":"Comece cadastrando seu primeiro paciente para organizar os atendimentos."}),!c&&g.jsxs(St,{onClick:()=>a(!0),className:"bg-gradient-primary hover:opacity-90",children:[g.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Paciente"]})]})}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(O=>g.jsx(jU,{patient:O,onView:w,onDelete:h},O.id))})]}),g.jsx(Tg,{open:o,onOpenChange:a,children:g.jsx(_h,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:g.jsx(l9,{onSubmit:m,onCancel:()=>a(!1)})})}),g.jsx(Tg,{open:!!d,onOpenChange:()=>h(null),children:g.jsxs(_h,{children:[g.jsxs(Bv,{children:[g.jsx(zv,{children:"Confirmar Exclusão"}),g.jsxs(Yb,{children:["Tem certeza que deseja excluir o paciente ",g.jsx("strong",{children:d==null?void 0:d.name}),"? Todas as evoluções relacionadas também serão removidas. Esta ação não pode ser desfeita."]})]}),g.jsxs("div",{className:"flex space-x-3 mt-6",children:[g.jsx(St,{variant:"destructive",onClick:()=>d&&T(d),className:"flex-1",children:"Excluir"}),g.jsx(St,{variant:"outline",onClick:()=>h(null),className:"flex-1",children:"Cancelar"})]})]})})]})})},v5=()=>{const{id:t}=tM(),e=ZV(),{getPatientById:n}=vb(),{getEvolutionsByPatient:r,addEvolution:s,deleteEvolution:i}=Nv(),{toast:o}=Lh(),[a,c]=S.useState(!1),u=t?n(t):null,d=t?r(t):[],{register:h,handleSubmit:p,reset:m,formState:{errors:T}}=yb();if(!u)return g.jsx(mh,{children:g.jsxs("div",{className:"text-center py-12",children:[g.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Paciente não encontrado"}),g.jsxs(St,{onClick:()=>e("/"),variant:"outline",children:[g.jsx(q_,{className:"h-4 w-4 mr-2"}),"Voltar à Lista"]})]})});const w=v=>{if(!t)return;const x={patientId:t,date:new Date(v.date),description:v.description};s(x),c(!1),m(),o({title:"Evolução adicionada",description:"A evolução foi registrada com sucesso!"})},E=v=>{i(v),o({title:"Evolução removida",description:"A evolução foi removida com sucesso!"})},_=v=>{const[x,N,O]=v.split("-");return`${O}/${N}/${x}`};return g.jsx(mh,{children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(St,{onClick:()=>e("/"),variant:"outline",size:"sm",children:[g.jsx(q_,{className:"h-4 w-4 mr-2"}),"Voltar"]}),g.jsxs(St,{onClick:()=>c(!0),className:"bg-gradient-primary hover:opacity-90",children:[g.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Nova Evolução"]})]}),g.jsxs(br,{className:"shadow-card",children:[g.jsx(Pa,{className:"bg-gradient-primary text-primary-foreground",children:g.jsxs(Ra,{className:"flex items-center space-x-3",children:[g.jsx(CS,{className:"h-6 w-6"}),g.jsx("span",{children:u.name})]})}),g.jsxs(Pr,{className:"p-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Idade"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.age," anos"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[g.jsx(SS,{className:"h-4 w-4 mr-1"}),"Telefone"]}),g.jsx("p",{className:"text-lg font-semibold text-foreground",children:u.phone})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Peso"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.weight," quilos"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Altura"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.height," m"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"CPF"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.cpf," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[_(u.dateOfBirth)," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.address," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Ponto de Referência"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.referencePoint," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Unidade de Origem"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.sourceUnit," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Agente Comunitário de Saúde"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.acs," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sexo"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.sex," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Atendimento"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.service," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Carteira Nacional de Saúde"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.cns," "]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Classificação de Risco"}),g.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[u.riskRating," "]})]}),u.email&&g.jsxs("div",{className:"space-y-1",children:[g.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[g.jsx(TS,{className:"h-4 w-4 mr-1"}),"Email"]}),g.jsx("p",{className:"text-lg font-semibold text-foreground",children:u.email})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cadastrado em"}),g.jsx("p",{className:"text-lg font-semibold text-foreground",children:u.createdAt.toLocaleDateString("pt-BR")})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Diagnóstico/Condição"}),g.jsx("p",{className:"text-foreground bg-muted p-3 rounded-md",children:u.diagnosis})]})]})]}),g.jsxs(br,{className:"shadow-card",children:[g.jsx(Pa,{children:g.jsxs(Ra,{className:"flex items-center justify-between",children:[g.jsxs("span",{children:["Evoluções (",d.length,")"]}),g.jsxs(cb,{variant:"secondary",className:"bg-accent/10 text-accent-foreground",children:[d.length," registro",d.length!==1?"s":""]})]})}),g.jsx(Pr,{children:d.length===0?g.jsxs("div",{className:"text-center py-8",children:[g.jsx(ES,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Nenhuma evolução registrada"}),g.jsx("p",{className:"text-muted-foreground mb-4",children:"Registre a primeira evolução deste paciente para acompanhar o progresso."}),g.jsxs(St,{onClick:()=>c(!0),className:"bg-gradient-primary hover:opacity-90",children:[g.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Primeira Evolução"]})]}):g.jsx("div",{className:"space-y-4",children:d.map(v=>g.jsxs("div",{className:"border border-border rounded-lg p-4 bg-gradient-card hover:shadow-card transition-all duration-300",children:[g.jsxs("div",{className:"flex items-start justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Ty,{className:"h-4 w-4 text-primary"}),g.jsx("span",{className:"font-semibold text-foreground",children:v.date.toLocaleDateString("pt-BR")})]}),g.jsx(St,{variant:"outline",size:"sm",onClick:()=>E(v.id),className:"border-destructive/50 text-destructive hover:bg-destructive hover:text-destructive-foreground",children:g.jsx(IS,{className:"h-4 w-4"})})]}),g.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:v.description}),g.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Registrado em ",v.createdAt.toLocaleDateString("pt-BR")," às ",v.createdAt.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]},v.id))})})]}),g.jsx(Tg,{open:a,onOpenChange:c,children:g.jsxs(_h,{className:"max-w-2xl",children:[g.jsx(Bv,{children:g.jsxs(zv,{className:"flex items-center space-x-2",children:[g.jsx(Ll,{className:"h-5 w-5"}),g.jsxs("span",{children:["Nova Evolução - ",u.name]})]})}),g.jsxs("form",{onSubmit:p(w),className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"date",children:"Data do Atendimento *"}),g.jsx(Et,{id:"date",type:"date",...h("date",{required:"Data é obrigatória"}),defaultValue:new Date().toISOString().split("T")[0],className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),T.date&&g.jsx("p",{className:"text-sm text-destructive",children:T.date.message})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"description",children:"Descrição da Evolução *"}),g.jsx(Fv,{id:"description",...h("description",{required:"Descrição é obrigatória"}),placeholder:"Descreva o atendimento, exercícios realizados, progresso observado, orientações dadas...",rows:6,className:"transition-all duration-300 focus:ring-2 focus:ring-primary/20"}),T.description&&g.jsx("p",{className:"text-sm text-destructive",children:T.description.message})]}),g.jsxs("div",{className:"flex space-x-3 pt-4",children:[g.jsx(St,{type:"submit",className:"flex-1 bg-gradient-primary hover:opacity-90",children:"Salvar Evolução"}),g.jsx(St,{type:"button",variant:"outline",onClick:()=>{c(!1),m()},className:"flex-1",children:"Cancelar"})]})]})]})})]})})},w5=()=>{const t=Ly();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),g.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},_5=new xV,E5=()=>{const{isAuthenticated:t,loading:e}=Qc();return e?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),g.jsx("p",{className:"mt-4 text-muted-foreground",children:"Carregando..."})]})}):t?g.jsx(wM,{children:g.jsxs(gM,{children:[g.jsx(id,{path:"/",element:g.jsx(y5,{})}),g.jsx(id,{path:"/patient/:id",element:g.jsx(v5,{})}),g.jsx(id,{path:"*",element:g.jsx(w5,{})})]})}):g.jsx(LU,{})},x5=()=>g.jsx(SV,{client:_5,children:g.jsxs(JO,{children:[g.jsx(D2,{}),g.jsx(dD,{}),g.jsx(kU,{children:g.jsx(E5,{})})]})});HT(document.getElementById("root")).render(g.jsx(x5,{}));
